{"version":3,"sources":["MapCore/Models/Enums/Orientation.ts","A100/view/Introducing.tsx","MapCore/Models/Enums/StillageSize/StillageSize.ts","MapCore/Models/Enums/Colors/StillageColors.ts","MapCore/Models/Enums/StillageSize/StillageSizeReducer.ts","MapCore/Models/Enums/Colors/DefectColors.ts","MapCore/Models/Enums/DefectRadius/DefectRadius.ts","MapCore/Models/Enums/DefectRadius/DefectRadiusReducer.ts","MapCore/Data/Emit.ts","MapCore/Components/Defect.tsx","MapCore/Models/Enums/SignaturePosition.ts","MapCore/Components/PlaceSignature.tsx","MapCore/Models/Enums/MapStillageType.ts","MapCore/Components/SIgnature.tsx","MapCore/Models/Enums/Vectors.ts","MapCore/Models/Enums/LayerType.ts","MapCore/Models/Enums/Position.ts","MapCore/Services/StillageService.tsx","MapCore/Components/Stage/DeleteCircle.tsx","MapCore/Models/Enums/LabelButtonMode.ts","MapCore/Components/Stage/AddCircle.tsx","MapCore/Components/Stillage.tsx","MapCore/Components/Stage/LabelButton.tsx","MapCore/Components/Wall.tsx","MapCore/Data/AppState.ts","MapCore/Models/Enums/MapIconsType.ts","MapCore/Components/Page/Panels/ElementsPanel.tsx","MapCore/Data/Images.tsx","MapCore/Data/ElementsSource.ts","MapCore/Components/MapObject.tsx","MapCore/Components/Text.tsx","MapCore/Components/Page/Panels/DefectBrowsePanel.tsx","MapCore/Services/WallService.ts","MapCore/Services/ObjectService.ts","MapCore/Services/LayerService.ts","A100/data/A100ConnectionData.ts","A100/data/BaseUrl.ts","A100/api/MapAPI.ts","A100/data/MapSource.ts","A100/model/enums/LogType.ts","MapCore/Map.tsx","LogHandler/LogHandler.ts","A100/view/MapView.tsx","A100/components/Router.tsx","A100/App.tsx","serviceWorker.ts","index.tsx","MapCore/Assets/compStillage.png","MapCore/Assets/compStillageTop.png","MapCore/Assets/compStillageVertLeft.png","MapCore/Assets/compStillageVertRight.png","MapCore/Assets/compStillageSmall.png","MapCore/Assets/compStillageSmallTop.png","MapCore/Assets/compStillageSmallVertLeft.png","MapCore/Assets/compStillageSmallVertRight.png","MapCore/Assets/lightbulb.png","MapCore/Assets/idea.png","MapCore/Assets/firewall.png","MapCore/Assets/wallHor.png","MapCore/Assets/wallVert.png","MapCore/Assets/closeShape.png"],"names":["Orientation","Introducing","props","React","Component","StillageSize","StillageColors","StillageSizeReducer","A100SizeK","stillageSize","NORMAL","firstSide","secondSide","pmCount","orientation","scale","isBlockScaling","HORIZONTAL","this","VERTICAL","DefectColors","DefectRadius","DefectRadiusReducer","color","GREEN","radius","centeringValue","YELLOW","RED","Emit","Emitter","events","EventEmitter","SignaturePosition","Defect","state","parentSource","parentScale","parentKey","parentX","parentY","parentOrientation","source","openModal","bind","thisForceUpdate","addListener","console","log","emit","newParentX","newParentY","setState","vik","defectOptions","GetRadius","deltaX","deltaY","place","key","level","onTap","onClick","x","y","fill","PlaceSignature","parentPlaceSignatures","parentDefects","forceSource","parenKey","newSource","ps","delta","A100CellSize","title","length","getScaleK","fontSize","text","VERTICAL_PARENT_SCALE_K_BIG","HORIZONTAL_PARENT_SCALE_K_BIG","VERTICAL_PARENT_SCALE_K_SMALL","HORIZONTAL_PARENT_SCALE_K_SMALL","MapStillageType","Signature","getSignatureSize","position","BOTTOM","width","height","DEFAULT_SMALL_SIDE_SIZE","TOP","LEFT","RIGHT","parentSize","signatureForceUpdate","_x","_y","_width","_height","block","cornerRadius","_fontSize","signatureFont","m1","STILLAGE_SIZE_K","Vectors","LayerType","Position","StillageService","stillageSizeReducer","smallPlaceSignatures","bigPlaceSignatures","signature","points","pointerLength","pointerWidth","stroke","strokeWidth","STILLAGES","ё","selectedLayer","coords","type","_key","_id","sort","stillages","asc","e","id","toString","NORMAL_BOTTOM","size","placeSignatures","viks","NORMAL_TOP","NORMAL_LEFT_VERT","NORMAL_RIGHT_VERT","SMALL_BOTTOM","SMALL","SMALL_TOP","SMALL_LEFT_VERT","SMALL_RIGHT_VERT","parentExtremePSTitle","toMin","parsedTitle","parseInt","stillagesList","bs","search_in_associative","DeleteCircle","parentType","deleteShape","deleteCircle","deleteCross","fontStyle","LIGHTING","WALLS","startX","startY","LabelButtonMode","AddCircle","mapStillages","addCircleClickAction","fAddCircle","sAddCircle","fAddCircleText","sAddCircleText","firstSideCheck","secondSideCheck","i","Stillage","stillageService","handleDragStart","target","setAttrs","shadowOffset","shadowColor","scaleX","scaleY","handleDragEnd","to","duration","easing","Konva","Easings","ElasticEaseOut","isMoveEnabled","isAdding","setStillageMoveEnabled","setStillageMoveNow","isAddingChange","setIsAddingChange","placeSignaturesForceUpdate","signaturesForceUpdate","newPlaces","forceUpdate","newSignature","value","evt","which","shape","stillage","addCircles","stillageMoveArrows","getStillageArrows","undefined","forEach","element","push","redDefects","greenDefects","yellowDefects","onDblTap","onDblClick","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","GetA100Size","STILLAGE_NORMAL","STILLAGE_NORMAL_STROKE","onDragStart","onDragEnd","LabelButton","sourceKey","objectSource","labelMode","isStart","startLabelButton","endLabelButton","OnMouseHandler","Wall","clickHandler","cursorCoords","isDelete","isAddLabelButton","WallOnClickHandler","OnMouseHandlerValue","setShapeMoveNow","labelButton","ADD","draggable","AppState","State","MapIconsType","ElementsPanel","selectedCategory","isToggled","selectedElementIndex","categoryTitleClickHandler","num","el","selectedEl","index","content","categories","elements","className","style","elementMouseClickHandler","elementMouseDownHandler","alt","cursor","padding","border","borderRadius","src","photo","j","Images","stillage1","stillage2","stillage3","stillage4","stillage5","stillage6","stillage7","stillage8","lightbulb","idea","firewall","wallHor","wallVert","closeShape","ElementSource","stillageType","MapObject","image","window","Image","onload","Text","fontFamily","DefectBrowsePanel","innerWidth","selected","JSON","stringify","selectedPage","panelWidthPer","fullWidthPx","isResize","isPhotoWatcher","selectedPhoto","defectPhotos","date","getDate","getMonth","getFullYear","pager","pagerPages","pageNum","photoWatcher","wrapper","marginLeft","closePanel","row","elementName","elementSize","background","colorTitle","defectType","elementManufacturer","defectDate","split","isRepaired","repairDate","detailsCount","comment","backgroundImage","repairsPhotos","opacity","WallService","walls","wall","upDownCoords","stageDeviation","Math","abs","down","up","list","_wall","moveStageParams","clientX","clientY","ObjectService","objects","shapesList","LayerService","selectedUnit","layers","getLayerNameByType","mapIconsType","getMapIconsTypeByLayerType","start","end","a","b","mid","floor","SIGNATURES","ABSTRACTS","DRAWING","IMAGE","TEXT","selectedLayers","layersList","returnState","is","created","object","item","search","badEls","k","includes","indexOf","splice","layer","selectedStillageToAdd","getStillageSourceItem","newSWidth","newSHeight","newSStartX","newSStartY","elStartX","elStartY","elEndX","elEndY","A100ConnectionData","data","resoultID","NaN","BaseUrl","url","MapAPI","connectionData","Promise","resolve","fetch","method","then","response","json","body","catch","setTimeout","MapSource","GetMap","mapAPI","getMap","LogType","Map","objectService","layerService","wallService","animates","animationIDs","handleWheel","preventDefault","getLayerIndexByTypeBinary","stage","getStage","oldScale","mousePointTo","getPointerPosition","newScale","stageScales","stageScale","stageX","stageY","lazyLoading","isAddCircleAdding","isToggledToAdd","lastAddedItemType","lastAddedItem","isShapeMoveEnable","isShapeMovingNow","selectedShapeForMove","isWallUnderChild","wallLayerIndex","wallIndex","isMouseDown","isOnlyRed","isDrawing","cncFlag","isDefectBrowsePanel","layersSelected","isAddLayerModal","isIncreaseResizingLength","resizingWallIndex","isWallResizingNow","selectedWallToResize","resizeCursorCoordinates","actionEndX","actionEndY","filtersOnChangeAction","ElementOnDrop","MapWrapperOnMouseMove","deleteWall","cncFlagChange","addElement","selectLayerToList","StageOnMouseDownHandler","StageOnMouseUpHandler","StageOnMouseMoveHandler","defectBrowsePanelWorker","addLayerModalWorker","stageDragEnd","wallLabelButtonInteractionWayUp","wallLabelButtonInteractionWayDown","setIsShapeMoveEnable","moveShapeByStep","setIsShapeMovingNow","mapShapeClick","setAddCirclesVisibility","addSameShape","mapSetState","selectedVik","selectedStillage","document","getElementById","animate","iterations","Infinity","prevProps","prevState","snapshot","prevShape","layerIndex","nextStillage","prevStillage","_layer","places","obj","stillageSearchByID","searchByID","getWallIndexByID","shapeType","shapeSource","vector","stillageLayerIndex","searchedObj","lightingLayerIndex","light","wallsLayerIndex","resizeWall","found","deleteBadWalls","wallSource","_index","getLayerIndex","_source","getLayerSourceItem","modalMode","_length","hasUnderChild","getWallSourceItem","alert","_layerIndex","getObjectSourceItem","checkName","cancel","error","unitsTitles","layersTitles","texts","innerHeight","fontWeight","blocks","filters","elementsPanel","defectBrowsePanel","onChange","outline","marginRight","checked","textElement","_mapStillages","layerNum","textEl","name","paddingLeft","display","check","keys","filter","onDragOver","stopPropagation","onDrop","stageOnClickHandler","onMouseMove","onTouchMove","onWheel","PureComponent","LogHandler","componentName","message","LOG","ERROR","MapView","location","urlParams","queryString","parse","mapSource","handle","that","isNaN","Router","exact","path","component","App","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"iMACKA,E,4FCIgBC,E,YAEjB,WAAYC,GAA2B,qEAC7BA,I,sEAIN,OACI,wE,GAR6BC,IAAMC,W,yCDJ1CJ,K,wBAAAA,E,qBAAAA,M,KAKUA,IELVK,EFKUL,K,SELVK,K,gBAAAA,E,eAAAA,M,KAKUA,ICNVC,EDMUD,IEDME,E,iDACVC,UAAY,G,oDAGJC,GAYX,OAXoCA,IAAiBJ,EAAaK,OAC9D,CACIC,UAAW,GACXC,WAAY,IAGZ,CACID,UAAW,GACXC,WAAY,M,kCAMTC,EAAiBC,EAA0BC,EAAeC,GACzE,OAAID,EAAQ,GAAKC,EACTF,IAAgBd,EAAYiB,WACrB,CACHN,UAAWO,KAAKV,UAAYK,EAAUE,EACtCH,WAAYM,KAAKV,UAAYO,EAAQ,GAElCD,IAAgBd,EAAYmB,SAC5B,CACHR,UAAWO,KAAKV,UAAYO,EAAQ,EACpCH,WAAYM,KAAKV,UAAYK,EAAUE,GAGpC,CACHJ,UAAW,EACXC,WAAY,GAGH,IAAVG,GAAeC,EAClBF,IAAgBd,EAAYiB,WACrB,CACHN,UAAWO,KAAKV,UAAYK,EAAU,EACtCD,WAAYM,KAAKV,UAAYO,EAAQ,GAElCD,IAAgBd,EAAYmB,SAC5B,CACHR,UAAWO,KAAKV,UAAYO,EAAQ,EACpCH,WAAYM,KAAKV,UAAYK,EAAU,GAGpC,CACHF,UAAW,EACXC,WAAY,GAIhBE,IAAgBd,EAAYiB,WACrB,CACHN,UAAWO,KAAKV,UAAYK,EAAUE,EACtCH,WAAYM,KAAKV,UAAYO,GAE1BD,IAAgBd,EAAYmB,SAC5B,CACHR,UAAWO,KAAKV,UAAYO,EAC5BH,WAAYM,KAAKV,UAAYK,EAAUE,GAGpC,CAAEJ,UAAW,EAAGC,WAAY,O,eDvE9CN,K,0BAAAA,E,kCAAAA,M,KAKUA,IELVc,EFKUd,K,SELVc,K,cAAAA,E,iBAAAA,E,gBAAAA,E,SAAAA,M,KAOUA,ICNVC,EDMUD,K,SCNVC,O,cAAAA,I,oBAAAA,I,mBAAAA,M,KAOWA,QCJKC,E,kGACAC,GACb,OAAIA,IAAUH,EAAaI,MAChB,CACHC,OAAQJ,EAAaG,MACrBE,eAAiB,KAAOL,EAAaG,OAEpCD,IAAUH,EAAaO,OACrB,CACHF,OAAQJ,EAAaM,OACrBD,eAAiB,KAAOL,EAAaM,QAEpCJ,IAAUH,EAAaQ,IACrB,CACHH,OAAQJ,EAAaO,IACrBF,eAAiB,KAAOL,EAAaO,KAEtC,CACHH,OAAQ,EACRC,eAAgB,O,aCrBPG,E,kCAAAA,EACHC,QAAwB,I,OAAIC,EAAOC,cCMrD,ICTKC,EDUgBC,E,YACjB,WAAYhC,GAAQ,IAAD,8BACf,4CAAMA,KACDiC,MAAQ,CACTC,aAAc,EAAKlC,MAAMkC,aACzBC,YAAa,EAAKnC,MAAMmC,YACxBrB,eAAgB,EAAKd,MAAMc,eAC3BsB,UAAW,EAAKpC,MAAMoC,UACtBC,QAAS,EAAKrC,MAAMqC,QACpBC,QAAS,EAAKtC,MAAMsC,QACpBC,kBAAmB,EAAKvC,MAAMuC,kBAC9BC,OAAQ,EAAKxC,MAAMwC,QAGvB,EAAKC,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBAEvBf,EAAKC,QAAQgB,YAAY,qBAAsB,EAAKD,iBAhBrC,E,yEAoBfE,QAAQC,IAAI9B,KAAKiB,MAAMO,QACvBb,EAAKC,QAAQmB,KAAK,iBAAkB/B,KAAKiB,MAAMO,OAAQxB,KAAKiB,MAAMC,cAClEP,EAAKC,QAAQmB,KAAK,iCAAiC,K,sCAGhCX,EAAmBY,EAAoBC,GACtDb,IAAcpB,KAAKiB,MAAMG,WACzBpB,KAAKkC,SAAS,CAACb,QAASW,EAAYV,QAASW,M,+BAI3C,IAGFE,EAHC,SAC+EnC,KAAKiB,MAAjFI,EADH,EACGA,QAASC,EADZ,EACYA,QAASC,EADrB,EACqBA,kBAAmBC,EADxC,EACwCA,OAKvCY,GAND,EACgDjB,YADhD,EAC6DrB,gBACtC,IAAIM,GAIUiC,UAAUb,EAAOnB,QAGvDiC,EAAS,EACTC,EAAS,EA6Gb,OA1GIhB,IAAsBzC,EAAYiB,YAClCuC,EAAS,GAA2B,IAApBd,EAAOgB,MAAQ,GAC/BD,EAAS,GACTJ,EACI,kBAAC,SAAD,CACIM,IAAK,kBAAyBpB,EAAU,IAAMC,EAAU,IAAMC,EAAoB,IAAMC,EAAOgB,MAAQ,IAAMhB,EAAOkB,MAAQ,IAAMlB,EAAOnB,MACzIsC,MAAO,WACH,EAAKlB,aAETmB,QAAS,WACL,EAAKnB,aAETlB,OAAQ6B,EAAc7B,OACtBsC,EAAGxB,EAAUiB,EACbQ,EAAGxB,EAAUiB,EACbQ,KAAMvB,EAAOnB,SAGdkB,IAAsBzC,EAAYmB,WACzCqC,EAAS,GACTC,EAAS,GAA2B,IAApBf,EAAOgB,MAAQ,GAC/BL,EACI,kBAAC,SAAD,CACIM,IAAK,kBAAyBpB,EAAU,IAAMC,EAAU,IAAMC,EAAoB,IAAMC,EAAOgB,MAAQ,IAAMhB,EAAOkB,MAAQ,IAAMlB,EAAOnB,MACzIsC,MAAO,WACH,EAAKlB,aAETmB,QAAS,WACL,EAAKnB,aAETlB,OAAQ6B,EAAc7B,OACtBsC,EAAGxB,EAAUiB,EACbQ,EAAGxB,EAAUiB,EACbQ,KAAMvB,EAAOnB,SAyElB8B,M,GAvJqBlD,IAAMC,WEArB8D,E,YACjB,WAAYhE,GAAQ,IAAD,8BACf,4CAAMA,KAEDiC,MAAQ,CACTgC,sBAAuB,EAAKjE,MAAMiE,sBAClCnD,eAAgB,EAAKd,MAAMc,eAC3BqB,YAAa,EAAKnC,MAAMmC,YACxBxB,QAAS,EAAKX,MAAMW,QACpByB,UAAW,EAAKpC,MAAMoC,UACtBC,QAAS,EAAKrC,MAAMqC,QACpBC,QAAS,EAAKtC,MAAMsC,QACpBC,kBAAmB,EAAKvC,MAAMuC,kBAC9B2B,cAAe,EAAKlE,MAAMkE,cAC1B1B,OAAQ,EAAKxC,MAAMwC,QAGvB,EAAKC,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBACvB,EAAKyB,YAAc,EAAKA,YAAYzB,KAAjB,gBAEnBf,EAAKC,QAAQgB,YAAY,6BAA8B,EAAKD,iBAC5DhB,EAAKC,QAAQgB,YAAY,6BAA8B,EAAKuB,aArB7C,E,yEA+DAC,EAAkBZ,EAAea,GAC5CD,IAAapD,KAAKiB,MAAMG,WAAaoB,IAAUxC,KAAKiB,MAAMO,OAAOgB,OACjExC,KAAKkC,SAAS,CAAEV,OAAQ6B,M,kCAK5BxB,QAAQC,IAAI9B,KAAKiB,S,sCAIEG,EAAmBY,EAAoBC,GACtDb,IAAcpB,KAAKiB,MAAMG,WACzBpB,KAAKkC,SAAS,CAAEb,QAASW,EAAYV,QAASW,M,+BAI5C,IAGFqB,EAHC,SACgHtD,KAAKiB,MAAlHI,EADH,EACGA,QAASC,EADZ,EACYA,QAASC,EADrB,EACqBA,kBAAmBC,EADxC,EACwCA,OAAwC1B,GADhF,EACgDmD,sBADhD,EACuEtD,QADvE,EACgFG,gBAAgBqB,EADhG,EACgGA,YAGjGoC,EAAQ,EAmDZ,OAlDIhC,IAAsBzC,EAAYiB,YAClCwD,GAzFS,GAyFe/B,EAAOgB,OAASgB,GAAiB,EAAIhC,EAAOiC,MAAMC,SAAWvC,GAAerB,EAAiB,EAAI,GACzHwD,EAAK,kBAAC,OAAD,CACDb,IAAK,wBAA0BpB,EAAU,IAAMC,EAAU,IAAMC,EAAoB,IAAMC,EAAOgB,MAAQ,IAAMhB,EAAOiC,MAAQ,IAAMjC,EAAOiC,MAAMC,OAChJf,MAAO,WAAQ,EAAKlB,aACpBmB,QAAS,WAAQ,EAAKnB,aACtBoB,EAAGxB,EAAUkC,EACbT,EAAGxB,EAAU,EAAItB,KAAK2D,UACtBC,SAAU5D,KAAK4D,SACfb,KAAM,QACNc,KAAMrC,EAAOiC,SAGb3D,GACAyD,GAtGK,GAsGmB/B,EAAOgB,MAASgB,IAAqBrC,GAAerB,EAAiB,EAAI,GAAK,GACtGwD,EAAK,kBAAC,OAAD,CACDb,IAAK,wBAA0BpB,EAAU,IAAMC,EAAU,IAAMC,EAAoB,IAAMC,EAAOgB,MAAQ,IAAMhB,EAAOiC,MAAQ,IAAMjC,EAAOiC,MAAMC,OAChJf,MAAO,WACH,EAAKlB,aAETmB,QAAS,WACL,EAAKnB,aAEToB,EAAGxB,GAAW,GAAKF,EAAc,GAAKK,EAAOiC,MAAMC,QACnDZ,EAAGxB,EAAUiC,EACbK,SAAU5D,KAAK4D,SACfb,KAAM,QACNc,KAAMrC,EAAOiC,UAGjBF,GAtHK,GAsHmB/B,EAAOgB,OAASgB,GAAmBxD,KAAK4D,SAAW,IAAMzC,GAAerB,EAAiB,EAAI,GACrHwD,EAAK,kBAAC,OAAD,CACDb,IAAK,wBAA0BpB,EAAU,IAAMC,EAAU,IAAMC,EAAoB,IAAMC,EAAOgB,MAAQ,IAAMhB,EAAOiC,MAAQ,IAAMjC,EAAOiC,MAAMC,OAChJf,MAAO,WACH,EAAKlB,aAETmB,QAAS,WACL,EAAKnB,aAEToB,EAAGxB,EAAU,KAAOrB,KAAK2D,WAAanC,EAAOiC,MAAMC,OAAS,EAA2B,EAAtBlC,EAAOiC,MAAMC,OAAc,GAC5FZ,EAAGxB,EAAUiC,EACbK,SAAU5D,KAAK4D,SACfb,KAAM,QACNc,KAAMrC,EAAOiC,SAOlBH,I,gCA/GqB,IAAD,EACwCtD,KAAKiB,MAAhEE,EADmB,EACnBA,YAAaI,EADM,EACNA,kBAAmBzB,EADb,EACaA,eAAgB0B,EAD7B,EAC6BA,OAElDsC,EAA8B,GAAK3C,EACnC4C,EAAgC,GAAK5C,EACrC6C,EAAgC,GAAK7C,EACrC8C,EAAkC,GAAK9C,EAE7C,GAAIA,EAAc,GAAKrB,EAAgB,CACnC,GAAIyB,IAAsBzC,EAAYmB,SAAU,OAAO6D,EACvD,GAAIvC,IAAsBzC,EAAYiB,WAAY,OAAOgE,OACtD,GAAoB,IAAhB5C,GAAqBrB,EAAgB,CAC5C,GAAIyB,IAAsBzC,EAAYmB,SAAU,CAC5C,GAA4B,IAAxBuB,EAAOiC,MAAMC,OAAc,OAAOM,EACtC,GAA4B,IAAxBxC,EAAOiC,MAAMC,OAAc,OAAOM,EAAgC,EAE1E,GAAIzC,IAAsBzC,EAAYiB,WAAY,OAAOkE,EAE7D,OAAO,I,+BAGoB,IAAD,EAC+BjE,KAAKiB,MAAvDE,EADmB,EACnBA,YAAgCrB,GADb,EACNyB,kBADM,EACazB,gBAKvC,OAAIqB,EAAc,EAFW,GAIF,IAAhBA,GAAqBrB,EALA,GAOpBA,EAKL,EAbkB,O,GAhDWZ,c,SDVvC6B,K,UAAAA,E,YAAAA,E,cAAAA,E,iBAAAA,M,KAOUA,IEPVmD,EFOUnD,IGKMoD,E,YAEjB,WAAYnF,GAAQ,IAAD,8BACf,4CAAMA,KAmDVoF,iBAAmB,WAA0C,IAAD,EACoB,EAAKnD,MAAzEtB,EADgD,EAChDA,QAASwB,EADuC,EACvCA,YAAarB,EAD0B,EAC1BA,eAAgByB,EADU,EACVA,kBAAmBC,EADT,EACSA,OACjE,GAAoB,IAAhBL,GAAqBrB,GACrB,GAAIyB,IAAsBzC,EAAYiB,WAAY,CAC9C,GAAIyB,EAAO6C,WAAatD,EAAkBuD,OACtC,MAAO,CACHC,MA7DA,GA6DyB5E,EAAU,EAAI,EACvC6E,OAAQC,IAET,GAAIjD,EAAO6C,WAAatD,EAAkB2D,IAC7C,MAAO,CACHH,MAlEA,GAkEyB5E,EAAU,EAAI,EACvC6E,OAAQC,GAA4C,GAAdtD,QAG3C,GAAII,IAAsBzC,EAAYmB,SAAU,CACnD,GAAIuB,EAAO6C,WAAatD,EAAkB4D,KACtC,MAAO,CACHJ,MA1EQ,GA2ERC,OA1EA,GA0E0B7E,EAAU,EAAI,GAEzC,GAAI6B,EAAO6C,WAAatD,EAAkB6D,MAC7C,MAAO,CACHL,MA/EQ,GA+EyBpD,EAAc,EAAI,EACnDqD,OA/EA,GA+E0B7E,EAAU,SAI7C,GAAIwB,EAAc,EACrB,GAAII,IAAsBzC,EAAYiB,WAAY,CAC9C,GAAIyB,EAAO6C,WAAatD,EAAkBuD,OACtC,MAAO,CACHC,MAAiB,GAAV5E,EAAe,EAAI,EAC1B6E,OAzFQ,GAyF0BrD,EAAc,EAAI,IAErD,GAAIK,EAAO6C,WAAatD,EAAkB2D,IAC7C,MAAO,CACHH,MAAiB,GAAV5E,EAAe,EAAI,EAC1B6E,OA7FA,GA6F0BrD,EAAc,OAG7C,CACH,GAAIK,EAAO6C,WAAatD,EAAkB4D,KACtC,MAAO,CACHJ,MAnGA,GAmGyBpD,EAAc,EACvCqD,OAAkB,GAAV7E,EAAe,EAAI,GAE5B,GAAI6B,EAAO6C,WAAatD,EAAkB6D,MAC7C,MAAO,CACHL,MAzGQ,GAyGyBpD,EAAc,EAAI,GACnDqD,OAAkB,GAAV7E,EAAe,EAAI,QAIpC,IAAKG,EACR,OAAIyB,IAAsBzC,EAAYiB,WAC3B,CACHwE,MAAiB,GAAV5E,EAAe,EACtB6E,OAAQ,IAGL,CACHD,MAAO,GACPC,OAAkB,GAAV7E,EAAe,GAInC,MAAO,CAAE4E,MAAO,EAAGC,OAAQ,IApH3B,EAAKvD,MAAQ,CACTnB,eAAgB,EAAKd,MAAMc,eAC3BqB,YAAa,EAAKnC,MAAMmC,YACxBxB,QAAS,EAAKX,MAAMW,QACpByB,UAAW,EAAKpC,MAAMoC,UACtBC,QAAS,EAAKrC,MAAMqC,QACpBC,QAAS,EAAKtC,MAAMsC,QACpBC,kBAAmB,EAAKvC,MAAMuC,kBAC9BsD,WAAY,EAAK7F,MAAM6F,WACvBrD,OAAQ,EAAKxC,MAAMwC,QAGvB,EAAKG,gBAAkB,EAAKA,gBAAgBD,KAArB,gBACvB,EAAKoD,qBAAuB,EAAKA,qBAAqBpD,KAA1B,gBAE5Bf,EAAKC,QAAQgB,YAAY,+BAAgC,EAAKD,iBAC9DhB,EAAKC,QAAQgB,YAAY,uBAAwB,EAAKkD,sBAnBvC,E,kFAsBS1D,EAAmBiC,GACvCjC,IAAcpB,KAAKiB,MAAMG,WACzBpB,KAAKkC,SAAS,CAAEV,OAAQ6B,M,sCAoHTjC,EAAmBY,EAAoBC,GACtDb,IAAcpB,KAAKiB,MAAMG,WACzBpB,KAAKkC,SAAS,CAAEb,QAASW,EAAYV,QAASW,M,+BAS5C,IAEF8C,EAAIC,EAAIC,EAFP,EACqGjF,KAAKiB,MAAvGI,EADH,EACGA,QAASC,EADZ,EACYA,QAASC,EADrB,EACqBA,kBAA+BC,GADpD,EACwCqD,WADxC,EACoDrD,QAAQ7B,EAD5D,EAC4DA,QAASG,EADrE,EACqEA,eAAgBqB,EADrF,EACqFA,YACtE+D,EAAU,EAE1B3D,IAAsBzC,EAAYmB,UAElCgF,EAASjF,KAAKoE,mBAAmBG,MACjCW,EAAUlF,KAAKoE,mBAAmBI,OAC9BhD,EAAO6C,WAAatD,EAAkB6D,OACtCK,GAAWnF,EAAqB,EAAJ,EAC5BiF,EAAK1D,GAAWvB,EAAiB,EAAIqB,EAAc,GACnD6D,EAAK1D,EAAU,IACRE,EAAO6C,WAAatD,EAAkB4D,OAC7CI,EAAK1D,GAAYvB,EAAwB,GAAKqB,EAAZ,MAClC6D,EAAK1D,EAAU,MAInB2D,EAASjF,KAAKoE,mBAAmBG,MACjCW,EAAUlF,KAAKoE,mBAAmBI,OAC9BhD,EAAO6C,WAAatD,EAAkB2D,KACtCK,EAAK1D,EAAU,GACf2D,EAAK1D,GAAYxB,EAAwB,GAAKqB,EAAZ,OAC3BK,EAAO6C,WAAatD,EAAkBuD,SAC7CY,GAAYpF,EAAqB,EAAJ,EAC7BiF,EAAK1D,EAAU,GACf2D,EAAK1D,IAIb,IAAI6D,EACA,kBAAC,OAAD,CACI1C,IAAKzC,KAAKiB,MAAMG,UAAY,kBAC5BgE,aAAc,EACdvC,EAAGkC,EACHjC,EAAGkC,EACHT,MAAOU,EACPT,OAAQU,EACRnC,KAAM,YAKVsC,EAAYrF,KAAKsF,cACrB,GAAKxF,EAkCE,CACH,IAGIyF,EAHO,GACG,EACO/D,EAAOiC,MAAMC,QAGd,IAAhBvC,EACII,IAAsBzC,EAAYmB,SAC9BuB,EAAO6C,WAAatD,EAAkB6D,OACtCG,EAAK1D,EAAUmE,GAAsBD,EACrCP,EAAK1D,EAlPL,GAkPiC3B,GAC1B6B,EAAO6C,WAAatD,EAAkB4D,OAC7CI,GAAMQ,EACNP,EAAK1D,EArPL,GAqPiC3B,GAGjC6B,EAAO6C,WAAatD,EAAkBuD,QACtCS,EAAK1D,EAzPL,GAyPiC1B,EAAgC,EAAtB6B,EAAOiC,MAAMC,OACxDsB,EAAK1D,EAAUmD,GAA8B,IACtCjD,EAAO6C,WAAatD,EAAkB2D,MAC7CK,EAAK1D,EA5PL,GA4PiC1B,EAAgC,EAAtB6B,EAAOiC,MAAMC,OACxDsB,GAAM,GAGP7D,EAAc,IACjBI,IAAsBzC,EAAYmB,SAC9BuB,EAAO6C,WAAatD,EAAkB6D,OACtCG,EAAK1D,EAnQL,GAmQiCF,EAAc,EAAIA,EAAcoE,EACjEP,EAAK1D,EApQL,GAoQiC3B,GAC1B6B,EAAO6C,WAAatD,EAAkB4D,OAE7CI,GAAUQ,EACVP,EAAK1D,EAxQL,GAwQiC3B,GAGjC6B,EAAO6C,WAAatD,EAAkBuD,QACtCS,EAAK1D,EA5QL,GA4QiC1B,EAAgC,EAAtB6B,EAAOiC,MAAMC,OACxDsB,EAAK1D,EA9QG,GA8QiCH,EAAc,EAAI,GAAKA,GACzDK,EAAO6C,WAAatD,EAAkB2D,MAC7CK,EAAK1D,EA/QL,GA+QiC1B,EAAgC,EAAtB6B,EAAOiC,MAAMC,OACxDsB,GAAoB,EAAd7D,SAzEdI,IAAsBzC,EAAYiB,WAC9ByB,EAAO6C,WAAatD,EAAkB2D,KACtCK,EAAK1D,GAAsB,GAAV1B,EAAe,EAAM6B,EAAOiC,MAAMC,OAAS2B,EAAY,GAAM7D,EAAOiC,MAAMC,OAC3FsB,EAAK1D,EAAU,IACRE,EAAO6C,WAAatD,EAAkBuD,SAC7CS,EAAK1D,GAAsB,GAAV1B,EAAe,EAAM6B,EAAOiC,MAAMC,OAAS2B,EAAY,GAAM7D,EAAOiC,MAAMC,OAC3FsB,EAAK1D,EAAU,IAEZC,IAAsBzC,EAAYmB,WACrCuB,EAAO6C,WAAatD,EAAkB4D,MACtCI,EAAK1D,EAAU,GACf2D,EAAK1D,GAAsB,GAAV3B,EAAe,EAAM6B,EAAOiC,MAAMC,OAAS2B,EAAY,GAAM7D,EAAOiC,MAAMC,OAC/D,IAAxBlC,EAAOiC,MAAMC,OACbqB,EAAK1D,EAAU,GACgB,IAAxBG,EAAOiC,MAAMC,QAEblC,EAAOiC,MAAMC,OAAS,IAC7BsB,EAAK1D,EAAU,GACf+D,EAAY,IAET7D,EAAO6C,WAAatD,EAAkB6D,QAC7CI,EAAK1D,GAAsB,GAAV3B,EAAe,EAAM6B,EAAOiC,MAAMC,OAAS2B,EAAY,GAAM7D,EAAOiC,MAAMC,OAC/D,IAAxBlC,EAAOiC,MAAMC,OACbqB,EAAK1D,EAAU,GACgB,IAAxBG,EAAOiC,MAAMC,OACpBqB,EAAK1D,EAAU,KACRG,EAAOiC,MAAMC,OAAS,IAC7BqB,EAAK1D,EAAU,GACf2D,EAAK1D,EAAU,GACf+D,EAAY,KA+D5B,MAFc,CAACF,EAVX,kBAAC,OAAD,CACI1C,IAAKzC,KAAKiB,MAAMG,UAAY,kBAC5ByB,EAAGkC,EACHjC,EAAGkC,EACHnB,KAAMrC,EAAOiC,MACbV,KAAM,UACNa,SAAUyB,O,6BA9PO,IAAD,EACmCrF,KAAKiB,MADxC,EAChBE,YADgB,EACHrB,eADG,EACayB,kBAQrC,OAAO,I,kCAGuB,IAAD,EACoBvB,KAAKiB,MAArCE,GADY,EACrBxB,QADqB,EACZwB,aAAarB,EADD,EACCA,eAC9B,OAAoB,IAAhBqB,GAAqBrB,EACd,EAAIqB,EACJA,EAAc,EACd,EACCrB,EAGL,EAFI,I,oCA2EqB,IAAD,EACSE,KAAKiB,MAArCE,EADuB,EACvBA,YAER,GAH+B,EACVrB,eAED,CAChB,GAAIqB,EAAc,EACd,OApIoB,GAoIiBA,EAClC,GAAoB,IAAhBA,EACP,OAtIoB,GAsIiBA,EAI7C,OA1I4B,O,GAGGjC,a,mCDZlCgF,K,wBAAAA,E,8BAAAA,E,oCAAAA,E,sCAAAA,E,sBAAAA,E,4BAAAA,E,kCAAAA,E,qCAAAA,M,KAaUA,IEbVuB,EFaUvB,K,SEbVuB,K,UAAAA,E,YAAAA,E,cAAAA,E,iBAAAA,M,KAOUA,ICPVC,EDOUD,K,SCPVC,K,qBAAAA,E,sBAAAA,E,wBAAAA,E,cAAAA,E,oBAAAA,E,aAAAA,M,KASUA,ICTVC,EDSUD,IEQME,E,WA8BjB,aAAe,yBA5BRC,yBA4BO,OA1BPC,qBAAuB,CAC1B,CACItD,MAAO,EACPiB,MAAO,KAEX,CACIjB,MAAO,EACPiB,MAAO,MAmBD,KAfPsC,mBAAqB,CACxB,CACIvD,MAAO,EACPiB,MAAO,KAEX,CACIjB,MAAO,EACPiB,MAAO,KAEX,CACIjB,MAAO,EACPiB,MAAO,MAKXzD,KAAK6F,oBAAsB,IAAIxG,E,8DAGVmC,GAErB,GAAIA,EAAO5B,cAAgBd,EAAYiB,WAAY,CAC/C,GAAIyB,EAAOwE,UAAW3B,WAAatD,EAAkB2D,IACjD,MAAO,CAEC,kBAAC,QAAD,CACIjC,IAAKjB,EAAOiB,IAAM,cAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,EACdmD,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBC,eAAgB,GAChBC,cAAe,GACfpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQd,SAI7F,kBAAC,QAAD,CACIlC,IAAKjB,EAAOiB,IAAM,eAClBI,EAAGrB,EAAOqB,EAAI,IACdC,EAAGtB,EAAOsB,EAAI,EACdmD,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQb,UAI7F,kBAAC,QAAD,CACInC,IAAKjB,EAAOiB,IAAM,aAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,EAAE,IAAK,IAAK,IAAK,IACzBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQf,MAAK6B,UAAC,IAInG,kBAAC,QAAD,CACI9D,IAAKjB,EAAOiB,IAAM,gBAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,CAAC,GAAI,GAAI,EAAG,GACpBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQnB,YAIlG,GAAI9C,EAAOwE,UAAW3B,WAAatD,EAAkBuD,OACxD,MAAO,CAEC,kBAAC,QAAD,CACI7B,IAAKjB,EAAOiB,IAAM,cAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBC,eAAgB,GAChBC,cAAe,GACfpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQd,SAI7F,kBAAC,QAAD,CACIlC,IAAKjB,EAAOiB,IAAM,eAClBI,EAAGrB,EAAOqB,EAAI,IACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQb,UAI7F,kBAAC,QAAD,CACInC,IAAKjB,EAAOiB,IAAM,aAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,EAAE,IAAK,IAAK,IAAK,IACzBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQf,QAI7F,kBAAC,QAAD,CACIjC,IAAKjB,EAAOiB,IAAM,gBAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,CAAC,GAAI,GAAI,EAAG,GACpBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQnB,gBAKtG,CACH,GAAI9C,EAAOwE,UAAW3B,WAAatD,EAAkB4D,KACjD,MAAO,CAEC,kBAAC,QAAD,CACIlC,IAAKjB,EAAOiB,IAAM,cAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBC,eAAgB,GAChBC,cAAe,GACfpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQd,SAI7F,kBAAC,QAAD,CACIlC,IAAKjB,EAAOiB,IAAM,eAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQb,UAI7F,kBAAC,QAAD,CACInC,IAAKjB,EAAOiB,IAAM,aAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,EAAE,IAAK,IAAK,IAAK,IACzBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQf,QAI7F,kBAAC,QAAD,CACIjC,IAAKjB,EAAOiB,IAAM,gBAClBI,EAAGrB,EAAOqB,EAAI,EACdC,EAAGtB,EAAOsB,EAAI,IACdmD,OAAQ,CAAC,GAAI,GAAI,EAAG,GACpBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQnB,YAIlG,GAAI9C,EAAOwE,UAAW3B,WAAatD,EAAkB6D,MACxD,MAAO,CAEC,kBAAC,QAAD,CACInC,IAAKjB,EAAOiB,IAAM,cAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBC,eAAgB,GAChBC,cAAe,GACfpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQd,SAI7F,kBAAC,QAAD,CACIlC,IAAKjB,EAAOiB,IAAM,eAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQb,UAI7F,kBAAC,QAAD,CACInC,IAAKjB,EAAOiB,IAAM,aAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdmD,OAAQ,EAAE,IAAK,IAAK,IAAK,IACzBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQf,QAI7F,kBAAC,QAAD,CACIjC,IAAKjB,EAAOiB,IAAM,gBAClBI,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,IACdmD,OAAQ,CAAC,GAAI,GAAI,EAAG,GACpBC,cAAe,GACfC,aAAc,GACdpD,KAAM,UACNqD,OAAQ,UACRC,YAAa,GAEbzD,QAAS,kBAAMjC,EAAKC,QAAQmB,KAAK,kBAAmBP,EAAQkE,EAAUY,UAAWb,EAAQnB,YAM7G,MAAO,K,4CAGkBkC,EAA+BC,EAAkCC,GAC1F,IAAiBC,EAAbC,EAAM,EAOV,OANAC,YAAKL,EAAcM,WAAYC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,MACF,IAApCT,EAAcM,UAAWpD,SACzBkD,EAAMJ,EAAcM,UAAWN,EAAcM,UAAWpD,OAAS,GAAGuD,IAExEL,IACAD,EAAOH,EAAc/D,IAAM,aAAemE,EAAIM,WACtCR,GACJ,KAAKxC,EAAgBiD,cACjB,MAAO,CACHF,GAAIL,EACJnE,IAAKkE,EACL9D,EAAG4D,EAAO5D,EACVC,EAAG2D,EAAO3D,EACVyB,MAAO,GACPC,OAAQ,KACR5E,YAAad,EAAYiB,WACzBiG,UAAW,CACPvC,MAAO,IACPY,SAAUtD,EAAkBuD,QAEhC8C,KAAMjI,EAAaK,OACnB6H,gBAAiBrH,KAAK+F,mBACtBuB,KAAM,IAGd,KAAKpD,EAAgBqD,WACjB,MAAO,CACHN,GAAIL,EACJnE,IAAKkE,EACL9D,EAAG4D,EAAO5D,EACVC,EAAG2D,EAAO3D,EACVyB,MAAO,GACPC,OAAQ,KACR5E,YAAad,EAAYiB,WACzBiG,UAAW,CACPvC,MAAO,IACPY,SAAUtD,EAAkB2D,KAEhC0C,KAAMjI,EAAaK,OACnB6H,gBAAiBrH,KAAK+F,mBACtBuB,KAAM,IAGd,KAAKpD,EAAgBsD,iBACjB,MAAO,CACHP,GAAIL,EACJnE,IAAKkE,EACL9D,EAAG4D,EAAO5D,EACVC,EAAG2D,EAAO3D,EACVyB,MAAO,KACPC,OAAQ,GACR5E,YAAad,EAAYmB,SACzB+F,UAAW,CACPvC,MAAO,IACPY,SAAUtD,EAAkB4D,MAEhCyC,KAAMjI,EAAaK,OACnB6H,gBAAiBrH,KAAK+F,mBACtBuB,KAAM,IAGd,KAAKpD,EAAgBuD,kBACjB,MAAO,CACHR,GAAIL,EACJnE,IAAKkE,EACL9D,EAAG4D,EAAO5D,EACVC,EAAG2D,EAAO3D,EACVyB,MAAO,KACPC,OAAQ,GACR5E,YAAad,EAAYmB,SACzB+F,UAAW,CACPvC,MAAO,IACPY,SAAUtD,EAAkB6D,OAEhCwC,KAAMjI,EAAaK,OACnB6H,gBAAiBrH,KAAK+F,mBACtBuB,KAAM,IAGd,KAAKpD,EAAgBwD,aACjB,MAAO,CACHT,GAAIL,EACJnE,IAAKkE,EACL9D,EAAG4D,EAAO5D,EACVC,EAAG2D,EAAO3D,EACVyB,MAAO,GACPC,OAAQ,KACR5E,YAAad,EAAYiB,WACzBiG,UAAW,CACPvC,MAAO,IACPY,SAAUtD,EAAkBuD,QAEhC8C,KAAMjI,EAAawI,MACnBN,gBAAiBrH,KAAK8F,qBACtBwB,KAAM,IAGd,KAAKpD,EAAgB0D,UACjB,MAAO,CACHX,GAAIL,EACJnE,IAAKkE,EACL9D,EAAG4D,EAAO5D,EACVC,EAAG2D,EAAO3D,EACVyB,MAAO,GACPC,OAAQ,KACR5E,YAAad,EAAYiB,WACzBiG,UAAW,CACPvC,MAAO,IACPY,SAAUtD,EAAkB2D,KAEhC0C,KAAMjI,EAAawI,MACnBN,gBAAiBrH,KAAK8F,qBACtBwB,KAAM,IAGd,KAAKpD,EAAgB2D,gBACjB,MAAO,CACHZ,GAAIL,EACJnE,IAAKkE,EACL9D,EAAG4D,EAAO5D,EACVC,EAAG2D,EAAO3D,EACVyB,MAAO,KACPC,OAAQ,GACR5E,YAAad,EAAYmB,SACzB+F,UAAW,CACPvC,MAAO,IACPY,SAAUtD,EAAkB4D,MAEhCyC,KAAMjI,EAAawI,MACnBN,gBAAiBrH,KAAK8F,qBACtBwB,KAAM,IAGd,KAAKpD,EAAgB4D,iBACjB,MAAO,CACHb,GAAIL,EACJnE,IAAKkE,EACL9D,EAAG4D,EAAO5D,EACVC,EAAG2D,EAAO3D,EACVyB,MAAO,KACPC,OAAQ,GACR5E,YAAad,EAAYmB,SACzB+F,UAAW,CACPvC,MAAO,IACPY,SAAUtD,EAAkB6D,OAEhCwC,KAAMjI,EAAawI,MACnBN,gBAAiBrH,KAAK8F,qBACtBwB,KAAM,O,iDAMY/H,EAA4BwI,EAA8BC,GACxF,IAAIC,EAAcC,SAASH,GAC3B,OAAIxI,IAAiBJ,EAAaK,OAC1BwI,EACO,CACH,CACIxF,MAAO,EACPiB,OAAQwE,EAAc,GAAGf,YAE7B,CACI1E,MAAO,EACPiB,OAAQwE,EAAc,GAAGf,YAE7B,CACI1E,MAAO,EACPiB,OAAQwE,EAAc,GAAGf,aAI1B,CACH,CACI1E,MAAO,EACPiB,OAAQwE,EAAc,GAAGf,YAE7B,CACI1E,MAAO,EACPiB,OAAQwE,EAAc,GAAGf,YAE7B,CACI1E,MAAO,EACPiB,OAAQwE,EAAc,GAAGf,cAIb/H,EAAawI,MAOlC,M,yCAGeQ,EAAoClB,GAC1D,OAAOmB,IAAGC,sBAAsBF,EAAe,KAAMlB,O,KCzfxCqB,E,YACjB,WAAYtJ,GAAQ,IAAD,8BACf,4CAAMA,KACDiC,MAAQ,CACTO,OAAQ,EAAKxC,MAAMwC,OACnB+G,WAAY,EAAKvJ,MAAMuJ,YAE3B,EAAKC,YAAc,EAAKA,YAAY9G,KAAjB,gBANJ,E,yEASAgF,GACf/F,EAAKC,QAAQmB,KAAK,uBAAwB2E,EAAM1G,KAAKiB,MAAMO,OAAOyF,M,+BAG5D,IAEFwB,EACAC,EAHC,SAC0B1I,KAAKiB,MAA5BO,EADH,EACGA,OAAQ+G,EADX,EACWA,WAyIhB,OArIIA,IAAe7C,EAAUY,UACrB9E,EAAOwE,UAAU3B,WAAatD,EAAkBuD,QAAU9C,EAAOwE,UAAU3B,WAAatD,EAAkB6D,OAC1G6D,EACI,kBAAC,SAAD,CACIhG,IAAKjB,EAAOiB,IAAM,uBAClBE,MAAO,WAAQ,EAAK6F,YAAY9C,EAAUY,YAC1C1D,QAAS,WAAQ,EAAK4F,YAAY9C,EAAUY,YAC5C/F,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdC,KAAM,YAGd2F,EACI,kBAAC,OAAD,CACIjG,IAAKjB,EAAOiB,IAAM,4BAClBE,MAAO,WAAQ,EAAK6F,YAAY9C,EAAUY,YAC1C1D,QAAS,WAAQ,EAAK4F,YAAY9C,EAAUY,YAC5CzC,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,SAGPvB,EAAO5B,cAAgBd,EAAYiB,YAAcyB,EAAOwE,UAAU3B,WAAatD,EAAkB2D,KACxG+D,EACI,kBAAC,SAAD,CACIhG,IAAKjB,EAAOiB,IAAM,uBAClBE,MAAO,WAAQ,EAAK6F,YAAY9C,EAAUY,YAC1C1D,QAAS,WAAQ,EAAK4F,YAAY9C,EAAUY,YAC5C/F,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdC,KAAM,YAGd2F,EACI,kBAAC,OAAD,CACIjG,IAAKjB,EAAOiB,IAAM,4BAClBE,MAAO,WAAQ,EAAK6F,YAAY9C,EAAUY,YAC1C1D,QAAS,WAAQ,EAAK4F,YAAY9C,EAAUY,YAC5CzC,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,SAGPvB,EAAO5B,cAAgBd,EAAYmB,UAAYuB,EAAOwE,UAAU3B,WAAatD,EAAkB4D,OACtG8D,EACI,kBAAC,SAAD,CACIhG,IAAKjB,EAAOiB,IAAM,uBAClBE,MAAO,WAAQ,EAAK6F,YAAY9C,EAAUY,YAC1C1D,QAAS,WAAQ,EAAK4F,YAAY9C,EAAUY,YAC5C/F,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdC,KAAM,YAGd2F,EACI,kBAAC,OAAD,CACIjG,IAAKjB,EAAOiB,IAAM,4BAClBE,MAAO,WAAQ,EAAK6F,YAAY9C,EAAUY,YAC1C1D,QAAS,WAAQ,EAAK4F,YAAY9C,EAAUY,YAC5CzC,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,SAIXwF,IAAe7C,EAAUkD,UAChCH,EACI,kBAAC,SAAD,CACIhG,IAAKjB,EAAOiB,IAAM,uBAClBE,MAAO,WAAQ,EAAK6F,YAAY9C,EAAUkD,WAC1ChG,QAAS,WAAQ,EAAK4F,YAAY9C,EAAUkD,WAC5CrI,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdC,KAAM,YAGd2F,EACI,kBAAC,OAAD,CACIjG,IAAKjB,EAAOiB,IAAM,4BAClBE,MAAO,WAAQ,EAAK6F,YAAY9C,EAAUkD,WAC1ChG,QAAS,WAAQ,EAAK4F,YAAY9C,EAAUkD,WAC5C/E,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,SAGPwF,IAAe7C,EAAUmD,QAChCJ,EACI,kBAAC,SAAD,CACIhG,IAAKjB,EAAOiB,IAAM,uBAClBE,MAAO,WAAQ,EAAK6F,YAAY9C,EAAUmD,QAC1CjG,QAAS,WAAQ,EAAK4F,YAAY9C,EAAUmD,QAC5CtI,OAAQ,GACRsC,EAAGrB,EAAOsH,OAAS,GACnBhG,EAAGtB,EAAOuH,OAAS,GACnBhG,KAAM,YAGd2F,EACI,kBAAC,OAAD,CACIjG,IAAKjB,EAAOiB,IAAM,4BAClBE,MAAO,WAAQ,EAAK6F,YAAY9C,EAAUmD,QAC1CjG,QAAS,WAAQ,EAAK4F,YAAY9C,EAAUmD,QAC5ChF,KAAM,IACNhB,EAAGrB,EAAOsH,OAAS,GACnBhG,EAAGtB,EAAOuH,OAAS,GACnBnF,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,SAIX,CAAC0F,EAAcC,O,GAxJYzJ,IAAMC,Y,SFT3CyG,K,UAAAA,E,YAAAA,E,cAAAA,E,iBAAAA,M,KAOUA,IGPVqD,EHOUrD,IIGMsD,E,YACjB,WAAYjK,GAAQ,IAAD,8BACf,4CAAMA,KACDiC,MAAQ,CACTO,OAAQ,EAAKxC,MAAMwC,OACnB0H,aAAc,EAAKlK,MAAMkK,aACzBX,WAAY,EAAKvJ,MAAMuJ,YAE3B,EAAKY,qBAAuB,EAAKA,qBAAqBzH,KAA1B,gBAPb,E,kFAUSgF,EAAiBrC,GACzC1D,EAAKC,QAAQmB,KAAK,eAAgB2E,EAAM1G,KAAKiB,MAAMO,OAAQ6C,K,+BAGrD,IAEF+E,EAAYC,EAAYC,EAAgBC,EAExCC,EAJC,SACsCxJ,KAAKiB,MAAzCO,EADF,EACEA,OAAQ0H,EADV,EACUA,aAGKO,GAAkB,EACtC,GALK,EACwBlB,aAIV7C,EAAUY,UACzB,GAAI9E,EAAO5B,cAAgBd,EAAYiB,WACnC,GAAIyB,EAAOwE,UAAU3B,WAAatD,EAAkB2D,IAAK,CACrD8E,GAAiB,EACjBC,GAAkB,EAClB,IAAK,IAAIC,EAAI,EAAGA,EAAIR,EAAaxF,OAAQgG,IAChCR,EAAaQ,GAAG7G,GAAMrB,EAAOqB,EAAI,IAAOqG,EAAaQ,GAAG7G,EAAIrB,EAAOqB,GAChEqG,EAAaQ,GAAG5G,GAAMtB,EAAOsB,EAAI,IAAOoG,EAAaQ,GAAG5G,GAAKtB,EAAOsB,IACxE0G,GAAiB,GAEhBN,EAAaQ,GAAG7G,EAAKrB,EAAOqB,EAAI,IAAOqG,EAAaQ,GAAG7G,GAAMrB,EAAOqB,EAAI,GAAK,IAC1EqG,EAAaQ,GAAG5G,GAAMtB,EAAOsB,EAAI,IAAOoG,EAAaQ,GAAG5G,GAAKtB,EAAOsB,IACxE2G,GAAkB,GAGrBD,IACDJ,EACI,kBAAC,SAAD,CACI3G,IAAKjB,EAAOiB,IAAM,mBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAAShB,OAE5D/B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAAShB,OAE5DpE,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,EACdC,KAAM,YAGduG,EACI,kBAAC,OAAD,CACI7G,IAAKjB,EAAOiB,IAAM,wBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAAShB,OAE5D/B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAAShB,OAE5Dd,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,KACdC,EAAGtB,EAAOsB,EAAI,EACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,WAIb0G,IACDJ,EACI,kBAAC,SAAD,CACI5G,IAAKjB,EAAOiB,IAAM,oBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASf,QAE5DhC,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASf,QAE5DrE,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,EACdC,KAAM,YAGdwG,EACI,kBAAC,OAAD,CACI9G,IAAKjB,EAAOiB,IAAM,yBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASf,QAE5DhC,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASf,QAE5Df,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,KACdC,EAAGtB,EAAOsB,EAAI,EACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,eAIf,CACHyG,GAAiB,EACjBC,GAAkB,EAClB,IAAK,IAAIC,EAAI,EAAGA,EAAIR,EAAaxF,OAAQgG,IAChCR,EAAaQ,GAAG7G,GAAMrB,EAAOqB,EAAI,IAAOqG,EAAaQ,GAAG7G,EAAIrB,EAAOqB,GAChEqG,EAAaQ,GAAG5G,GAAMtB,EAAOsB,EAAI,IAAOoG,EAAaQ,GAAG5G,GAAKtB,EAAOsB,IACxE0G,GAAiB,GAEhBN,EAAaQ,GAAG7G,EAAKrB,EAAOqB,EAAI,IAAOqG,EAAaQ,GAAG7G,GAAMrB,EAAOqB,EAAI,GAAK,IAC1EqG,EAAaQ,GAAG5G,GAAMtB,EAAOsB,EAAI,IAAOoG,EAAaQ,GAAG5G,GAAKtB,EAAOsB,IACxE2G,GAAkB,GAGrBD,IACDJ,EACI,kBAAC,SAAD,CACI3G,IAAKjB,EAAOiB,IAAM,mBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAAShB,OAE5D/B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAAShB,OAE5DpE,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdC,KAAM,YAGduG,EACI,kBAAC,OAAD,CACI7G,IAAKjB,EAAOiB,IAAM,wBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAAShB,OAE5D/B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAAShB,OAE5Dd,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,KACdC,EAAGtB,EAAOsB,EAAI,EACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,WAIb0G,IACDJ,EACI,kBAAC,SAAD,CACI5G,IAAKjB,EAAOiB,IAAM,oBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASf,QAE5DhC,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASf,QAE5DrE,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdC,KAAM,YAGdwG,EACI,kBAAC,OAAD,CACI9G,IAAKjB,EAAOiB,IAAM,yBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASf,QAE5DhC,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASf,QAE5Df,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,KACdC,EAAGtB,EAAOsB,EAAI,EACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,gBAMtB,GAAIvB,EAAOwE,UAAU3B,WAAatD,EAAkB4D,KAAM,CACtD6E,GAAiB,EACjBC,GAAkB,EAClB,IAAK,IAAIC,EAAI,EAAGA,EAAIR,EAAaxF,OAAQgG,IAChCR,EAAaQ,GAAG5G,GAAMtB,EAAOsB,EAAI,IAAOoG,EAAaQ,GAAG5G,EAAItB,EAAOsB,GAChEoG,EAAaQ,GAAG7G,GAAMrB,EAAOqB,EAAI,IAAOqG,EAAaQ,GAAG7G,GAAKrB,EAAOqB,IACxE2G,GAAiB,GAEhBN,EAAaQ,GAAG5G,EAAKtB,EAAOsB,EAAI,IAAOoG,EAAaQ,GAAG5G,GAAMtB,EAAOsB,EAAI,GAAK,IAC1EoG,EAAaQ,GAAG7G,GAAMrB,EAAOqB,EAAI,IAAOqG,EAAaQ,GAAG7G,GAAKrB,EAAOqB,IACxE4G,GAAkB,GAGrBD,IACDJ,EACI,kBAAC,SAAD,CACI3G,IAAKjB,EAAOiB,IAAM,mBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASjB,MAE5D9B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASjB,MAE5DnE,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,EACdC,EAAGtB,EAAOsB,EAAI,GACdC,KAAM,YAGduG,EACI,kBAAC,OAAD,CACI7G,IAAKjB,EAAOiB,IAAM,wBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASjB,MAE5D9B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASjB,MAE5Db,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,KACdC,EAAGtB,EAAOsB,EAAI,GACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,WAKb0G,IACDJ,EACI,kBAAC,SAAD,CACI5G,IAAKjB,EAAOiB,IAAM,oBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASrB,SAE5D1B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASrB,SAE5D/D,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,EACdC,EAAGtB,EAAOsB,EAAI,GACdC,KAAM,YAGdwG,EACI,kBAAC,OAAD,CACI9G,IAAKjB,EAAOiB,IAAM,yBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASrB,SAE5D1B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASrB,SAE5DT,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,KACdC,EAAGtB,EAAOsB,EAAI,GACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,gBAIf,GAAIvB,EAAOwE,UAAU3B,WAAatD,EAAkB6D,MAAO,CAC9D,IAAK,IAAI8E,EAAI,EAAGA,EAAIR,EAAaxF,OAAQgG,IAChCR,EAAaQ,GAAG5G,GAAMtB,EAAOsB,EAAI,IAAOoG,EAAaQ,GAAG5G,EAAItB,EAAOsB,GAChEoG,EAAaQ,GAAG7G,GAAMrB,EAAOqB,EAAI,IAAOqG,EAAaQ,GAAG7G,GAAKrB,EAAOqB,IACxE2G,GAAiB,GAEhBN,EAAaQ,GAAG5G,EAAKtB,EAAOsB,EAAI,IAAOoG,EAAaQ,GAAG5G,GAAMtB,EAAOsB,EAAI,GAAK,IAC1EoG,EAAaQ,GAAG7G,GAAMrB,EAAOqB,EAAI,IAAOqG,EAAaQ,GAAG7G,GAAKrB,EAAOqB,IACxE4G,GAAkB,GAGrBD,IACDJ,EACI,kBAAC,SAAD,CACI3G,IAAKjB,EAAOiB,IAAM,mBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASjB,MAE5D9B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASjB,MAE5DnE,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdC,KAAM,YAGduG,EACI,kBAAC,OAAD,CACI7G,IAAKjB,EAAOiB,IAAM,wBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASjB,MAE5D9B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASjB,MAE5Db,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,MACdC,EAAGtB,EAAOsB,EAAI,GACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,WAKb0G,IACDJ,EACI,kBAAC,SAAD,CACI5G,IAAKjB,EAAOiB,IAAM,oBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASrB,SAE5D1B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASrB,SAE5D/D,OAAQ,GACRsC,EAAGrB,EAAOqB,EAAI,GACdC,EAAGtB,EAAOsB,EAAI,GACdC,KAAM,YAGdwG,EACI,kBAAC,OAAD,CACI9G,IAAKjB,EAAOiB,IAAM,yBAClBE,MAAO,WACH,EAAKwG,qBAAqBzD,EAAUY,UAAWX,EAASrB,SAE5D1B,QAAS,WACL,EAAKuG,qBAAqBzD,EAAUY,UAAWX,EAASrB,SAE5DT,KAAM,IACNhB,EAAGrB,EAAOqB,EAAI,MACdC,EAAGtB,EAAOsB,EAAI,GACdc,SAAU,GACVY,OAAQ,IACRmE,UAAW,OACX5F,KAAM,WAQ9B,MAAO,CAACqG,EAAYC,EAAYC,EAAgBC,O,GAxWjBtK,IAAMC,WCWxByK,E,YAEjB,WAAY3K,GAAQ,IAAD,uBACf,4CAAMA,KAFH4K,qBACY,IA6EnBC,gBAAkB,SAAA7C,GACdA,EAAE8C,OAAOC,SAAS,CACdC,aAAc,CACVnH,EAAG,EACHC,EAAG,GAEPmH,YAAa,OACbC,OAAQ,IACRC,OAAQ,OArFG,EAyFnBC,cAAgB,SAAApD,GACZA,EAAE8C,OAAOO,GAAG,CACRC,SAAU,GACVC,OAAQC,IAAMC,QAAQC,eACtBR,OAAQ,EACRC,OAAQ,EACRH,aAAc,KACdC,YAAa,WA9FjB,EAAKL,gBAAkB,IAAIhE,EAC3B,IAAIrB,EAAOC,EAAS,EAHL,OAIX,EAAKxF,MAAMwC,OAAO5B,cAAgBd,EAAYiB,YAC9CwE,EAAqC,GAA7B,EAAKvF,MAAMwC,OAAO7B,QAC1B6E,EAAS,KAETD,EAAQ,GACRC,EAAsC,GAA7B,EAAKxF,MAAMwC,OAAO7B,SAE/B,EAAKX,MAAMwC,OAAO+C,MAAQA,EAC1B,EAAKvF,MAAMwC,OAAOgD,OAASA,EAC3B,EAAKvD,MAAQ,CACTO,OAAQ,EAAKxC,MAAMwC,OACnB0H,aAAc,EAAKlK,MAAMkK,aACzByB,eAAe,EACfC,UAAU,GAGd,EAAKC,uBAAyB,EAAKA,uBAAuBnJ,KAA5B,gBAC9B,EAAKoJ,mBAAqB,EAAKA,mBAAmBpJ,KAAxB,gBAC1B,EAAKqJ,eAAiB,EAAKA,eAAerJ,KAApB,gBACtB,EAAKsJ,kBAAoB,EAAKA,kBAAkBtJ,KAAvB,gBACzB,EAAKuJ,2BAA6B,EAAKA,2BAA2BvJ,KAAhC,gBAClC,EAAKwJ,sBAAwB,EAAKA,sBAAsBxJ,KAA3B,gBAE7Bf,EAAKC,QAAQgB,YAAY,yBAA0B,EAAKmJ,gBACxDpK,EAAKC,QAAQgB,YAAY,yBAA0B,EAAKoJ,mBACxDrK,EAAKC,QAAQgB,YAAY,4BAA6B,EAAKqJ,4BAC3DtK,EAAKC,QAAQgB,YAAY,wBAAyB,EAAKsJ,uBA9BxC,E,wFAiCezI,EAAa0I,GAAuC,IAAD,OAE1E3J,EAAUxB,KAAKiB,MAAfO,OACP,GAAIiB,IAAQzC,KAAKiB,MAAMO,OAAOiB,IAAK,CAC/BjB,EAAO6F,gBAAkB8D,EACzB,IAAK,IAAIzB,EAAI,EAAGA,EAAIyB,EAAUzH,OAAQgG,IAClC/I,EAAKC,QAAQmB,KAAK,6BAA8BP,EAAOiB,IAAK0I,EAAUzB,GAAGlH,MAAO2I,EAAUzB,IAE9F1J,KAAKoL,aAAY,kBAAM,EAAKlJ,SAAS,CAACV,iB,4CAIjBiB,EAAa4I,GAA8B,IAC7D7J,EAAUxB,KAAKiB,MAAfO,OACHiB,IAAQzC,KAAKiB,MAAMO,OAAOiB,MAC1BjB,EAAOwE,UAAYqF,EACnB1K,EAAKC,QAAQmB,KAAK,uBAAwBP,EAAOiB,IAAK4I,GACtDrL,KAAKkC,SAAS,CAACV,c,wCAIE8J,GAAiB,IAAD,OACrCtL,KAAKoL,aAAY,kBAAM,EAAKlJ,SAAS,CAAC0I,SAAUU,S,uCAIhDtL,KAAKkC,SAAS,CAAC0I,UAAW5K,KAAKiB,MAAM2J,a,6CAGX5D,GAC1BrG,EAAKC,QAAQmB,KAAK,oBAAqB/B,KAAKiB,MAAM0J,eAClD3K,KAAKkC,SAAS,CAACyI,eAAgB3K,KAAKiB,MAAM0J,kB,yCAGpB3D,EAAGsE,GACzBzJ,QAAQC,IAAI9B,KAAKiB,MAAMO,QACH,IAAhBwF,EAAEuE,IAAIC,OACN7K,EAAKC,QAAQmB,KAAK,sBAAuBuJ,EAAO,CAC5C5E,KAAMhB,EAAUY,UAChBmF,MAAOzL,KAAKiB,MAAMO,W,+BA4BpB,IAIFkK,EACAjD,EACAkD,EAGA3F,EATC,OACGxE,EAAWxB,KAAKiB,MAAhBO,OACFqE,EAAsB,IAAIxG,EAM5BgI,EAAsC,GAGtCuE,GADa,IAAIvM,EACwB,IAyC7C,GAvCIW,KAAKiB,MAAM2J,WACTe,EACE,kBAAC,EAAD,CACIlJ,IAAKjB,EAAOiB,IAAM,aAClBjB,OAAQA,EACR0H,aAAclJ,KAAKiB,MAAMiI,aACzBX,WAAY7C,EAAUY,aAK9BtG,KAAKiB,MAAM0J,gBACXiB,EAAqB5L,KAAK4J,gBAAgBiC,kBAAkB7L,KAAKiB,MAAMO,QACvEiH,EACI,kBAAC,EAAD,CACIhG,IAAKjB,EAAOiB,IAAM,gBAClBjB,OAAQA,EACR+G,WAAY7C,EAAUY,kBAKTwF,IAArBtK,EAAOwE,YACPA,EACI,kBAAC,EAAD,CACI7E,YAAaK,EAAO3B,MACpBC,eAAgB0B,EAAO1B,eACvBH,QAAS6B,EAAO7B,QAChByB,UAAWI,EAAOiB,IAClBA,IAAKjB,EAAOiB,IAAM,aAClBpB,QAASG,EAAOqB,EAChBvB,QAASE,EAAOsB,EAChBvB,kBAAmBC,EAAO5B,YAC1BiF,WAAYrD,EAAO4F,KACnB5F,OAAQA,EAAOwE,kBAKI8F,IAA3BtK,EAAO6F,gBAA+B,CACtC,IAAIqC,EAAI,EACRlI,EAAO6F,gBAAgB0E,SAAQ,SAAAC,GAC3B3E,EAAgB4E,KACZ,kBAAC,EAAD,CACIhJ,sBAAuBzB,EAAO6F,gBAC9BvH,eAAgB0B,EAAO1B,eACvBqB,YAAaK,EAAO3B,MACpBF,QAAS6B,EAAO7B,QAChByB,UAAWI,EAAOiB,IAClBA,IAAKjB,EAAOiB,IAAM,mBAAsBiH,IACxCrI,QAASG,EAAOqB,EAChBvB,QAASE,EAAOsB,EAChBI,cAAe1B,EAAO8F,KACtB/F,kBAAmBC,EAAO5B,YAC1B4B,OAAQwK,QAUxB,IAAIE,EAAiC,GACjCC,EAAmC,GACnCC,EAAoC,GA0GxC,YAzGoBN,IAAhBtK,EAAO8F,MAA6C,IAAvB9F,EAAO8F,KAAK5D,QACzClC,EAAO8F,KAAMyE,SAAQ,SAACC,EAAStC,GACvBsC,EAAQ3L,QAAUH,EAAaQ,IAC/BwL,EAAWD,KACP,kBAAC,EAAD,CACI/K,aAAcM,EACdL,YAAaK,EAAO3B,MACpBC,eAAgB0B,EAAO1B,eACvBsB,UAAWI,EAAOiB,IAClBA,IAAKjB,EAAOiB,IAAM,WAAciH,IAChCrI,QAASG,EAAOqB,EAChBvB,QAASE,EAAOsB,EAChBvB,kBAAmBC,EAAO5B,YAC1B4B,OAAQwK,KAGTA,EAAQ3L,QAAUH,EAAaI,MACtC6L,EAAaF,KACT,kBAAC,EAAD,CACI/K,aAAcM,EACdL,YAAaK,EAAO3B,MACpBC,eAAgB0B,EAAO1B,eACvBsB,UAAWI,EAAOiB,IAClBA,IAAKjB,EAAOiB,IAAM,WAAciH,IAChCrI,QAASG,EAAOqB,EAChBvB,QAASE,EAAOsB,EAChBvB,kBAAmBC,EAAO5B,YAC1B4B,OAAQwK,KAGTA,EAAQ3L,QAAUH,EAAaO,QACtC2L,EAAcH,KACV,kBAAC,EAAD,CACI/K,aAAcM,EACdL,YAAaK,EAAO3B,MACpBC,eAAgB0B,EAAO1B,eACvBsB,UAAWI,EAAOiB,IAClBA,IAAKjB,EAAOiB,IAAM,WAAciH,IAChCrI,QAASG,EAAOqB,EAChBvB,QAASE,EAAOsB,EAChBvB,kBAAmBC,EAAO5B,YAC1B4B,OAAQwK,QAQxBxK,EAAO5B,cAAgBd,EAAYiB,WACnC2L,EACI,kBAAC,OAAD,CACIjJ,IAAKjB,EAAOiB,IAAM,QAElB4J,SAAU,SAACrF,GAAD,OAAO,EAAK6D,uBAAuB7D,IAC7CsF,WAAY,SAACtF,GAAD,OAAO,EAAK6D,uBAAuB7D,IAC/CuF,YAAa,SAACvF,GAAD,OAAO,EAAK8D,mBAAmB9D,GAAG,IAC/CwF,aAAc,SAACxF,GAAD,OAAO,EAAK8D,mBAAmB9D,GAAG,IAChDyF,UAAW,SAACzF,GAAD,OAAO,EAAK8D,mBAAmB9D,GAAG,IAC7C0F,WAAY,SAAC1F,GAAD,OAAO,EAAK8D,mBAAmB9D,GAAG,IAC9CpE,QAAS,SAACoE,GACNrG,EAAKC,QAAQmB,KAAK,oBAAqBiF,EAAEuE,IAAIC,MAAOxE,EAAEuE,IAAK/J,EAAOyF,GAAIvB,EAAUY,YAIpFzD,EAAGrB,EAAOqB,EACVC,EAAGtB,EAAOsB,EAGVyB,MAAOsB,EAAoB8G,YAAYnL,EAAO7B,QAAU6B,EAAO5B,YAAa4B,EAAO3B,MAAQ2B,EAAO1B,gBAAiBL,UACnH+E,OAAQqB,EAAoB8G,YAAYnL,EAAO7B,QAAU6B,EAAO5B,YAAa4B,EAAO3B,MAAQ2B,EAAO1B,gBAAiBJ,WACpHqD,KAAM3D,EAAewN,gBACrBvG,YAAa,EACbD,OAAQhH,EAAeyN,uBACvBC,YAAa9M,KAAK6J,gBAClBkD,UAAW/M,KAAKoK,gBAGjB5I,EAAO5B,cAAgBd,EAAYmB,WAC1CyL,EACI,kBAAC,OAAD,CACIjJ,IAAKjB,EAAOiB,IAAM,QAElB4J,SAAU,SAACrF,GAAD,OAAO,EAAK6D,uBAAuB7D,IAC7CsF,WAAY,SAACtF,GAAD,OAAO,EAAK6D,uBAAuB7D,IAC/CuF,YAAa,SAACvF,GAAD,OAAO,EAAK8D,mBAAmB9D,GAAG,IAC/CwF,aAAc,SAACxF,GAAD,OAAO,EAAK8D,mBAAmB9D,GAAG,IAChDyF,UAAW,SAACzF,GAAD,OAAO,EAAK8D,mBAAmB9D,GAAG,IAC7C0F,WAAY,SAAC1F,GAAD,OAAO,EAAK8D,mBAAmB9D,GAAG,IAE9CnE,EAAGrB,EAAOqB,EACVC,EAAGtB,EAAOsB,EAGVyB,MAAOsB,EAAoB8G,YAAYnL,EAAO7B,QAAU6B,EAAO5B,YAAa4B,EAAO3B,MAAQ2B,EAAO1B,gBAAiBL,UACnH+E,OAAQqB,EAAoB8G,YAAYnL,EAAO7B,QAAU6B,EAAO5B,YAAa4B,EAAO3B,MAAQ2B,EAAO1B,gBAAiBJ,WACpHqD,KAAM3D,EAAewN,gBACrBvG,YAAa,EACbD,OAAQhH,EAAeyN,uBACvBC,YAAa9M,KAAK6J,gBAClBkD,UAAW/M,KAAKoK,iBAKrB,CACHuB,EACA3F,EACA0F,EACAS,EACAC,EACAF,EACA7E,EACAuE,EACAnD,O,GAxS0BxJ,IAAMC,WCbvB8N,E,YACjB,WAAYhO,GAAQ,IAAD,8BACf,4CAAMA,KAEDiC,MAAQ,CACTgM,UAAW,EAAKjO,MAAMiO,UACtB5L,QAAS,EAAKrC,MAAMqC,QACpBC,QAAS,EAAKtC,MAAMsC,QACpB4L,aAAc,EAAKlO,MAAMkO,aACzBC,UAAW,EAAKnO,MAAMmO,WARX,E,4EAYGnG,EAAGN,EAAM0G,GAC3B,OAAQ1G,GACJ,IAAK,OAAQ/F,EAAKC,QAAQmB,KAAK,oCAAqCiF,EAAGhH,KAAKiB,MAAMiM,aAAcE,GAAU,MAC1G,IAAK,KAAMzM,EAAKC,QAAQmB,KAAK,kCAAmCiF,EAAGhH,KAAKiB,MAAMiM,aAAcE,M,+BAK1F,IAEFC,EAAkBC,EAFjB,SAC4DtN,KAAKiB,MAA9DgM,EADH,EACGA,UAAW5L,EADd,EACcA,QAASC,EADvB,EACuBA,QAAS4L,EADhC,EACgCA,aADhC,EAC8CC,UA0EnD,YAxEqBrB,IAAjBoB,IACIA,EAAatN,cAAgBd,EAAYiB,YACzCsN,EACI,kBAAC,SAAD,CACI5K,IAAKwK,EAAY,+BACjB1M,OAAQ,KACRsC,EAAGxB,EACHyB,EAAGxB,EAAU,EACb+E,YAAa,GACbD,OAAQ,UACRrD,KAAM,UAENwJ,YAAa,SAACvF,GAAO,EAAKuG,eAAevG,EAAG,QAAQ,IACpDwF,aAAc,SAACxF,GAAO,EAAKuG,eAAevG,EAAG,QAAQ,IACrDyF,UAAW,SAACzF,GAAO,EAAKuG,eAAevG,EAAG,MAAM,IAChD0F,WAAY,SAAC1F,GAAO,EAAKuG,eAAevG,EAAG,MAAM,MAGzDsG,EACI,kBAAC,SAAD,CACI7K,IAAKwK,EAAY,6BACjB1M,OAAQ,KACRsC,EAAGxB,EAAU6L,EAAaxJ,OAC1BZ,EAAGxB,EAAU,EACb+E,YAAa,GACbD,OAAQ,UACRrD,KAAM,UAENwJ,YAAa,SAACvF,GAAO,EAAKuG,eAAevG,EAAG,QAAQ,IACpDwF,aAAc,SAACxF,GAAO,EAAKuG,eAAevG,EAAG,QAAQ,IACrDyF,UAAW,SAACzF,GAAO,EAAKuG,eAAevG,EAAG,MAAM,IAChD0F,WAAY,SAAC1F,GAAO,EAAKuG,eAAevG,EAAG,MAAM,OAGlDkG,EAAatN,cAAgBd,EAAYmB,WAChDoN,EACI,kBAAC,SAAD,CACI5K,IAAKwK,EAAY,6BACjB1M,OAAQ,KACRsC,EAAGxB,EAAU,EACbyB,EAAGxB,EAAU,EACb+E,YAAa,GACbD,OAAQ,UACRrD,KAAM,UAENwJ,YAAa,SAACvF,GAAO,EAAKuG,eAAevG,EAAG,QAAQ,IACpDwF,aAAc,SAACxF,GAAO,EAAKuG,eAAevG,EAAG,QAAQ,IACrDyF,UAAW,SAACzF,GAAO,EAAKuG,eAAevG,EAAG,MAAM,IAChD0F,WAAY,SAAC1F,GAAO,EAAKuG,eAAevG,EAAG,MAAM,MAGzDsG,EACI,kBAAC,SAAD,CACI7K,IAAKwK,EAAY,2BACjB1M,OAAQ,KACRsC,EAAGxB,EAAU,EACbyB,EAAGxB,EAAU4L,EAAaxJ,OAAS,EACnC2C,YAAa,GACbD,OAAQ,UACRrD,KAAM,UAENwJ,YAAa,SAACvF,GAAO,EAAKuG,eAAevG,EAAG,QAAQ,IACpDwF,aAAc,SAACxF,GAAO,EAAKuG,eAAevG,EAAG,QAAQ,IACrDyF,UAAW,SAACzF,GAAO,EAAKuG,eAAevG,EAAG,MAAM,IAChD0F,WAAY,SAAC1F,GAAO,EAAKuG,eAAevG,EAAG,MAAM,QAMjEnF,QAAQC,IAAI,oBAAsBuL,EAAiB5K,KACnDZ,QAAQC,IAAI,kBAAoBwL,EAAe7K,KACxC,CAAC4K,EAAkBC,O,GAhGOrO,IAAMC,Y,SHR1C8J,K,UAAAA,E,iBAAAA,M,KAKUA,SIOMwE,G,YAEjB,WAAYxO,GAAQ,IAAD,8BACf,4CAAMA,KA6BVyO,aAAe,WAAO,IACVjM,EAAW,EAAKP,MAAhBO,OAERK,QAAQC,IAAIN,IA/BZ,EAAKP,MAAQ,CACTO,OAAQ,EAAKxC,MAAMwC,OACnBkM,aAAc,CACV7K,EAAG,EACHC,EAAG,GAEP6K,UAAU,EACVC,kBAAkB,GAEtB,EAAKC,mBAAqB,EAAKA,mBAAmBnM,KAAxB,gBAC1B,EAAK6L,eAAiB,EAAKA,eAAe7L,KAApB,gBACtB,EAAKoM,oBAAsB,EAAKA,oBAAoBpM,KAAzB,gBAC3B,EAAKqM,gBAAkB,EAAKA,gBAAgBrM,KAArB,gBACvBf,EAAKC,QAAQgB,YAAY,eAAgB,EAAKkM,qBAf/B,E,iFAkBQxC,GACvBtL,KAAKkC,SAAS,CAAC0L,iBAAkBtC,EAAOqC,SAAUrC,M,uCAIlDtL,KAAKkC,SAAS,CAAC0L,kBAAmB5N,KAAKiB,MAAM2M,iBAAkBD,UAAW3N,KAAKiB,MAAM0M,a,2CAIrF3N,KAAKkC,SAAS,CAACyL,UAAU,M,sCASN3G,EAAGsE,GACF,IAAhBtE,EAAEuE,IAAIC,OACN7K,EAAKC,QAAQmB,KAAK,sBAAuBuJ,EAAO,CAC5C5E,KAAMhB,EAAUmD,MAChB4C,MAAOzL,KAAKiB,MAAMO,W,+BAKpB,IAEFwM,EACAvF,EAHC,SAC0CzI,KAAKiB,MAA5CO,EADH,EACGA,OAAQoM,EADX,EACWA,iBAgDhB,OAjDK,EAC6BD,WAM9BlF,EACI,kBAAC,EAAD,CACIhG,IAAKjB,EAAOiB,IAAM,gBAClBjB,OAAQA,EACR+G,WAAY7C,EAAUmD,SAK9B+E,IACAI,EACI,kBAAC,EAAD,CACIvL,IAAKjB,EAAOiB,IAAM,eAClBwK,UAAWzL,EAAOiB,IAAM,eACxBpB,QAASG,EAAOsH,OAChBxH,QAASE,EAAOuH,OAChBmE,aAAc1L,EACd2L,UAAWnE,GAAgBiF,OAyBhC,CApBH,kBAAC,OAAD,CACIxL,IAAKjB,EAAOiB,IAAM,QAClB6J,WAAY,WAAQ,EAAKiB,kBACzBlB,SAAU,WAAQ,EAAKkB,kBACvBW,WAAW,EAEX3B,YAAa,SAACvF,GAAD,OAAO,EAAK+G,gBAAgB/G,GAAG,IAC5CwF,aAAc,SAACxF,GAAD,OAAO,EAAK+G,gBAAgB/G,GAAG,IAC7CyF,UAAW,SAACzF,GAAD,OAAO,EAAK+G,gBAAgB/G,GAAG,IAC1C0F,WAAY,SAAC1F,GAAD,OAAO,EAAK+G,gBAAgB/G,GAAG,IAC3CnE,EAAGrB,EAAOsH,OACVhG,EAAGtB,EAAOuH,OACV3D,aAAc,GACdxC,QAAS,WAAQ,EAAK6K,gBACtBlJ,MAAO/C,EAAO5B,cAAgBd,EAAYiB,WAAayB,EAAOkC,OAAS,GACvEc,OAAQhD,EAAO5B,cAAgBd,EAAYmB,SAAWuB,EAAOkC,OAAS,GAEtEX,KAA+B,IAAzBvB,EAAOnB,MAAOqD,OAAe,UAAYlC,EAAOnB,QAGhD2N,EAAavF,O,GAhGDvJ,aCXbiP,G,kCAAAA,GACHC,MAAa,G,ICF1BC,G,SCUgBC,I,mBAEjB,WAAYtP,GAAQ,IAAD,8BACf,4CAAMA,KACDiC,MAAQ,CACTO,OAAQ,EAAKxC,MAAMwC,OACnB+M,kBAAmB,EACnBC,WAAW,EACXC,qBAAsB,IAG1B9N,EAAKC,QAAQgB,YAAY,qBAAqB,WAAQ,EAAKM,SAAS,CAACuM,qBAAsB,QAC3F,EAAKC,0BAA4B,EAAKA,0BAA0BhN,KAA/B,gBAVlB,E,uFAeciN,GAC7B3O,KAAKkC,SAAL,gBACSlC,KAAKiB,MADd,GACwB,CAAEsN,iBAAkBI,O,8CAKjBC,GAC3BT,GAASC,MAAMS,WAAaD,I,+CAGAE,EAAeF,GAC3CT,GAASC,MAAMS,WAAaD,EACxBA,EAAGlI,OAAShB,EAAUmD,OACtBlI,EAAKC,QAAQmB,KAAK,kBAElB6M,EAAGlI,OAAShB,EAAUmD,OACtBlI,EAAKC,QAAQmB,KAAK,2BAGtB/B,KAAKkC,SAAS,CAACuM,qBAAsBK,IAEjCnO,EAAKC,QAAQmB,KAAK,mB,+BAIhB,IAEFgN,EAFC,SAC2C/O,KAAKiB,MAA7CO,EADH,EACGA,OAAQ+M,EADX,EACWA,iBAAkBC,EAD7B,EAC6BA,UAE9BQ,EAAiC,GACjCC,EAA+B,GAEnC,GAAKT,EAsGDO,EACI,yBAAK9H,GAAI,iBAAkBrE,QAAS,WAChC,EAAKV,SAAL,gBAAkB,EAAKjB,MAAvB,GAAiC,CAACuN,WAAW,MAC9CU,UAAW,kCACV,yBAAKA,UAAW,yBACX,0BAAMC,MAAO,CAAE3K,OAAQ,OAAU0K,UAAW,iBAA5C,gJA3GD,CAqBZ,GApBAF,EAAW/C,KACP,yBACIxJ,IAAK,qBACLG,QAAS,kBAAM,EAAK8L,2BAA2B,IAC9CQ,UAAW,uBAA8C,IAAtBX,EAA0B,iBAAmB,KAHrF,uBAQJ/M,EAAOuK,SAAQ,SAAC6C,EAAIlF,GAChBsF,EAAW/C,KACP,yBACIxJ,IAAK,kBAAoBmM,EAAGnL,MAAQ,IAAMiG,EAC1C9G,QAAS,kBAAM,EAAK8L,0BAA0BhF,IAC7CwF,UAAW,sBAAwBX,IAAqB7E,EAAI,iBAAmB,KAC/EkF,EAAGnL,YAKU,IAAtB8K,EACA/M,EAAO+M,GAAkBU,SAASlD,SAAQ,SAAC6C,EAAIlF,GAC3CuF,EAAShD,KACL,yBACIxJ,IAAK,UAAY8L,EAAmB,IAAM7E,EAC1C9G,QAAS,WACL,EAAKwM,yBAA0B,UAAYb,EAAmB,IAAM7E,EAAIkF,IAE5ErC,YAAa,WACT,EAAK8C,wBAAwBT,IAEjCnL,MAAOmL,EAAGnL,MACV6L,IAAKV,EAAGnL,MACRyK,WAAW,EACXiB,MAAO,CACH5K,MAAO,OACPC,OAAQ,OACR+K,OAAQ,UACRC,QAAS,EACTC,OAAQ,EAAKxO,MAAMwN,uBAA0B,UAAYF,EAAmB,IAAM7E,EAAK,oBAAsB,GAC7GgG,aAAc,GAElBC,IAAKf,EAAGgB,iBAYpB,IARI,IAAD,WAQMlG,GACLlI,EAAOkI,GAAGuF,SAASlD,SAAQ,SAAC6C,EAAIiB,GAC5BZ,EAAShD,KACL,yBACIxJ,IAAK,UAAYiH,EAAI,IAAMmG,EAC3BjN,QAAS,WACL,EAAKwM,yBAA0B,UAAY1F,EAAI,IAAMmG,EAAIjB,IAE7DrC,YAAa,WACT,EAAK8C,wBAAwBT,IAEjCnL,MAAOmL,EAAGnL,MACV6L,IAAKV,EAAGnL,MACRyK,WAAW,EACXiB,MAAO,CACH5K,MAAO,OACPC,OAAQ,OACR+K,OAAQ,UACRC,QAAS,EACTC,OAAQ,EAAKxO,MAAMwN,uBAA0B,UAAY/E,EAAI,IAAMmG,EAAK,oBAAsB,GAC9FH,aAAc,GAElBC,IAAKf,EAAGgB,aAtBflG,EAAI,EAAGA,EAAIlI,EAAOkC,OAAQgG,IAAM,EAAhCA,GA6BbqF,EACI,yBAAK9H,GAAI,iBAAkBiI,UAAW,0BAClC,yBAAKA,UAAW,iBACZ,yBAAKA,UAAW,yBACXF,GAEL,yBAAKE,UAAW,6BACXD,GAEL,yBAAKrM,QAAS,WACV,EAAKV,SAAL,gBAAkB,EAAKjB,MAAvB,GAAiC,CAACuN,WAAW,MAC9CU,UAAW,4BACV,0BAAMC,MAAO,CAAEI,OAAQ,WAAaL,UAAW,iBAA/C,uDAgBpB,OAAOH,M,GAjK4B9P,IAAMC,Y,wRC4B9B4Q,GApBJ,CACXC,eACAC,eACAC,eACAC,eACAC,eACAC,eACAC,eACAC,eAEAC,eACAC,UAEAC,cACAC,aACAC,cAEAC,iBCuEWC,GApG4B,CACvC,CACIpN,MAAO,mDACPwL,SAAU,CACN,CACIxM,IAAK,aACLgB,MAAO,6CACPqN,aAAc5M,EAAgBiD,cAC9BT,KAAMhB,EAAUY,UAChBsJ,MAAOE,GAAOC,WAElB,CACItN,IAAK,aACLgB,MAAO,6CACPqN,aAAc5M,EAAgBqD,WAC9Bb,KAAMhB,EAAUY,UAChBsJ,MAAOE,GAAOE,WAElB,CACIvN,IAAK,aACLgB,MAAO,6CACPqN,aAAc5M,EAAgBsD,iBAC9Bd,KAAMhB,EAAUY,UAChBsJ,MAAOE,GAAOG,WAElB,CACIxN,IAAK,aACLgB,MAAO,6CACPqN,aAAc5M,EAAgBuD,kBAC9Bf,KAAMhB,EAAUY,UAChBsJ,MAAOE,GAAOI,WAElB,CACIzN,IAAK,aACLgB,MAAO,6CACPqN,aAAc5M,EAAgBwD,aAC9BhB,KAAMhB,EAAUY,UAChBsJ,MAAOE,GAAOK,WAElB,CACI1N,IAAK,aACLgB,MAAO,6CACPqN,aAAc5M,EAAgB0D,UAC9BlB,KAAMhB,EAAUY,UAChBsJ,MAAOE,GAAOM,WAElB,CACI3N,IAAK,aACLgB,MAAO,6CACPqN,aAAc5M,EAAgB2D,gBAC9BnB,KAAMhB,EAAUY,UAChBsJ,MAAOE,GAAOO,WAElB,CACI5N,IAAK,aACLgB,MAAO,6CACPqN,aAAc5M,EAAgB4D,iBAC9BpB,KAAMhB,EAAUY,UAChBsJ,MAAOE,GAAOQ,aAI1B,CACI7M,MAAO,iCACPwL,SAAU,CACN,CACIxM,IAAK,WACLgB,MAAO,sHACPiD,KAAMhB,EAAUmD,MAChB+G,MAAOE,GAAOW,SACd7Q,YAAad,EAAYiB,YAE7B,CACI0C,IAAK,YACLgB,MAAO,0GACPiD,KAAMhB,EAAUmD,MAChB+G,MAAOE,GAAOW,SACd7Q,YAAad,EAAYmB,YAIrC,CACIwD,MAAO,yDACPwL,SAAU,CACN,CACIxM,IAAK,cACLgB,MAAO,+DACPiD,KAAMhB,EAAUkD,SAChBgH,MAAOE,GAAOS,WAElB,CACI9N,IAAK,eACLgB,MAAO,+DACPiD,KAAMhB,EAAUkD,SAChBgH,MAAOE,GAAOU,SC5FTO,G,YACjB,WAAY/R,GAAQ,IAAD,8BACf,4CAAMA,KACDiC,MAAQ,CACTO,OAAQ,EAAKxC,MAAMwC,OACnBwP,MAAO,KACPrD,UAAU,GAEd,EAAKI,gBAAkB,EAAKA,gBAAgBrM,KAArB,gBAPR,E,6EAUIsF,EAAGsE,GACF,IAAhBtE,EAAEuE,IAAIC,OACN7K,EAAKC,QAAQmB,KAAK,sBAAuBuJ,EAAO,CAC5C5E,KAAMhB,EAAUkD,SAChB6C,MAAOzL,KAAKiB,MAAMO,W,0CAKT,IAAD,OACVwP,EAAQ,IAAIC,OAAOC,MACzBF,EAAMrB,IAAM3P,KAAKiB,MAAMO,OAAOoO,MAC9BoB,EAAMG,OAAS,WACX,EAAKjP,SAAS,CAAE8O,MAAOA,O,+BAIrB,IAGFvI,EAHC,OACGjH,EAAWxB,KAAKiB,MAAhBO,OA4BR,OAzBIxB,KAAKiB,MAAM0M,WACXlF,EACI,kBAAC,EAAD,CACIhG,IAAKjB,EAAOiB,IAAM,gBAClBjB,OAAQA,EACR+G,WAAY7C,EAAUkD,YAoB3B,CAfH,kBAAC,QAAD,CACInG,IAAKjB,EAAOiB,IAAM,SAClBI,EAAI7C,KAAKiB,MAAMO,OAAOqB,EACtBC,EAAI9C,KAAKiB,MAAMO,OAAOsB,EACtByJ,YAAa,SAACvF,GAAD,OAAO,EAAK+G,gBAAgB/G,GAAG,IAC5CwF,aAAc,SAACxF,GAAD,OAAO,EAAK+G,gBAAgB/G,GAAG,IAC7CyF,UAAW,SAACzF,GAAD,OAAO,EAAK+G,gBAAgB/G,GAAG,IAC1C0F,WAAY,SAAC1F,GAAD,OAAO,EAAK+G,gBAAgB/G,GAAG,IAC3CqF,SAAU,kBAAM,EAAKnK,SAAS,CAACyL,UAAW,EAAK1M,MAAM0M,YACrDrB,WAAY,kBAAM,EAAKpK,SAAS,CAACyL,UAAW,EAAK1M,MAAM0M,YACvDpJ,MAAQvE,KAAKiB,MAAMO,OAAO+C,MAAQvE,KAAKiB,MAAMO,OAAO+C,MAAQ,GAC5DC,OAASxE,KAAKiB,MAAMO,OAAOgD,OAASxE,KAAKiB,MAAMO,OAAOgD,OAAS,GAC/DwM,MAAQhR,KAAKiB,MAAM+P,QAGRvI,O,GAzDYxJ,IAAMC,WCHxBkS,G,YACjB,WAAYpS,GAAQ,IAAD,8BACf,4CAAMA,KACDiC,MAAQ,CACTO,OAAQ,EAAKxC,MAAMwC,QAHR,E,sEAOT,IACEA,EAAWxB,KAAKiB,MAAhBO,OACR,OACI,kBAAC,OAAD,CACIqB,EAAGrB,EAAOqB,EACVC,EAAGtB,EAAOsB,EACVe,KAAMrC,EAAOqC,KACbwN,WAAY,UACZzN,SAAUpC,EAAOoC,e,GAhBC3E,IAAMC,WCGnBoS,I,mBACjB,WAAYtS,GAAQ,IAAD,sBACf,4CAAMA,IACN,IAAIuF,EAAQ0M,OAAOM,WAEfC,EAAmB,EAJR,OAKf,EAAKxS,MAAMkC,aAAaoG,KAAKyE,SAAQ,SAAC6C,EAAIlF,GAClC+H,KAAKC,UAAU9C,KAAQ6C,KAAKC,UAAU,EAAK1S,MAAMwC,UAASgQ,EAAW9H,MAG7E,EAAKzI,MAAQ,CACT0Q,aAAcH,EACdtQ,aAAc,EAAKlC,MAAMkC,aACzBM,OAAQ,EAAKxC,MAAMwC,OACnBoQ,cAAe,IACfC,YAAatN,EACbuN,UAAU,EACVC,gBAAgB,EAChBC,cAAe,EAAKhT,MAAMwC,OAAQyQ,aAAa,IAjBpC,E,4EAwBGC,GAClB,OAAOA,EAAKC,UAAY,IAAMD,EAAKE,WAAW,KAAUF,EAAKG,gB,mCAY7D1R,EAAKC,QAAQmB,KAAK,iCAAiC,K,+BAG7C,IAsBFuQ,EAtBC,SAC4BtS,KAAKiB,MAA9BO,EADH,EACGA,OAAQN,EADX,EACWA,aAEZqR,EAAiC,GACjCC,EAAU,EACdtR,EAAaoG,KAAKyE,SAAQ,SAAC6C,EAAIlF,GACvBlI,EAAQgB,QAAUoM,EAAGpM,QACrB+P,EAAWtG,KACP,yBACIkD,MAAO,CACH9O,MAAO,EAAKY,MAAM0Q,eAAiBjI,EAAI,UAAY,UACnD6F,OAAQ,WAEZ3M,QAAS,kBAAM,EAAKV,SAAS,CAAEV,OAAQ,EAAKP,MAAMC,aAAaoG,KAAKoC,GAAIiI,aAAcjI,KACtFjH,IAAK,gBAAkB+P,GACtBA,IAGTA,QAKkB,IAAtBD,EAAW7O,SACX4O,EACI,yBAAKpD,UAAW,SACXqD,IAKb,IAmIIE,EAnIAC,EACA,yBAAKxD,UAAW,WACZ,yBAAKC,MAAO,CAAEwD,WAAY,IAAM3S,KAAKiB,MAAM2Q,cAAgB,MAAQ1C,UAAW,SAC1E,yBAAKA,UAAW,UACZ,6BACI,6BAAK,yBAAKtM,QAAS,WAAQ,EAAKgQ,cAAgBjD,IAAKG,GAAOc,WAAYtB,IAAI,MAC5E,oGAEJ,gEACYkD,EAAQ,GAEpB,+BAIJ,yBAAKtD,UAAW,WACZ,6BACI,yBAAKA,UAAW,wBAAhB,sBACA,yBAAKA,UAAW,wBAAyB1N,EAAQqR,MAErD,6BACI,yBAAK3D,UAAW,wBAAhB,kCACA,yBAAKA,UAAW,wBAAyB1N,EAAQgB,QAErD,6BACI,yBAAK0M,UAAW,wBAAhB,8CACA,yBAAKA,UAAW,wBAAyB1N,EAAQkB,QAErD,yBAAKwM,UAAW,YACZ,yBAAKA,UAAW,wBAAhB,8CACA,yBAAKA,UAAW,wBAAyB1N,EAAQsR,cAErD,yBAAK5D,UAAW,YACZ,yBAAKA,UAAW,wBAAhB,wCACA,yBAAKA,UAAW,wBAAyB1N,EAAQuR,cAErD,yBAAK7D,UAAW,YACZ,yBAAKA,UAAW,wBAAhB,6EACA,yBAAKC,MAAO,CAAE6D,WAAYxR,EAAQnB,MAAOA,MAAOL,KAAKiT,WAAW5S,OAAS6O,UAAW,sBAAuBlP,KAAKiT,WAAWxP,QAE/H,yBAAKyL,UAAW,YACZ,yBAAKA,UAAW,wBAAhB,iEACA,yBAAKA,UAAW,wBAAyB1N,EAAQ0R,aAErD,yBAAKhE,UAAW,YACZ,yBAAKA,UAAW,wBAAhB,kFACA,yBAAKA,UAAW,wBAAyB1N,EAAQ2R,sBAErD,yBAAKjE,UAAW,YACZ,yBAAKA,UAAW,wBAAhB,+FACA,yBAAKA,UAAW,wBAAyB1N,EAAQ4R,WAAWC,MAAM,KAAK,KAE3E,yBAAKnE,UAAW,YACZ,yBAAKA,UAAW,wBAAhB,yFACA,yBAAKA,UAAW,wBACX1N,EAAQ8R,WAAa,eAAO,uBAGrC,yBAAKpE,UAAW,YACZ,yBAAKA,UAAW,wBAAhB,iEACA,yBAAKA,UAAW,wBAAyB1N,EAAQ+R,WAAWF,MAAM,KAAK,KAE3E,yBAAKnE,UAAW,YACZ,yBAAKA,UAAW,wBAAhB,qLACA,yBAAKA,UAAW,wBAAyB1N,EAAQgS,eAErD,yBAAKtE,UAAW,0BACZ,yBAAKC,MAAO,CAAE5K,MAAO,OAAS2K,UAAW,wBAAzC,sEACA,yBAAKC,MAAO,CAAE5K,MAAO,OAAS2K,UAAW,wBAAyB1N,EAAQiS,WAGlF,yBAAKvE,UAAW,kBACZ,6BACI,6BACI,yBAAKA,UAAW,wBAAhB,8HACA,6BACI,yBACItM,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,EAAMC,cAAe,KACnE7C,MAAO,CAAEuE,gBAAiB,aAAgD5H,IAAvC9L,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAmB,yBAA2BjS,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAK,IAAK,OAC/J,yBACIrP,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,EAAMC,cAAe,KACnE7C,MAAO,CAAEuE,gBAAiB,aAAgD5H,IAAvC9L,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAmB,yBAA2BjS,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAK,IAAK,OAC/J,yBACIrP,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,EAAMC,cAAe,KACnE7C,MAAO,CAAEuE,gBAAiB,aAAgD5H,IAAvC9L,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAmB,yBAA2BjS,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAK,IAAK,OAC/J,yBACIrP,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,EAAMC,cAAe,KACnE7C,MAAO,CAAEuE,gBAAiB,aAAgD5H,IAAvC9L,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAmB,yBAA2BjS,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAK,IAAK,OAC/J,yBACIrP,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,EAAMC,cAAe,KACnE7C,MAAO,CAAEuE,gBAAiB,aAAgD5H,IAAvC9L,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAmB,yBAA2BjS,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAK,IAAK,SAGvK,6BACI,yBAAK/C,UAAW,wBAAhB,gJACA,6BACI,yBACItM,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,EAAMC,cAAe,KACnE7C,MAAO,CAAEuE,gBAAiB,aAAiD5H,IAAxC9L,KAAKiB,MAAMO,OAAQmS,cAAc,GAAmB,yBAA2B3T,KAAKiB,MAAMO,OAAQmS,cAAc,GAAK,IAAK,OACjK,yBACI/Q,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,EAAMC,cAAe,KACnE7C,MAAO,CAAEuE,gBAAiB,aAAiD5H,IAAxC9L,KAAKiB,MAAMO,OAAQmS,cAAc,GAAmB,yBAA2B3T,KAAKiB,MAAMO,OAAQmS,cAAc,GAAK,IAAK,OACjK,yBACI/Q,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,EAAMC,cAAe,KACnE7C,MAAO,CAAEuE,gBAAiB,aAAiD5H,IAAxC9L,KAAKiB,MAAMO,OAAQmS,cAAc,GAAmB,yBAA2B3T,KAAKiB,MAAMO,OAAQmS,cAAc,GAAK,IAAK,OACjK,yBACI/Q,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,EAAMC,cAAe,KACnE7C,MAAO,CAAEuE,gBAAiB,aAAiD5H,IAAxC9L,KAAKiB,MAAMO,OAAQmS,cAAc,GAAmB,yBAA2B3T,KAAKiB,MAAMO,OAAQmS,cAAc,GAAK,IAAK,OACjK,yBACI/Q,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,EAAMC,cAAe,KACnE7C,MAAO,CAAEuE,gBAAiB,aAAiD5H,IAAxC9L,KAAKiB,MAAMO,OAAQmS,cAAc,GAAmB,yBAA2B3T,KAAKiB,MAAMO,OAAQmS,cAAc,GAAK,IAAK,WAKhLrB,EACD,yBAAKpD,UAAW,UACZ,yBAAKA,UAAW,qBACZ,qJAEJ,yBAAKA,UAAW,gBACZ,yBAAKA,UAAW,uBACZ,4BAAQA,UAAW,gBAAnB,4KAKhB,yBAAKtM,QAAS,WAAQ,EAAKgQ,cAAgB1D,UAAW,iBAmB9D,OAdIlP,KAAKiB,MAAM8Q,iBACXU,EAAe,CACX,yBAAKvD,UAAW,gBAAiBtM,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,OAG/E,yBACI5C,MAAO,CAAEyE,QAAS,GAClBhR,QAAS,kBAAM,EAAKV,SAAS,CAAC6P,gBAAgB,KAC9C7C,UAAW,uBACX,yBAAKS,SAA6C7D,IAAvC9L,KAAKiB,MAAMO,OAAQyQ,aAAa,GAAmB,yBAA2BjS,KAAKiB,MAAMO,OAAQyQ,aAAajS,KAAKiB,MAAM+Q,eAAiB,QAK1J,CAACU,EAASD,K,iCA7LsC,IAC/CjR,EAAWxB,KAAKiB,MAAhBO,OACR,OAAIA,EAAQnB,QAAUH,EAAaI,MAAc,CAAEmD,MAAO,6CAAWpD,MAAO,SACxEmB,EAAQnB,QAAUH,EAAaO,OAAe,CAAEgD,MAAO,uCAAUpD,MAAO,SACxEmB,EAAQnB,QAAUH,EAAaQ,IAAY,CAAE+C,MAAO,6CAAWpD,MAAO,SACnE,CAAEoD,MAAO,GAAIpD,MAAO,Q,GAlCYpB,IAAMC,a,SNRhDmP,O,qBAAAA,I,kBAAAA,Q,KAKUA,UOIMwF,I,wHACQrN,EACCsC,EACAC,EACArF,EACA9D,GAEtB,IACiB+G,EAAbC,EAAM,EAmBV,OAlBAC,YAAKL,EAAcsN,OAAQ/M,KAAI,SAAAC,GAAC,OAAIA,EAAEC,MACF,IAAhCT,EAAcsN,MAAOpQ,SACrBkD,EAAMJ,EAAcsN,MAAOtN,EAAcsN,MAAOpQ,OAAS,GAAGuD,IAEhEL,IACAD,EAAOH,EAAc/D,IAAM,SAAWmE,EAAIM,WAEhC,CACND,GAAIL,EACJnE,IAAK,iBAAmBkE,EACxBmC,OAAQA,EACRC,OAAQA,EACRrF,OAAQA,EAER9D,YAAaA,K,0CAOMmU,EAAgBrG,EAAcsG,EAAcC,GA4BnE,OA3BIF,EAAKnU,cAAgBd,EAAYiB,WACjCgU,EAAKrQ,OAASwQ,KAAKC,IAAIzG,EAAa5E,OAAS4E,EAAa7K,GAAK,GAE/DkR,EAAKrQ,OAASwQ,KAAKC,IAAIzG,EAAa3E,OAAS2E,EAAa5K,GAAK,GAG/DiR,EAAKnU,cAAgBd,EAAYiB,WAE7BiU,EAAaI,KAAKvR,GAAKmR,EAAaK,GAAGxR,EACnCmR,EAAaI,KAAKvR,EAAImR,EAAaK,GAAGxR,IACtCkR,EAAKjL,OAASkL,EAAaI,KAAKvR,EAAIoR,EAAepR,GAGvDkR,EAAKjL,OAASkL,EAAaK,GAAGxR,EAAIoR,EAAepR,EAKjDmR,EAAaI,KAAKtR,GAAKkR,EAAaK,GAAGvR,EACnCkR,EAAaI,KAAKtR,EAAIkR,EAAaK,GAAGvR,IACtCiR,EAAKhL,OAASiL,EAAaI,KAAKtR,EAAImR,EAAenR,GAGvDiR,EAAKhL,OAASiL,EAAaK,GAAGvR,EAAImR,EAAenR,EAIlDiR,I,uCAGaO,EAAuBrN,GAC3C,OAAOmB,IAAGC,sBAAsBiM,EAAM,KAAMrN,K,iCAG9BD,EAAGuN,EAAiBnH,EAAkBoH,GA0BpD,OAzBID,EAAM3U,cAAgBd,EAAYiB,WAC9BqN,EACIpG,EAAEyN,QAAUF,EAAMzL,QAClByL,EAAM7Q,QAAWsD,EAAEyN,QAAUD,EAAgB3R,EAAK0R,EAAMzL,OACxDyL,EAAMzL,OAAS9B,EAAEyN,QAAUD,EAAgB3R,IAE3C0R,EAAM7Q,QAAUwQ,KAAKC,IAAKnN,EAAEyN,QAAUD,EAAgB3R,EAAK0R,EAAMzL,QACjEyL,EAAMzL,OAAS9B,EAAEyN,QAAUD,EAAgB3R,GAG/C0R,EAAM7Q,QAAWsD,EAAEyN,QAAUD,EAAgB3R,GAAM0R,EAAMzL,OAASyL,EAAM7Q,QAErE6Q,EAAM3U,cAAgBd,EAAYmB,WACrCmN,EACIpG,EAAE0N,QAAUH,EAAMxL,QAClBwL,EAAM7Q,QAAWsD,EAAE0N,QAAUF,EAAgB1R,EAAKyR,EAAMxL,OACxDwL,EAAMxL,OAAS/B,EAAE0N,QAAUF,EAAgB1R,IAE3CyR,EAAM7Q,QAAUwQ,KAAKC,IAAKnN,EAAE0N,QAAUF,EAAgB1R,EAAKyR,EAAMxL,QACjEwL,EAAMxL,OAAS/B,EAAE0N,QAAUF,EAAgB1R,GAG/CyR,EAAM7Q,QAAWsD,EAAE0N,QAAUF,EAAgB1R,GAAMyR,EAAMxL,OAASwL,EAAM7Q,SAGzE6Q,M,MC7FMI,G,4GACUnO,EAA+BC,EAAkCmJ,GACxF,IAAiBjJ,EAAbC,EAAM,EAOV,OANAC,YAAKL,EAAcoO,SAAU7N,KAAI,SAAAC,GAAC,OAAIA,EAAEC,MACF,IAAlCT,EAAcoO,QAASlR,SACvBkD,EAAMJ,EAAcoO,QAASpO,EAAcoO,QAASlR,OAAS,GAAGuD,IAEpEL,IACAD,EAAOH,EAAc/D,IAAM,WAAamE,EAAIM,WACrC,CACHD,GAAIL,EACJnE,IAAKkE,EACL9D,EAAG4D,EAAO5D,EACVC,EAAG2D,EAAO3D,EACV8M,MAAOA,K,iCAIGiF,EAA+B5N,GAC7C,OAAOmB,IAAGC,sBAAsBwM,EAAY,KAAM5N,O,KCXrC6N,G,WAKjB,aAAe,yBAHPjP,yBAGM,OAFN+D,qBAEM,EACV5J,KAAK6F,oBAAsB,IAAIxG,EAC/BW,KAAK4J,gBAAkB,IAAIhE,E,+DAGLmP,EAA6BrO,GACnD,IAAiBC,EAAbC,EAAM,EAOV,OANAC,YAAKkO,EAAaC,QAAQjO,KAAI,SAAAC,GAAC,OAAIA,EAAEC,MACF,IAA/B8N,EAAaC,OAAOtR,SACpBkD,EAAMmO,EAAaC,OAAOD,EAAaC,OAAOtR,OAAS,GAAGuD,IAE9DL,IACAD,EAAOoO,EAAatS,IAAM,UAAYmE,EAAIM,WACnC,CACHD,GAAIL,EACJnE,IAAKkE,EACLlD,MAAQzD,KAAKiV,mBAAmBvO,GAChCA,KAAMA,EACNwO,aAAclV,KAAKmV,2BAA2BzO,GAC9CoN,MAAO,GACPhN,UAAW,GACX8N,QAAS,M,gDAKgBN,EAA6B5N,GAC1D,IAAI0O,EAAQ,EAAOC,EAAMf,EAAK5Q,OAAS,EAavC,IAXA4Q,EAAKzN,MAAK,SAACyO,EAAGC,GACV,OAAID,EAAE5O,KAAO6O,EAAE7O,KACJ,EAEP4O,EAAE5O,KAAO6O,EAAE7O,MACH,EAGL,KAGJ0O,GAASC,GAAK,CACjB,IAAIG,EAAMtB,KAAKuB,OAAOL,EAAQC,GAAK,GACnC,GAAIf,EAAKkB,GAAK9O,OAASA,EACnB,OAAO8O,EACAlB,EAAKkB,GAAK9O,KAAOA,EACxB0O,EAAQI,EAAM,EAEdH,EAAMG,EAAM,EAGpB,OAAQ,I,yCAIe9O,GACvB,OAAQA,GACJ,KAAKhB,EAAUY,UAAW,MAAO,mDACjC,KAAKZ,EAAUmD,MAAO,MAAO,iCAC7B,KAAKnD,EAAUkD,SAAU,MAAO,yDAChC,KAAKlD,EAAUgQ,WAAY,MAAO,6CAClC,KAAKhQ,EAAUiQ,UAAW,MAAO,+DACjC,QAAS,MAAO,M,iDAKWjP,GAC/B,OAAQA,GACJ,KAAKhB,EAAUY,UACf,KAAKZ,EAAUmD,MAAO,OAAOwF,GAAauH,QAC1C,KAAKlQ,EAAUkD,SAAU,OAAOyF,GAAawH,MAC7C,KAAKnQ,EAAUgQ,WAAY,OAAOrH,GAAauH,QAC/C,KAAKlQ,EAAUiQ,UAAW,OAAOtH,GAAawH,MAC9C,KAAKnQ,EAAUoQ,KAAM,OAAOzH,GAAauH,W,oCAO5BG,EAA+BC,EAAmCtP,GACnF,IAAIuP,EAAc,CACdzE,SAAU,CACN0E,IAAI,EACJpH,OAAQ,GAEZqH,QAAS,CACLD,IAAI,EACJpH,OAAQ,IAGZsH,EAAShO,IAAGC,sBAAsB2N,EAAY,OAAQtP,GAc1D,OAbAuP,EAAYE,QAAQrH,MAAQsH,EAAOtH,MACnCsH,EAASA,EAAOC,MAEmB,IAA/BJ,EAAYE,QAAQrH,QACpBmH,EAAYE,QAAQD,IAAK,EACzBD,EAAYzE,SAAS1C,MAAQ1G,IAAGkO,OAAOP,EAAgBE,EAAYE,QAAQrH,OAAOA,OAC9C,IAAhCmH,EAAYzE,SAAS1C,YAA+ChD,IAA/BmK,EAAYzE,SAAS1C,MAC1DmH,EAAYzE,SAAS0E,IAAK,GAE1BD,EAAYzE,SAAS0E,IAAK,EAC1BD,EAAYzE,SAAS1C,OAAS,IAG/BmH,I,qCAIW3B,GAIlB,IAHA,IACIiC,EAAqB,GAEhBC,EAAI,EAAGA,EAAIlC,EAAK5Q,OAAQ8S,IACzBlC,EAAKkC,GAAG/T,IAAIgU,SAAS,mBACrBF,EAAOtK,KAAKqI,EAAKkC,KAKzB,GAAsB,IAAlBD,EAAO7S,OACP,IAAK,IAAI8S,EAAI,EAAGA,EAAID,EAAO7S,OAAQ8S,IAAK,CACpC,IAAI1H,EAAQwF,EAAKoC,QAAQH,EAAOC,IAChClC,EAAKqC,OAAO7H,EAAO,GAG3B,OAAOwF,I,oCAIU0B,EAAmCtP,EAAiB7D,EAAWC,EAAW0O,GAC3F,IAAI4E,EAAShO,IAAGC,sBAAsB2N,EAAY,OAAQtQ,EAAUY,WAChEsQ,EAAQZ,EAAWI,EAAOtH,OAC9B,GAAIpI,IAAShB,EAAUY,UAAW,CAY9B,IAXA,IAAIuQ,EAAwB7W,KAAK4J,gBAAgBkN,sBAAsBF,EAAO,CAAE/T,IAAGC,KAAK0O,EAASV,cAC3FiG,EAAYF,EAAsBtS,MAClCyS,EAAaH,EAAsBrS,OACnCyS,EAAaJ,EAAsBhU,EACnCqU,EAAaL,EAAsB/T,EAMrCqF,GAL0B0O,EAAsBtS,MACtBsS,EAAsBrS,OAIhCoS,EAAM9P,WACjB4C,EAAI,EAAGA,EAAIvB,EAAczE,OAAQgG,IAAK,CAC3C,IAAMkF,EAAKzG,EAAcuB,GACrB,GAAIkF,EAAGhP,cAAgBd,EAAYiB,YAC/B,GAAI6O,EAAG5I,UAAW3B,WAAatD,EAAkB2D,KAC7C,GAAM7B,GAAM+L,EAAG/L,EAAIkU,GAAgBlU,GAAM+L,EAAG/L,EAAI+L,EAAGrK,OAAezB,GAAM8L,EAAG9L,EAAIkU,EAAc,MAAWlU,GAAM8L,EAAG9L,EAAI8L,EAAGpK,OACpH,OAAO,OAER,GAAIoK,EAAG5I,UAAW3B,WAAatD,EAAkBuD,QAC9CzB,GAAM+L,EAAG/L,EAAIkU,GAAiBlU,GAAM+L,EAAG/L,EAAI+L,EAAGrK,OAAezB,GAAM8L,EAAG9L,EAAIkU,GAAkBlU,GAAM8L,EAAG9L,EAAI8L,EAAGpK,OAC9G,OAAO,OAIf,GAAIoK,EAAG5I,UAAW3B,WAAatD,EAAkB4D,MAC7C,GAAM9B,GAAM+L,EAAG/L,EAAI,MAAWA,GAAM+L,EAAG/L,EAAI+L,EAAGrK,OAAezB,GAAK8L,EAAG9L,GAAOA,GAAM8L,EAAG9L,EAAI8L,EAAGpK,OACxF,OAAO,OAER,GAAIoK,EAAG5I,UAAW3B,WAAatD,EAAkB6D,OAC9C/B,GAAK+L,EAAG/L,GAAOA,GAAM+L,EAAG/L,EAAI+L,EAAGrK,OAAezB,GAAK8L,EAAG9L,GAAOA,GAAM8L,EAAG9L,EAAI8L,EAAGpK,OAC/E,OAAO,EAS3B,IAFA,IACI2S,EAAUC,EAAUC,EADpBvD,EAAQkC,GADZI,EAAShO,IAAGC,sBAAsB2N,EAAY,OAAQtQ,EAAUmD,QAClCiG,OAAOgF,MACLwD,EAAS,EAChC5N,EAAI,EAAGA,EAAIoK,EAAMpQ,OAAQgG,IAAK,CACnC,IAAMkF,EAAKkF,EAAMpK,GAWb,GAVAyN,EAAWvI,EAAG9F,OACdsO,EAAWxI,EAAG7F,OACV6F,EAAGhP,cAAgBd,EAAYiB,YAC/BsX,EAASF,EAAWvI,EAAGlL,OACvB4T,EAASF,EAAW,KAEpBC,EAASF,EAAW,GACpBG,EAASF,EAAWxI,EAAGlL,QAGtBuT,EAAcE,EAAWJ,GAAcE,EAAaI,GAAYH,EAAcE,EAAWJ,GAAeE,EAAaI,EACtH,OAAO,QAGhB,GAAI5Q,IAAShB,EAAUmD,YAEvB,GAAInC,IAAShB,EAAUiQ,UAE1B,OAAO,EAUX,OAAO,M,yBC7NM4B,G,kCAAAA,GACHC,KAA+B,CACzCC,UAAWC,K,ICJEC,G,kCAAAA,GAGHC,IAAc,kC,ICIXC,G,+FACGC,G,gFACZF,EAAMD,GAAQC,IAAM,+BAAiCE,EAAeL,U,kBACjE,IAAIM,SAAS,SAAAC,GAChBC,MAAML,EAAK,CACPM,OAAQ,QACTC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAAQF,MAAK,SAACG,GACzCN,EAAQM,MACTC,OAAM,WACLC,YAAW,kBAAMC,GAAUC,WAAU,Y,8CCThCD,G,qLAGkB,GACpBzY,KACP2Y,EAAS,IAAId,G,oBACCc,EAAOC,OAAOrB,GAAmBC,O,OAAnDxX,KAAKwX,K,YAGuB1L,IAAxB9L,KAAKwX,KAAL,SACAxX,KAAKwX,KAAO,CACR,CACIvQ,GAAI,EACJxE,IAAK,SACLgB,MAAO,6BACPuR,OAAQ,IAEZ,CACI/N,GAAI,EACJxE,IAAK,SACLgB,MAAO,6BACPuR,OAAQ,IAEZ,CACI/N,GAAI,EACJxE,IAAK,SACLgB,MAAO,6BACPuR,OAAQ,MAKe,GACnCwD,YAAW,WAUP7X,EAAKC,QAAQmB,KAAK,iBACnB,K,wDA5CU0W,GA+CHjB,KAA6B,CACvC,CACIvQ,GAAI,EACJxE,IAAK,SACLgB,MAAO,6BACPuR,OAAQ,IAEZ,CACI/N,GAAI,EACJxE,IAAK,SACLgB,MAAO,6BACPuR,OAAQ,IAEZ,CACI/N,GAAI,EACJxE,IAAK,SACLgB,MAAO,6BACPuR,OAAQ,K,ICvEf6D,GCoCgBC,G,YASnB,WAAY9Z,GAAmB,IAAD,8BAC5B,4CAAMA,KARD4K,qBAOuB,IANvBmP,mBAMuB,IALvBC,kBAKuB,IAJvBC,iBAIuB,IAFvBC,SAAuB,GAEA,EAiIvBC,aAA8B,CAAC,cAAe,gBAAiB,iBAAkB,gBAjI1D,EA8tB9BC,YAAc,SAAApS,GACZA,EAAEuE,IAAI8N,iBACe,EAAKL,aAAaM,0BAA0B,EAAKrY,MAAMO,OAAO,EAAKP,MAAM8T,cAAcC,OAAQtP,EAAUY,WAA9H,IAWMiT,EAAQvS,EAAE8C,OAAO0P,WACjBC,EAAWF,EAAMrP,SACjBwP,EACDH,EAAMI,qBAAqB9W,EAAI4W,EAAWF,EAAM1W,IAAM4W,EADrDC,EAEDH,EAAMI,qBAAqB7W,EAAI2W,EAAWF,EAAMzW,IAAM2W,EAGrDG,EAAW5S,EAAEuE,IAAIhJ,OAAS,EAjBlB,MAiBsBkX,EAAqBA,EAjB3C,MAmBdF,EAAM1Z,MAAM,CAAEgD,GAAgB,EAAZ+W,EAAgB9W,GAAgB,EAAZ8W,IAEtC,EAAK1X,SAAS,CACZ2X,YAAa,CACXhX,GAAgB,EAAZ+W,EACJ9W,GAAgB,EAAZ8W,GAENE,WAAYF,EACZG,SACIL,EAAiBH,EAAMI,qBAAqB9W,EAAI+W,GAAYA,EAChEI,SACIN,EAAiBH,EAAMI,qBAAqB7W,EAAI8W,GAAYA,KA5vBlE,EAAKhQ,gBAAkB,IAAIhE,EAC3B,EAAKmT,cAAgB,IAAIpE,GACzB,EAAKqE,aAAe,IAAIlE,GACxB,EAAKmE,YAAc,IAAIpF,GAIvB,EAAK5S,MAAQ,CACX4Y,YAAa,CACXhX,EAAG,EACHC,EAAG,GAELmX,aAAa,EACb7Y,UAAW,EAAKpC,MAAMoC,UAEtB8Y,mBAAmB,EACnBC,gBAAgB,EAChBC,uBAAmBtO,EACnBuO,mBAAevO,EACfwO,mBAAmB,EACnBC,kBAAkB,EAClBC,qBAAsB,GAEtBC,kBAAkB,EAClBC,gBAAiB,EACjBC,WAAY,EACZ5F,aAAc,EACdvO,eAAgB,EAChBsT,WAAY,EACZC,OAAQ,EACRC,OAAQ,EACRY,aAAa,EACbpZ,OAAQ,EAAKxC,MAAMwC,OACnBqZ,WAAW,EACXnN,aAAc,CACZ5E,OAAQ,EACRC,OAAQ,EACRlG,EAAG,EACHC,EAAG,GAELgY,WAAW,EACXC,SAAS,EACTC,qBAAqB,EACrBC,eAAgB,GAChBC,iBAAiB,EACjB1G,gBAAiB,CACf3R,EAAG,EACHC,EAAG,GAELkR,aAAc,CACZK,GAAI,CACFxR,EAAG,EACHC,EAAG,GAELsR,KAAM,CACJvR,EAAG,EACHC,EAAG,IAKPqY,0BAA0B,EAC1BC,kBAAmB,EACnBhO,SAAS,EACTiO,mBAAmB,EACnBC,0BAAsBxP,EACtByP,wBAAyB,CACvBzS,OAAQ,EAAGC,OAAQ,EACnByS,WAAY,EAAGC,WAAY,IAI/B,EAAKC,sBAAwB,EAAKA,sBAAsBha,KAA3B,gBAC7B,EAAKia,cAAgB,EAAKA,cAAcja,KAAnB,gBACrB,EAAKka,sBAAwB,EAAKA,sBAAsBla,KAA3B,gBAC7B,EAAKma,WAAa,EAAKA,WAAWna,KAAhB,gBAClB,EAAKoa,cAAgB,EAAKA,cAAcpa,KAAnB,gBACrB,EAAKqa,WAAa,EAAKA,WAAWra,KAAhB,gBAClB,EAAKsa,kBAAoB,EAAKA,kBAAkBta,KAAvB,gBACzB,EAAKua,wBAA0B,EAAKA,wBAAwBva,KAA7B,gBAC/B,EAAKwa,sBAAwB,EAAKA,sBAAsBxa,KAA3B,gBAC7B,EAAKya,wBAA0B,EAAKA,wBAAwBza,KAA7B,gBAC/B,EAAK0a,wBAA0B,EAAKA,wBAAwB1a,KAA7B,gBAC/B,EAAK2a,oBAAsB,EAAKA,oBAAoB3a,KAAzB,gBAC3B,EAAK4a,aAAe,EAAKA,aAAa5a,KAAlB,gBACpB,EAAK6a,gCAAkC,EAAKA,gCAAgC7a,KAArC,gBACvC,EAAK8a,kCAAoC,EAAKA,kCAAkC9a,KAAvC,gBACzC,EAAK+a,qBAAuB,EAAKA,qBAAqB/a,KAA1B,gBAC5B,EAAKgb,gBAAkB,EAAKA,gBAAgBhb,KAArB,gBACvB,EAAKib,oBAAsB,EAAKA,oBAAoBjb,KAAzB,gBAC3B,EAAKkb,cAAgB,EAAKA,cAAclb,KAAnB,gBACrB,EAAK8G,YAAc,EAAKA,YAAY9G,KAAjB,gBACnB,EAAKmb,wBAA0B,EAAKA,wBAAwBnb,KAA7B,gBAC/B,EAAKob,aAAe,EAAKA,aAAapb,KAAlB,gBACpB,EAAKqb,YAAc,EAAKA,YAAYrb,KAAjB,gBAGnBf,EAAKC,QAAQgB,YAAY,aAAc,EAAKia,YAE5Clb,EAAKC,QAAQgB,YAAY,gCAAiC,EAAKwa,yBAE/Dzb,EAAKC,QAAQgB,YAAY,gBAAiB,EAAKka,eAE/Cnb,EAAKC,QAAQgB,YAAY,kCAAmC,EAAK2a,iCAEjE5b,EAAKC,QAAQgB,YAAY,oCAAqC,EAAK4a,mCAEnE7b,EAAKC,QAAQgB,YAAY,mBAAoB,EAAK6a,sBAElD9b,EAAKC,QAAQgB,YAAY,kBAAmB,EAAK8a,iBAEjD/b,EAAKC,QAAQgB,YAAY,sBAAuB,EAAK+a,qBAErDhc,EAAKC,QAAQgB,YAAY,oBAAqB,EAAKgb,eAEnDjc,EAAKC,QAAQgB,YAAY,uBAAwB,EAAK4G,aAEtD7H,EAAKC,QAAQgB,YAAY,0BAA2B,EAAKib,yBAEzDlc,EAAKC,QAAQgB,YAAY,eAAgB,EAAKkb,cAE9Cnc,EAAKC,QAAQgB,YAAY,cAAe,EAAKmb,aAE7Cpc,EAAKC,QAAQgB,YAAY,kBAAkB,SAACO,EAAcuJ,GAAf,OAA0C,EAAKxJ,SAAS,CAAE8a,YAAa7a,EAAK8a,iBAAkBvR,OA9H7G,E,iFAkIH,IAAD,SACM1L,KAAKiB,MAA5BgZ,EADiB,EACjBA,YADiB,EACJzY,OAChByY,GACFja,KAAKmZ,aAAapN,SAAQ,SAAA6C,GACxB,EAAKsK,SAASjN,KAAKiR,SAASC,eAAevO,GAAKwO,QAAQ,CACtD,CAAExJ,QAAS,OACX,CAAEA,QAAS,OACX,CAAEA,QAAS,QACV,CACDtJ,SAAU,IACV+S,WAAYC,Y,yCAMDC,EAAgCC,EAAgCC,GACjFP,SAASC,eAAe,eAAgBhO,MAAMyE,QAAU,Q,mCAGtClN,EAAiBgX,EAAgBrZ,GAAqB,IAAD,OACvErE,KAAKkC,SAAS,CAAEgY,mBAAmB,IADoC,IAInEyD,EAJmE,EAEtC3d,KAAKiB,MAA9BO,EAF+D,EAE/DA,OAAQuT,EAFuD,EAEvDA,aACZ/M,EAAQ3D,IAAasB,EAASjB,KAAOL,IAAasB,EAAShB,KAE/D,QAAamH,IAATpF,QAAoCoF,IAAd4R,GACpBhX,IAAShB,EAAUY,UAAW,CAChCqX,EAAa3d,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQtO,GACtF,IACIkX,EAEajX,EAHbkX,EAA6BH,EAE7BI,EAAStc,EAAOuT,GAAcC,OAAO2I,GACrC/W,EAAM,EACVC,YAAKiX,EAAOhX,WAAYC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,MACF,IAA7B6W,EAAOhX,UAAWpD,SACpBkD,EAAMkX,EAAOhX,UAAWgX,EAAOhX,UAAWpD,OAAS,GAAGuD,IAExDL,IACAD,EAAOmX,EAAOrb,IAAM,aAAemE,EAAIM,WAEvC,IAAI6W,EAASF,EAAaxW,gBACtBwW,EAAazW,OAASjI,EAAaK,SAkBjCue,EAjBC/V,EAgBCE,SAAS6V,EAAQ,GAAGta,OAAS,EACtB,CACP,CACEjB,MAAO,EACPiB,OAAQyE,SAAS6V,EAAQ,GAAGta,OAAS,GAAGyD,YAE1C,CACE1E,MAAO,EACPiB,OAAQyE,SAAS6V,EAAQ,GAAGta,OAAS,GAAGyD,YAE1C,CACE1E,MAAO,EACPiB,OAAQyE,SAAS6V,EAAQ,GAAGta,OAAS,GAAGyD,aAInC2W,EAAaxW,gBA/Bf,CACP,CACE7E,MAAO,EACPiB,OAAQyE,SAAS6V,EAAQ,GAAGta,OAAS,GAAGyD,YAE1C,CACE1E,MAAO,EACPiB,OAAQyE,SAAS6V,EAAQ,GAAGta,OAAS,GAAGyD,YAE1C,CACE1E,MAAO,EACPiB,OAAQyE,SAAS6V,EAAQ,GAAGta,OAAS,GAAGyD,cAwBhD0W,EAAe,CACb3W,GAAIL,EACJnE,IAAKkE,EACL9D,EAAGgb,EAAaje,cAAgBd,EAAYiB,WAAa,EAAI8d,EAAahb,EAC1EC,EAAG+a,EAAaje,cAAgBd,EAAYmB,SAAW,EAAI4d,EAAa/a,EACxElD,YAAaie,EAAaje,YAC1BoG,UAAW6X,EAAa7X,UACxBoB,KAAMyW,EAAazW,KACnBC,gBAAiB0W,EACjBzW,KAAM,GACN3H,SAAU,GAIR0E,IAAasB,EAASf,MACxBgZ,EAAc/a,EAAIgb,EAAahb,EAAI,GAC5BwB,IAAasB,EAAShB,KAC7BiZ,EAAc/a,EAAIgb,EAAahb,EAAI,GAC5BwB,IAAasB,EAASrB,OAC7BsZ,EAAc9a,EAAI+a,EAAa/a,EAAI,GAC5BuB,IAAasB,EAASjB,MAC7BkZ,EAAc9a,EAAI+a,EAAa/a,EAAI,IAErCtB,EAAOuT,GAAcC,OAAO2I,GAAY7W,UAAWmF,KAAK2R,GAExD/b,QAAQC,IAAI8b,GACZ5d,KAAKoL,aAAY,kBAAM,EAAKlJ,SAAS,CAAEV,cAEvCb,EAAKC,QAAQmB,KAAK,0BAA0B,M,gDAMhDpB,EAAKC,QAAQmB,KAAK,4B,kCAGD2E,EAAiBO,GAAK,IAAD,SACLjH,KAAKiB,MAA9BO,EAD8B,EAC9BA,OAAQuT,EADsB,EACtBA,aACZ4I,EAAa3d,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQtO,GAC1F,GAAIA,IAAShB,EAAUY,UAAW,CAChC,IAAI0X,EAAMhe,KAAK4J,gBAAgBqU,mBAAmBzc,EAAOuT,GAAcC,OAAO2I,GAAY7W,UAAYG,GACtGzF,EAAOuT,GAAcC,OAAO2I,GAAY7W,UAAW6P,OAAOqH,EAAIlP,MAAO,QAChE,GAAIpI,IAAShB,EAAUkD,SAAU,CACtC,IAAIoV,EAAMhe,KAAK+Y,cAAcmF,WAAW1c,EAAOuT,GAAcC,OAAO2I,GAAY/I,QAAU3N,GAC1FzF,EAAOuT,GAAcC,OAAO2I,GAAY/I,QAAS+B,OAAOqH,EAAIlP,MAAO,QAC9D,GAAIpI,IAAShB,EAAUmD,MAAO,CACnC,IAAImV,EAAMhe,KAAKiZ,YAAYkF,iBAAiB3c,EAAOuT,GAAcC,OAAO2I,GAAY7J,MAAQ7M,GAC5FzF,EAAOuT,GAAcC,OAAO2I,GAAY7J,MAAO6C,OAAOqH,EAAIlP,MAAO,GAEnE9O,KAAKoL,aAAY,kBAAM,EAAKlJ,SAAS,CAAEV,gB,oCAGpBgK,EAAexE,EAAQC,EAAYmX,M,sCAKjCC,EAAa3X,EAAiB4X,GAAkB,IAAD,SACnCte,KAAKiB,MAA9BO,EAD4D,EAC5DA,OAAQuT,EADoD,EACpDA,aAEhB,GAAIrO,IAAShB,EAAUY,UAAW,CAChC,IAAIiY,EAAqBve,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQtP,EAAUY,WACxGkY,EAAcxe,KAAK4J,gBAAgBqU,mBAAmBzc,EAAOuT,GAAcC,OAAOuJ,GAAoBzX,UAAYuX,EAAYpX,IAC9HyE,EAAWlK,EAAOuT,GAAcC,OAAOuJ,GAAoBzX,UAAW0X,EAAY1P,OAClFwP,IAAW7Y,EAAQf,IACrBgH,EAAS5I,GANA,EAOAwb,IAAW7Y,EAAQnB,OAC5BoH,EAAS5I,GARA,EASAwb,IAAW7Y,EAAQd,KAC5B+G,EAAS7I,GAVA,EAWAyb,IAAW7Y,EAAQb,QAC5B8G,EAAS7I,GAZA,GAcXrB,EAAOuT,GAAcC,OAAOuJ,GAAoBzX,UAAW0X,EAAY1P,OAASpD,EAEhF/K,EAAKC,QAAQmB,KAAK,+BAAgC2J,EAASjJ,IAAKiJ,EAAS7I,EAAG6I,EAAS5I,GACrFnC,EAAKC,QAAQmB,KAAK,6BAA8B2J,EAASjJ,IAAKiJ,EAAS7I,EAAG6I,EAAS5I,GACnFnC,EAAKC,QAAQmB,KAAK,qBAAsB2J,EAASjJ,IAAKiJ,EAAS7I,EAAG6I,EAAS5I,GAE3E9C,KAAKoL,aAAY,kBAAM,EAAKlJ,SAAS,CAAEV,iB,2CAKf8J,GAC1BtL,KAAKkC,SAAS,CAAEoY,kBAAmBhP,M,0CAGVA,EAAOG,QAClBK,IAAVL,EACFzL,KAAKkC,SAAS,CAAEqY,iBAAkBjP,EAAOkP,qBAAsB/O,IAE/DzL,KAAKkC,SAAS,CAAEqY,iBAAkBjP,M,4CAKTtE,GAAI,IAAD,SAC8GhH,KAAKiB,MAAzIO,EADsB,EACtBA,OAAQuT,EADc,EACdA,aAAoD2F,GADtC,EACAO,eADA,EACgBK,qBADhB,EACsCZ,gBAAgBU,EADtD,EACsDA,kBAAmBhO,EADzE,EACyEA,QAAqByM,GAD9F,EACkFC,WADlF,EAC8FD,aACpG7Z,KAAKiB,MAAvBuF,cAIN,GAAIxG,KAAKiB,MAAMsZ,uBAC2BzO,IAApC9L,KAAKiB,MAAMuZ,qBACb,GAAIxa,KAAKiB,MAAMuZ,qBAAsB9T,OAAShB,EAAUY,UAAW,CAMjE,IALA,IAAIiY,EAAqBve,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQtP,EAAUY,WACxGkY,EAAcxe,KAAK4J,gBAAgBqU,mBAAmBzc,EAAOuT,GAAcC,OAAOuJ,GAAoBzX,UAAY9G,KAAKiB,MAAMuZ,qBAAqB/O,MAAMxE,IACxJyE,EAAWlK,EAAOuT,GAAcC,OAAOuJ,GAAoBzX,UAAW0X,EAAY1P,OAElF3G,EAAgB3G,EAAOuT,GAAcC,OAAOuJ,GAAoBzX,UAC3D4C,EAAI,EAAGA,EAAIvB,EAAezE,OAAQgG,IAAK,CAC9C,IAAMkF,EAAKzG,EAAeuB,GAC1B,GAAIgC,EAASjJ,MAAQmM,EAAGnM,IAEbmM,EAAG/L,EACH+L,EAAG9L,EACJkE,EAAEyN,QAAUzU,KAAKiB,MAAMuT,gBAAgB3R,EACvCmE,EAAE0N,QAAU1U,KAAKiB,MAAMuT,gBAAgB1R,EA0CnDjB,QAAQC,IAAI,sBACZD,QAAQC,IAAI+X,GAEZnO,EAAS7I,EAAKmE,EAAEyN,QAAUzU,KAAKiB,MAAMuT,gBAAgB3R,EACrD6I,EAAS5I,EAAKkE,EAAE0N,QAAU1U,KAAKiB,MAAMuT,gBAAgB1R,EACrDtB,EAAOuT,GAAcC,OAAOuJ,GAAoBzX,UAAW0X,EAAY1P,OAASpD,EAChF/K,EAAKC,QAAQmB,KAAK,+BAAgC2J,EAASjJ,IAAKiJ,EAAS7I,EAAG6I,EAAS5I,GACrFnC,EAAKC,QAAQmB,KAAK,6BAA8B2J,EAASjJ,IAAKiJ,EAAS7I,EAAG6I,EAAS5I,GACnFnC,EAAKC,QAAQmB,KAAK,qBAAsB2J,EAASjJ,IAAKiJ,EAAS7I,EAAG6I,EAAS5I,GAC3E9C,KAAKoL,aAAY,kBAAM,EAAKlJ,SAAS,CAAEV,mBAClC,GAAIxB,KAAKiB,MAAMuZ,qBAAsB9T,OAAShB,EAAUkD,SAAU,CACvE,IAAI6V,EAAqBze,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQtP,EAAUkD,UACxG4V,EAAcxe,KAAK+Y,cAAcmF,WAAW1c,EAAOuT,GAAcC,OAAOyJ,GAAoB7J,QAAU5U,KAAKiB,MAAMuZ,qBAAqB/O,MAAMxE,IAC5IyX,EAAQld,EAAOuT,GAAcC,OAAOyJ,GAAoB7J,QAAS4J,EAAY1P,OAEjF4P,EAAM7b,EAAImE,EAAEyN,QAAUzU,KAAKiB,MAAMuT,gBAAgB3R,EACjD6b,EAAM5b,EAAIkE,EAAE0N,QAAU1U,KAAKiB,MAAMuT,gBAAgB1R,EACjDtB,EAAOuT,GAAcC,OAAOyJ,GAAoB7J,QAAS4J,EAAY1P,OAAS4P,EAC9E1e,KAAKoL,aAAY,kBAAM,EAAKlJ,SAAS,CAAEV,mBAClC,GAAIxB,KAAKiB,MAAMuZ,qBAAsB9T,OAAShB,EAAUmD,MAAO,CACpE,IAAI8V,EAAkB3e,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQtP,EAAUmD,OACrG2V,EAAcxe,KAAKiZ,YAAYkF,iBAAiB3c,EAAOuT,GAAcC,OAAO2J,GAAiB7K,MAAQ9T,KAAKiB,MAAMuZ,qBAAqB/O,MAAMxE,IAC3I8M,EAAOvS,EAAOuT,GAAcC,OAAO2J,GAAiB7K,MAAO0K,EAAY1P,OAE3EiF,EAAKjL,OAAS9B,EAAEyN,QAAUzU,KAAKiB,MAAMuT,gBAAgB3R,EACrDkR,EAAKhL,OAAS/B,EAAE0N,QAAU1U,KAAKiB,MAAMuT,gBAAgB1R,EACrDtB,EAAOuT,GAAcC,OAAO2J,GAAiB7K,MAAO0K,EAAY1P,OAASiF,EACzE/T,KAAKoL,aAAY,kBAAM,EAAKlJ,SAAS,CAAEV,cAO7C,GAAIxB,KAAKiB,MAAMoa,kBAAmB,CAEhC1a,EAAKC,QAAQmB,KAAK,gBAAgB,GAElC,IAAIwS,EAAQ/S,EAAOuT,GAAcC,OAAO0F,GAAgB5G,MAAOsH,GAE/D7G,EAAQvU,KAAKiZ,YAAY2F,WAAW5X,EAAGuN,EAAOnH,EAASpN,KAAKiB,MAAMuT,iBAElEhT,EAAOuT,GAAcC,OAAO0F,GAAgB5G,MAAOsH,GAAqB7G,EAExEvU,KAAKkC,SAAS,CAAEV,WAGdxB,KAAKiB,MAAM6Z,WACb9a,KAAKkC,SAAS,CACZwL,aAAc,CACZ5E,OAAQ9I,KAAKiB,MAAMyM,aAAa5E,OAChCC,OAAQ/I,KAAKiB,MAAMyM,aAAa3E,OAChClG,EAAGmE,EAAEyN,QACL3R,EAAGkE,EAAE0N,a,sDAQ2B1N,GAAI,IAAD,EAC0EhH,KAAKiB,MAAhHO,EADiC,EACjCA,OAAQ4L,EADyB,EACzBA,QAAS2H,EADgB,EAChBA,aAAckG,EADE,EACFA,eAAgBI,EADd,EACcA,kBAAmBC,EADjC,EACiCA,qBAAsBZ,EADvD,EACuDA,eACxE1a,KAAKiB,MAAvBuF,cAEN,GADAxG,KAAKkC,SAAS,CAAEqY,kBAAkB,IAC9Bc,GAAqBC,EAAsB,CAC7C,IAAIuD,EAAQ7e,KAAKiZ,YAAYkF,iBAAiB3c,EAAOuT,GAAcC,OAAO0F,GAAgB5G,MAAQwH,EAAqBrU,IACnHsN,EAAkBsK,EAAMxI,KAC5B9B,EAAQvU,KAAKiZ,YAAY2F,WAAW5X,EAAGuN,EAAOnH,EAASpN,KAAKiB,MAAMuT,iBAClEhT,EAAOuT,GAAcC,OAAO0F,GAAgB5G,MAAO+K,EAAM/P,OAASyF,EAElE/S,EAAOuT,GAAcC,OAAO0F,GAAgB5G,MAAQ9T,KAAKgZ,aAAa8F,eACpEtd,EAAOuT,GAAcC,OAAO0F,GAAgB5G,OAG9C9T,KAAKkC,SAAS,CAAEkZ,kBAAmByD,EAAM/P,MAAOtN,SAAQ6Z,mBAAmB,EAAOP,WAAW,EAAOG,eAAgBA,IACpHta,EAAKC,QAAQmB,KAAK,gBAAgB,M,wDAKIiF,EAAG+X,EAAsB3R,GACjEzM,EAAKC,QAAQmB,KAAK,gBAAgB,GADiD,MAElC/B,KAAKiB,MAA9CO,EAF2E,EAE3EA,OAAQyZ,EAFmE,EAEnEA,eAAgBlG,EAFmD,EAEnDA,aAI5BiK,GAHYhf,KAAKgZ,aAAaiG,cAAchE,EAAgBzZ,EAAOuT,GAAcC,OAAQtP,EAAUmD,OAG1F7I,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQtP,EAAUmD,QAC5FqW,EAAU1d,EAAOuT,IAEL,IAAZiK,GACFE,EAAQlK,OAAO/I,KACbjM,KAAKgZ,aAAamG,mBAAmB3d,EAAOuT,GAAerP,EAAUmD,QAIzEmW,EAAShf,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQtP,EAAUmD,OAE1F7I,KAAKkC,SAAS,CAAEwY,eAAgBsE,EAAQxY,eAAgB,IAK1D,IAAIqY,EAAQ7e,KAAKiZ,YAAYkF,iBAAiB3c,EAAOuT,GAAcC,OAAOgK,GAAQlL,MAAQiL,EAAW9X,IACrGjH,KAAKkC,SAAS,CAAEkZ,kBAAmByD,EAAM/P,MAAO1B,UAASkO,qBAAsByD,EAAY1D,mBAAmB,EAAMP,WAAW,M,mCAK5GjY,EAAWC,GAC9B9C,KAAKkC,SAAS,CACZsS,gBAAiB,CACf3R,EAAGA,EACHC,EAAGA,O,0CAKmBsc,GAC1Bpf,KAAKkC,SAAS,CAAEgZ,gBAAiBkE,M,8CAGJ9T,GAC7BtL,KAAKkC,SAAS,CACZ8Y,oBAAqB1P,M,8CAKOtE,GAAI,IAAD,EACoFhH,KAAKiB,MAAlHO,EADyB,EACzBA,OAAQuT,EADiB,EACjBA,aAA6B+F,GADZ,EACHtU,cADG,EACYsU,WAAWH,EADvB,EACuBA,UAAWnG,EADlC,EACkCA,gBAAiB9G,EADnD,EACmDA,aAAcgN,EADjE,EACiEA,eAElG,GAAI1a,KAAKiB,MAAM8Z,SACTD,EAAW,CACb,IAAIvG,EAAQ/S,EAAOuT,GAAcC,OAAO0F,GAAgB5G,MAAO6G,GAC/D,GAAIpG,EAAM3U,cAAgBd,EAAYiB,WACpC,GAAIwU,EAAMzL,OAAU9B,EAAEuE,IAAIkJ,QAAUD,EAAgB3R,EAAI,CACtD,IAAIwc,EAAUnL,KAAKC,IAAII,EAAMzL,QAAU9B,EAAEuE,IAAIkJ,QAAUD,EAAgB3R,IACvE0R,EAAM7Q,QAAU2b,EAAU9K,EAAM7Q,YACvB6Q,EAAMzL,OAAU9B,EAAEuE,IAAIkJ,QAAUD,EAAgB3R,IACzD0R,EAAMzL,OAAU9B,EAAEuE,IAAIkJ,QAAUD,EAAgB3R,EAChD0R,EAAM7Q,OAASwQ,KAAKC,IAAII,EAAMzL,OAAS4E,EAAa5E,cAGtD,GAAIyL,EAAMxL,OAAU/B,EAAEuE,IAAImJ,QAAUF,EAAgB1R,EAAI,CACtD,IAAIuc,EAAUnL,KAAKC,IAAII,EAAMxL,QAAU/B,EAAEuE,IAAImJ,QAAUF,EAAgB1R,IACvEyR,EAAM7Q,QAAU2b,EAAU9K,EAAM7Q,YACvB6Q,EAAMxL,OAAU/B,EAAEuE,IAAImJ,QAAUF,EAAgB1R,IACzDyR,EAAMxL,OAAU/B,EAAEuE,IAAImJ,QAAUF,EAAgB1R,EAChDyR,EAAM7Q,OAASwQ,KAAKC,IAAII,EAAMxL,OAAS2E,EAAa3E,Y,8CAO9B/B,GAAI,IAAD,EAC+BhH,KAAKiB,MAA7DO,EADyB,EACzBA,OAAQuT,EADiB,EACjBA,aAAcvO,EADG,EACHA,cAAeyU,EADZ,EACYA,eAC7C,GAAIjb,KAAKiB,MAAM8Z,QAAS,CACtB,IAAIvJ,EAAwBrD,GAASC,MAAMS,WAC3C,QAAiB/C,IAAb0F,EAAwB,CAC1BxR,KAAKkC,SAAS,CACZ4Y,WAAW,EACXpN,aAAc,CACZ5E,OAAQ9B,EAAEuE,IAAIkJ,QACd1L,OAAQ/B,EAAEuE,IAAImJ,QACd7R,EAAG,EACHC,EAAG,GAELkR,aAAc,CACZK,GAAIrU,KAAKiB,MAAM+S,aAAaK,GAC5BD,KAAM,CACJvR,EAAGmE,EAAEuE,IAAIkJ,QACT3R,EAAGkE,EAAEuE,IAAImJ,YAKf,IAAI5F,EAAQ9O,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQtP,EAAUmD,OAC3FqW,EAAU1d,EAAOuT,IAEN,IAAXjG,GACFoQ,EAAQlK,OAAO/I,KACbjM,KAAKgZ,aAAamG,mBAAmB3d,EAAOuT,GAAerP,EAAUmD,QAIzEiG,EAAQ9O,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQtP,EAAUmD,QACpE,IAAnBrC,EACFxG,KAAKkC,SAAS,CAAEwY,eAAgB5L,EAAOtI,eAAgB,KAEvDyU,EAAehP,KAAK6C,GACpB9O,KAAKkC,SAAS,CAAE+Y,iBAAgBzU,cAAesI,EAAO4L,eAAgB5L,KAGxE,IAAI2F,EAAUzN,EAAEuE,IAAIkJ,QAAUzU,KAAKiB,MAAMuT,gBAAgB3R,EACrD6R,EAAU1N,EAAEuE,IAAImJ,QAAU1U,KAAKiB,MAAMuT,gBAAgB1R,EAEzD,GAAI9C,KAAKgZ,aAAasG,cAAc9d,EAAOuT,GAAcC,OAASxD,EAAS9K,KAAO+N,EAASC,EAASlD,GAAW,OAI/G,GAAIhQ,EAAOuT,GAAcC,OAAOlG,GAAOpI,OAAShB,EAAUmD,MAAO,CAE/DrH,EAAOuT,GAAcC,OAAOlG,GAAOgF,MAAO7H,KACxCjM,KAAKiZ,YAAYsG,kBACf/d,EAAOuT,GAAcC,OAAOlG,GAC5B2F,EACAC,EACA,GACAvG,GAASC,MAAMS,WAAWjP,cAI9B,IAAIkU,EAAQtS,EAAOuT,GAAcC,OAAOlG,GAAOgF,MAC3C6G,EAAY3a,KAAKiZ,YAAYkF,iBAAiBrK,EAAOA,EAAMA,EAAMpQ,OAAS,GAAGuD,IAAI6H,MACrFtN,EAAOuT,GAAcC,OAAOlG,GAAOgF,MAAQA,EAC3C9T,KAAKkC,SAAS,CAAEyY,YAAWnZ,gB,4CAMLwF,GACxBhH,KAAKiB,MAAMoa,mBACbrb,KAAKkC,SAAS,CAAEmZ,mBAAmB,EAAOP,WAAW,IAEnD9a,KAAKiB,MAAM8Z,SACb/a,KAAKkC,SAAS,CAEZ4Y,WAAW,EACXpN,aAAc,CACZ5E,OAAQ9I,KAAKiB,MAAMyM,aAAa5E,OAChCC,OAAQ/I,KAAKiB,MAAMyM,aAAa3E,OAChClG,EAAGmE,EAAEuE,IAAIkJ,QACT3R,EAAGkE,EAAEuE,IAAImJ,SAEXV,aAAc,CACZK,GAAI,CACFxR,EAAGmE,EAAEuE,IAAIkJ,QACT3R,EAAGkE,EAAEuE,IAAImJ,SAEXN,KAAMpU,KAAKiB,MAAM+S,aAAaI,U,wCAMb1K,GAAI,IAAD,EACS1J,KAAKiB,MAAhCO,EADkB,EAClBA,OAAQyZ,EADU,EACVA,eAChB,GAAIA,EAAexE,SAAS/M,GAAI,CAC9B,IAAIoF,EAAQmM,EAAevE,QAAQhN,GACnCuR,EAAetE,OAAO7H,EAAO,QAE7BmM,EAAehP,KAAKvC,GAElBlI,EAAOkC,OAAS,IAAMuX,EAAevX,OACvC1D,KAAKkC,SAAS,CACZ+Y,iBACAzU,eAAgB,IAGlBxG,KAAKkC,SAAS,CACZ+Y,iBACAzU,cAAyC,IAA1ByU,EAAevX,QAAgB,EAAIgG,M,mCAOtD8V,MAAM,c,sCAKFxf,KAAKiB,MAAM8Z,SACbpa,EAAKC,QAAQmB,KAAK,qBAEpB/B,KAAKkC,SAAS,CACZ6Y,SAAU/a,KAAKiB,MAAM8Z,Y,iCAMPtG,EAAiBC,GAAkB,IAAD,SACuB1U,KAAKiB,MAAtEO,EAD0C,EAC1CA,OAAQuT,EADkC,EAClCA,aAAcvO,EADoB,EACpBA,cAAeyU,EADK,EACLA,eACzCzJ,GAF8C,EACWuJ,QACjC5M,GAASC,MAAMS,YAG3C,QAAiB/C,IAAb0F,EAAwB,CAC1B,IACIoF,EADA6I,EAAczf,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQxD,EAAS9K,MAWpG,IATqB,IAAjB+Y,IACFje,EAAOuT,GAAcC,OAAO/I,KAC1BjM,KAAKgZ,aAAamG,mBAAmB3d,EAAOuT,GAAevD,EAAS9K,OAEtE+Y,EAAczf,KAAKgZ,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAQxD,EAAS9K,QAGlGkQ,EAAQpV,EAAOuT,GAAcC,OAAOyK,IAE1BvK,eAAiB7G,GAAauH,SACtC,GAAIgB,EAAMlQ,OAAShB,EAAUY,UAAW,CACtC,GAAItG,KAAKgZ,aAAasG,cAAc9d,EAAOuT,GAAcC,OAASxD,EAAS9K,KAAQ+N,EAAUzU,KAAKiB,MAAMuT,gBAAgB3R,EAAK6R,EAAU1U,KAAKiB,MAAMuT,gBAAgB1R,EAAI0O,GAAW,YACzJ1F,IAApB8K,EAAM9P,YACRtF,EAAOuT,GAAcC,OAAOxO,GAAeM,UAAY,IAEzD8P,EAAM9P,UAAWmF,KACfjM,KAAK4J,gBAAgBkN,sBACnBtV,EAAOuT,GAAcC,OAAOyK,GAC5B,CAAE5c,EAAI4R,EAAUzU,KAAKiB,MAAMuT,gBAAgB3R,EAAIC,EAAI4R,EAAU1U,KAAKiB,MAAMuT,gBAAgB1R,GACxF0O,EAASV,qBAKX8F,EAAMlQ,OAAShB,EAAUkD,UAC3BgO,EAAMhC,QAAS3I,KACbjM,KAAK+Y,cAAc2G,oBACjBle,EAAOuT,GAAcC,OAAOyK,GAC5B,CAAE5c,EAAI4R,EAAUzU,KAAKiB,MAAMuT,gBAAgB3R,EAAIC,EAAI4R,EAAU1U,KAAKiB,MAAMuT,gBAAgB1R,GACxF0O,EAAS5B,SAKM,IAAnBpJ,GACFyU,EAAehP,KAAKwT,GACpBje,EAAOuT,GAAcC,OAAOyK,GAAe7I,EAC3C5W,KAAKoL,aAAY,kBAAM,EAAKlJ,SAAS,CAAEV,SAAQgF,cAAeiZ,SAE9Dje,EAAOuT,GAAcC,OAAOyK,GAAe7I,EAC3C5W,KAAKoL,aAAY,kBAAM,EAAKlJ,SAAS,CAAEV,SAAQgF,eAAgB,QAGjExG,KAAKoL,aAAY,kBAAMzK,EAAKC,QAAQmB,KAAK,0BAA0B,S,0CAI5CiF,GACrBhH,KAAKiB,MAAMiZ,kBACbla,KAAKkC,SAAS,CAAEgY,mBAAmB,IAIjCla,KAAKiB,MAAM8Z,cAEIjP,IADWqC,GAASC,MAAMS,YAEzC7O,KAAK+b,WAAW/U,EAAEyN,QAASzN,EAAE0N,W,oCAOd1N,GACnBhH,KAAK+b,WAAW/U,EAAEyN,QAASzN,EAAE0N,W,4CAGFiL,M,oCA4C3B,IAEE3f,KAAKkZ,SAASnN,SAAQ,SAAA6C,GAAE,OAAIA,EAAGgR,YAC/B/d,QAAQC,IAAI2W,GAAUjB,MACtBxX,KAAKkC,SAAS,CAACV,OAAQiX,GAAUjB,KAAMyC,aAAa,IACpD,MAAOjT,GACPnF,QAAQge,MAAM,oCACd7f,KAAKkC,SAAS,CAAC+X,aAAa,O,+BAItB,IAAD,OACP,QAA0BnO,IAAtB9L,KAAKiB,MAAMO,QAAqD,IAA7BxB,KAAKiB,MAAMO,OAAOkC,OAElD,CAcL,IAdM,IAAD,EAC8G1D,KAAKiB,MAAjHO,EADF,EACEA,OAAQgF,EADV,EACUA,cAAeuO,EADzB,EACyBA,aAAckG,EADvC,EACuCA,eAAgBD,EADvD,EACuDA,oBACxD8E,GAFC,EAC4EzE,kBAD5E,EAC+FpB,YAC9D,IAClC8F,EAAmC,GACnCnL,EAA8B,GAC9BoL,EAA4B,GAC5BlZ,EAAgC,GAGhCgN,EAA4B,GAE5BtP,EAASyM,OAAOgP,YAXf,WAcIvW,GACPoW,EAAY7T,KACR,yBACIxJ,IAAKjB,EAAOkI,GAAGjH,IAAM,gBAAkBiH,EACvC9G,QAAS,WACPf,QAAQC,IAAI,QACZ,EAAKI,SAAS,CAAC6S,aAAcrL,EAAGlD,eAAgB,EAAGyU,eAAgB,MAClE/L,UAAU,cACf,0BACEzM,IAAKjB,EAAOkI,GAAGjH,IAAM,oBAAsBiH,EAC3CyF,MAAO,CACL+Q,WAAYnL,IAAiBrL,EAAI,OAAS,SAC1CrJ,MAAO0U,IAAiBrL,EAAI,UAAY,UACtClI,EAAOkI,GAAGjG,UAbfiG,EAAI,EAAGA,EAAIlI,EAAOkC,OAAQgG,IAAM,EAAhCA,IAiBTqW,EAAe,IAEF9T,KACT,yBAAKxJ,IAAKjB,EAAOuT,GAActS,IAAM,mBAAoB0M,MAAO,CAC9D+Q,YAA+B,IAAnB1Z,EAAuB,OAAS,SAC5CnG,OAA0B,IAAnBmG,EAAuB,UAAY,SACzC0I,UAAU,cAActM,QAAS,WAClC,EAAKV,SAAS,CAAC+Y,iBAAgBzU,eAAgB,MAJjD,gDAUJ,IA5CK,IA2JK2Z,EAAQC,EAASC,EAAeC,EA3JrC,WA4CI5W,GACPqW,EAAa9T,KACT,yBAAKxJ,IAAKjB,EAAOuT,GAAcC,OAAOtL,GAAGjH,IAAM,iBAAmBiH,EAAGyF,MAAO,CAC1E+Q,WAAYjF,EAAexE,SAAS/M,EAAG,GAAK,OAAS,SACrDrJ,MAAO4a,EAAexE,SAAS/M,EAAG,GAAK,UAAY,SAClD9G,QAAS,WACV,EAAKoZ,kBAAkBtS,IACtBwF,UAAU,eACX,2BACIzM,IAAKjB,EAAOuT,GAAcC,OAAOtL,GAAGjH,IAAM,sBAAwBiH,EAClE6W,SAAU,WACR1e,QAAQC,IAAI4H,IAEdyF,MAAO,CAACqR,QAAS,OAAQC,YAAa,GACtCC,QAASzF,EAAexE,SAAS/M,EAAG,GACpChD,KAAM,aACTlF,EAAOuT,GAAcC,OAAOtL,GAAGjG,SAhB/BiG,EAAI,EAAGA,EAAIlI,EAAOuT,GAAcC,OAAOtR,OAAQgG,IAAM,EAArDA,GAqBT,IAAuB,IAAnBlD,EAAsB,CAExBhF,EAAOuT,GAAcC,OAAOjJ,SAAQ,SAAAC,GAQlC,QAPsBF,IAAlBE,EAAQgU,OACVhU,EAAQgU,MAAMjU,SAAQ,SAAA4U,GACpBX,EAAM/T,KACF,kBAAC,GAAD,CAAMxJ,IAAKke,EAAYle,IAAKjB,OAAQmf,aAIpB7U,IAApBE,EAAQ4I,QACV,IAAK,IAAIlL,EAAI,EAAGA,EAAIsC,EAAQ4I,QAASlR,OAAQgG,IAC3CkL,EAAQ3I,KACJ,kBAAC,GAAD,CACIxJ,IAAKuJ,EAAQ4I,QAAQlL,GAAGjH,IACxBjB,OAAQwK,EAAQ4I,QAASlL,MAKrC,QAA0BoC,IAAtBE,EAAQlF,UAEV,IADA,IAAI8Z,EAAgBpf,EAAOuT,GAAcC,OAAO,EAAKgE,aAAaM,0BAA0B9X,EAAOuT,GAAcC,OAAStP,EAAUY,YAAYQ,UACvI4C,EAAI,EAAGA,EAAIsC,EAAQlF,UAAWpD,OAAQgG,IAC7C5C,EAAUmF,KACN,kBAAC,EAAD,CACIxJ,IAAKuJ,EAAQlF,UAAU4C,GAAGjH,IAC1BjB,OAAQwK,EAAQlF,UAAW4C,GAC3BR,aAAc0X,KAK1B,QAAsB9U,IAAlBE,EAAQ8H,MACV,IAAK,IAAIpK,EAAI,EAAGA,EAAIsC,EAAQ8H,MAAOpQ,OAAQgG,IACzCoK,EAAM7H,KACF,kBAAC,GAAD,CACIxJ,IAAKuJ,EAAQ8H,MAAMpK,GAAGjH,IACtBjB,OAAQwK,EAAQ8H,MAAMpK,MAKlCmX,UAGuC,IAArC7gB,KAAKiB,MAAMga,eAAevX,QAC5BuX,EAAelP,SAAQ,SAAA6C,GACrB,QAAwC9C,IAApCtK,EAAOuT,GAAcC,OAAOpG,GAAmB,CACjD,QAAkD9C,IAA9CtK,EAAOuT,GAAcC,OAAOpG,GAAI9H,UAClC,IAAK,IAAI4C,EAAI,EAAGA,EAAIlI,EAAOuT,GAAcC,OAAOpG,GAAI9H,UAAWpD,OAAQgG,IACrE5C,EAAUmF,KACN,kBAAC,EAAD,CACIxJ,IAAKjB,EAAOuT,GAAcC,OAAOpG,GAAI9H,UAAW4C,GAAGjH,IACnDjB,OAAQA,EAAOuT,GAAcC,OAAOpG,GAAI9H,UAAW4C,GACnDR,aAAc1H,EAAOuT,GAAcC,OAAOpG,GAAI9H,aAK1D,QAA8CgF,IAA1CtK,EAAOuT,GAAcC,OAAOpG,GAAIkF,MAClC,IAAK,IAAIpK,EAAI,EAAGA,EAAIlI,EAAOuT,GAAcC,OAAOpG,GAAIkF,MAAOpQ,OAAQgG,IAAK,CACtE,IAAIsC,EAAUxK,EAAOuT,GAAcC,OAAOpG,GAAIkF,MAAOpK,GACrDoK,EAAM7H,KACF,kBAAC,GAAD,CACIxJ,IAAKuJ,EAAQvJ,IACbjB,OAAQA,EAAOuT,GAAcC,OAAOpG,GAAIkF,MAAOpK,MAK3D,QAAgDoC,IAA5CtK,EAAOuT,GAAcC,OAAOpG,GAAIgG,QAClC,IAAK,IAAIlL,EAAI,EAAGA,EAAIlI,EAAOuT,GAAcC,OAAOpG,GAAIgG,QAASlR,OAAQgG,IACnEoK,EAAM7H,KACF,kBAAC,GAAD,CACIxJ,IAAKjB,EAAOuT,GAAcC,OAAOpG,GAAIgG,QAASlL,GAAGjH,IACjDjB,OAAQA,EAAOuT,GAAcC,OAAOpG,GAAIgG,QAASlL,WAKfoC,IAA1CtK,EAAOuT,GAAcC,OAAOpG,GAAIoR,OAClCxe,EAAOuT,GAAcC,OAAOpG,GAAIoR,MAAOjU,SAAQ,SAAA+U,GAAM,OAAId,EAAM/T,KAAK,kBAAC,GAAD,CAAMxJ,IAAKqe,EAAOre,IAAKjB,OAAQsf,YAW7GX,EACI,yBAAKlZ,GAAI,cAAekI,MAAO,CAAC6D,WAAY,WAAY9D,UAAU,kBAChE,yBAAKC,MAAO,CAAC6D,WAAY,IAAK9D,UAAU,qBACtC,0BAAMC,MAAO,CAAC3K,OAAQ,QAAtB,kEAEF,yBAAK2K,MAAO,CAAC6D,WAAY,IAAK9D,UAAU,gBACrC4Q,IAKTM,EACI,yBAAKnZ,GAAI,gBAAiBiI,UAAU,mBAAmBC,MAAO,CAAC6D,WAAY,YACzE,yBAAK7D,MAAO,CAAC6D,WAAY,IAAK9D,UAAU,uBACtC,0BAAMC,MAAO,CAAC3K,OAAQ,QAAtB,+CAEF,yBAAK2K,MAAO,CAAC6D,WAAY,IAAK9D,UAAU,kBACtC,yBAAKA,UAAU,kBACb,yBAAKC,MAAO,IAAI,2BAAOoR,SAAU,kBAAM,EAAK7E,sBAAsB,YAAYvM,MAAO,CAAC3K,OAAQ,OACvEkC,KAAK,WAAWqa,KAAK,UAAUzV,MAAM,QAC5D,yBAAK6D,MAAO,CAAC3K,OAAQ,OAAQZ,SAAU,QAASod,YAAa,KAAMC,QAAS,SAA5E,oFAIF,yBAAK/R,UAAU,kBACb,yBAAKC,MAAO,IAAI,2BAAOoR,SAAU,kBAAM,EAAK7E,sBAAsB,YAAYvM,MAAO,CAAC3K,OAAQ,OACvEkC,KAAK,WAAWqa,KAAK,UAAUzV,MAAM,QAC5D,yBAAK6D,MAAO,CAAC3K,OAAQ,OAAQZ,SAAU,QAASod,YAAa,KAAMC,QAAS,SAA5E,8GAQVZ,EAAgB,kBAAC,GAAD,CAAe7e,OAAQqP,KAEnCmK,IACFsF,EAAoB,kBAAC,GAAD,CAAmBpf,aAAclB,KAAKiB,MAAMgc,iBAAmBzb,OAAQxB,KAAKiB,MAAM+b,eAGxG,IAAIkE,GAAQ,OACsBpV,IAA9BqC,GAASC,MAAMS,iBACsB/C,IAAnCqC,GAASC,MAAMS,WAAWnI,MAAsByH,GAASC,MAAMS,WAAWnI,OAAShB,EAAUmD,QAC/FqY,GAAQ,GAKZ,IAAIC,EAAiB,GAuGrB,OAtGArN,EAAM/H,SAAQ,SAAC6C,IAC6B,IAAtCuS,EAAKzK,QAAQ9H,EAAGnM,IAAKyE,aACvBia,EAAKlV,KAAK2C,EAAGnM,IAAKyE,eAGtB4M,EAAQA,EAAMsN,QAAO,SAAC/K,EAAMvH,GAC1B,OAAOA,IAAUqS,EAAKzK,QAAQL,EAAK5T,IAAKyE,eAgGnC,CA5FH,yBACIzE,IAAKzC,KAAKiB,MAAMG,UAAY,kBAC5B8N,UAAU,cACVmS,WAAY,SAACra,GACXA,EAAEqS,iBACFrS,EAAEsa,oBAKN,yBAAKpS,UAAU,gBACVzM,IAAKzC,KAAKiB,MAAMG,UAAY,oBAC5BmgB,OAAQ,SAACva,GACP,EAAK2U,cAAc3U,IAErBpE,QAAS,SAACoE,GACR,EAAKwa,oBAAoBxa,IAE3Bya,YAAa,SAACza,GACZ,EAAK4U,sBAAsB5U,IAE7B0a,YAAa,SAAC1a,GACZ,EAAK4U,sBAAsB5U,IAE7ByF,UAAW,SAACzF,GACV,EAAKuV,gCAAgCvV,IAEvCC,GAAI,gBAEP,kBAAC,QAAD,CACIxE,IAAKzC,KAAKiB,MAAMG,UAAY,kBAC5B8M,WAAYlO,KAAKiB,MAAM6Z,YAAc9a,KAAKiB,MAAMsZ,iBAEhDmH,YAAaR,EAAQ,SAACla,GACpB,EAAKmV,wBAAwBnV,IAC3B,aAEJwF,aAAc0U,EAAQ,SAACla,GACrB,EAAKiV,wBAAwBjV,IAC3B,aAEJ0F,WAAYwU,EAAQ,SAACla,GACnB,EAAKkV,sBAAsBlV,IACzB,aAGJ+F,UAAW,SAAA/F,GACT,EAAKsV,aAAatV,EAAE8C,OAAOjH,IAAKmE,EAAE8C,OAAOhH,MAG3C2e,YAAaP,EAAQ,SAACla,GACpB,EAAKmV,wBAAwBnV,IAC3B,aAEJuF,YAAa2U,EAAQ,SAACla,GACpB,EAAKiV,wBAAwBjV,IAC3B,aAEJyF,UAAWyU,EAAQ,SAACla,GAClB,EAAKkV,sBAAsBlV,IACzB,aAGJmI,MAAO,CAACI,OAAQ,WAChBhL,MAAO0M,OAAOM,WACd/M,OAAQA,EACRmd,QAAS3hB,KAAKoZ,YAEdlP,OAAQlK,KAAKiB,MAAM6Y,WACnB3P,OAAQnK,KAAKiB,MAAM6Y,WACnBjX,EAAG7C,KAAKiB,MAAM8Y,OACdjX,EAAG9C,KAAKiB,MAAM+Y,QAChB,kBAAC,QAAD,KACGlG,EACAhN,EACA8N,EACAoL,KAINK,EAED,yBAAK5d,IAAKzC,KAAKiB,MAAMG,UAAY,wBAAyB8N,UAAW,sBAClEiR,EACAC,GAEH,yBAAKnZ,GAAI,eAAgBxE,IAAKzC,KAAKiB,MAAMG,UAAY,6BAA8B+N,MAAO,CAAC6D,WAAY,WAClG9D,UAAU,2BACZ6Q,GAEFO,S,GA/kCoBrhB,IAAM2iB,e,8BDpClC/I,K,UAAAA,E,eAAAA,Q,KAKUA,UEHMgJ,G,oGACIC,EAAuBpb,EAAeqb,GACnDrb,IAASmS,GAAQmJ,IACjBngB,QAAQC,IAAI,IAAK4E,EAAM,QAAUob,EAAgB,MAAQC,GAClDrb,IAASmS,GAAQoJ,OACxBpgB,QAAQge,MAAM,IAAKnZ,EAAM,QAAUob,EAAgB,MAAQC,O,KCKlDG,G,YAKjB,WAAYljB,GAAuB,IAAD,uBAC9B,4CAAMA,KAJH6Y,YAG2B,IAF3BL,UAE2B,EAE9B,IAAII,EAAM,EAAK5Y,MAAMmjB,SAAS7L,OAC1B8L,EAAYC,KAAYC,MAAM1K,GAClC,IACI,EAAK3W,MAAQ,CACTshB,UAAW,GACX9K,UAAWvP,SAASka,EAAS,UAAelb,aAEhDqQ,GAAmBC,KAAO,CACtBC,UAAW,EAAKxW,MAAMwW,WAE1BoK,GAAWW,OAAO,UAAW3J,GAAQmJ,IAAK,mCAC5C,MAAOhb,GACL6a,GAAWW,OAAO,UAAW3J,GAAQoJ,MAAO,qDAdlB,S,kFAmB9B,IAAIQ,EAAOziB,KACXyY,GAAUC,SACVF,YAAW,WACPiK,EAAKrX,gBACN,O,+BAkCH,OA7BIsX,MAAMnL,GAAmBC,KAAMC,WAE3B,kBAAC,GAAD,CACIhV,IAAK,oBACLrB,UAAW,oBACXI,OAAQiX,GAAUjB,W,GAtCDvY,IAAMC,WCJtByjB,G,YACjB,WAAY3jB,GAAsB,qEACxBA,I,sEAKN,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAO4jB,OAAK,EAACC,KAAK,IAAIC,UAAW/jB,IAGjC,kBAAC,IAAD,CAAO8jB,KAAK,OAAOC,UAAWZ,U,GAZVjjB,IAAMC,WCO3B6jB,GAVO,WACpB,OACE,yBAAK7T,UAAU,OACb,yBAAKA,UAAU,kBACb,kBAAC,GAAD,S,SCGY8T,QACW,cAA7B/R,OAAOkR,SAASc,UAEe,UAA7BhS,OAAOkR,SAASc,UAEhBhS,OAAOkR,SAASc,SAASC,MACvB,2DCXNC,IAASC,OACL,kBAAC,KAAD,KACI,kBAAC,GAAD,OAELlG,SAASC,eAAe,SD8HrB,kBAAmBkG,WACrBA,UAAUC,cAAcC,MAAMpL,MAAK,SAAAqL,GACjCA,EAAaC,iB,mBE3InBC,EAAOC,QAAU,IAA0B,0C,mBCA3CD,EAAOC,QAAU,IAA0B,6C,mBCA3CD,EAAOC,QAAU,IAA0B,kD,mBCA3CD,EAAOC,QAAU,IAA0B,mD,mBCA3CD,EAAOC,QAAU,IAA0B,+C,mBCA3CD,EAAOC,QAAU,IAA0B,kD,mBCA3CD,EAAOC,QAAU,IAA0B,uD,mBCA3CD,EAAOC,QAAU,IAA0B,wD,mBCA3CD,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,iBCA3CD,EAAOC,QAAU,8nP,iBCAjBD,EAAOC,QAAU,0N,iBCAjBD,EAAOC,QAAU,sX,iBCAjBD,EAAOC,QAAU,8R","file":"static/js/main.7965876d.chunk.js","sourcesContent":["\r\nenum Orientation {\r\n    HORIZONTAL = 'horizontal',\r\n    VERTICAL = 'vertical'\r\n}\r\n\r\nexport default Orientation;\r\n","import React from 'react';\r\nimport IIntroducingProps from '../model/Components/Introducing/IIntroducingProps';\r\nimport IIntroducingState from '../model/Components/Introducing/IIntroducingState';\r\n\r\n\r\nexport default class Introducing extends React.Component<IIntroducingProps, IIntroducingState> {\r\n\r\n    constructor(props: IIntroducingProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>go to https://url/map?resoultID=...</div>\r\n        );\r\n    }\r\n\r\n}","\r\nenum StillageSize {\r\n    NORMAL = 'normal',\r\n    SMALL = 'small',\r\n}\r\n\r\nexport default StillageSize;\r\n","enum StillageColors {\r\n    STILLAGE_NORMAL = '#E2E6EA',\r\n    STILLAGE_NORMAL_STROKE = '#3E454D',\r\n}\r\n\r\nexport default StillageColors;\r\n","import StillageSizeReducerType from './StillageSizeReducerType';\r\nimport StillageSize from './StillageSize';\r\nimport Orientation from \"../Orientation\";\r\n\r\n\r\nexport default class StillageSizeReducer {\r\n    public A100SizeK = 30;\r\n\r\n\r\n    public GetSize(stillageSize: StillageSize): StillageSizeReducerType {\r\n        let size: StillageSizeReducerType = stillageSize === StillageSize.NORMAL ? (\r\n            {\r\n                firstSide: 75,\r\n                secondSide: 25,\r\n            }\r\n        ) : (\r\n                {\r\n                    firstSide: 50,\r\n                    secondSide: 25,\r\n                }\r\n            );\r\n        return size;\r\n    }\r\n\r\n    public GetA100Size(pmCount: number, orientation: Orientation, scale: number, isBlockScaling: boolean) {\r\n        if (scale > 1 && isBlockScaling) {\r\n            if (orientation === Orientation.HORIZONTAL) {\r\n                return {\r\n                    firstSide: this.A100SizeK * pmCount * scale,\r\n                    secondSide: this.A100SizeK * scale * 2\r\n                }\r\n            } else if (orientation === Orientation.VERTICAL) {\r\n                return {\r\n                    firstSide: this.A100SizeK * scale * 2,\r\n                    secondSide: this.A100SizeK * pmCount * scale\r\n                }\r\n            } else {\r\n                return {\r\n                    firstSide: 0,\r\n                    secondSide: 0\r\n                }\r\n            }\r\n        } else if (scale === 1 && isBlockScaling) {\r\n            if (orientation === Orientation.HORIZONTAL) {\r\n                return {\r\n                    firstSide: this.A100SizeK * pmCount * 2,\r\n                    secondSide: this.A100SizeK * scale * 2\r\n                }\r\n            } else if (orientation === Orientation.VERTICAL) {\r\n                return {\r\n                    firstSide: this.A100SizeK * scale * 2,\r\n                    secondSide: this.A100SizeK * pmCount * 2\r\n                }\r\n            } else {\r\n                return {\r\n                    firstSide: 0,\r\n                    secondSide: 0\r\n                }\r\n            }\r\n        } else {\r\n            if (orientation === Orientation.HORIZONTAL) {\r\n                return {\r\n                    firstSide: this.A100SizeK * pmCount * scale,\r\n                    secondSide: this.A100SizeK * scale\r\n                }\r\n            } else if (orientation === Orientation.VERTICAL) {\r\n                return {\r\n                    firstSide: this.A100SizeK * scale,\r\n                    secondSide: this.A100SizeK * pmCount * scale\r\n                }\r\n            } else {\r\n                return { firstSide: 0, secondSide: 0 }\r\n            }\r\n        }\r\n    }\r\n}","enum DefectColors {\r\n    RED = '#FF003C',\r\n    YELLOW = '#FFBB00',\r\n    GREEN = '#06F107',\r\n    GREY = '',\r\n}\r\n\r\nexport default DefectColors;\r\n","\r\nenum DefectRadius {\r\n    // 12.5\r\n    RED = 12,\r\n    YELLOW = 12,\r\n    GREEN = 12,\r\n}\r\n\r\nexport default  DefectRadius;","import DefectColors from '../Colors/DefectColors';\r\nimport DefectRadius from './DefectRadius';\r\nimport DefectRadiusReducerType from './DefectRadiusReducerType';\r\n\r\nexport default class DefectRadiusReducer {\r\n    public GetRadius(color: DefectColors): DefectRadiusReducerType {\r\n        if (color === DefectColors.GREEN)\r\n            return {\r\n                radius: DefectRadius.GREEN,\r\n                centeringValue: (12.5 - DefectRadius.GREEN)\r\n            };\r\n        else if (color === DefectColors.YELLOW)\r\n            return {\r\n                radius: DefectRadius.YELLOW,\r\n                centeringValue: (12.5 - DefectRadius.YELLOW)\r\n            };\r\n        else if (color === DefectColors.RED)\r\n            return {\r\n                radius: DefectRadius.RED,\r\n                centeringValue: (12.5 - DefectRadius.RED)\r\n            };\r\n        return {\r\n            radius: 0,\r\n            centeringValue: 0,\r\n        }\r\n    }\r\n}","import events, { EventEmitter } from 'events';\r\n\r\nexport default class Emit {\r\n    public static Emitter: EventEmitter = new events.EventEmitter();\r\n}","import React from 'react';\r\nimport IDefectProps from './../Models/Components/Defect/IDefectProps';\r\nimport IDefectState from './../Models/Components/Defect/IDefectState';\r\nimport DefectRadiusReducer from '../Models/Enums/DefectRadius/DefectRadiusReducer';\r\nimport Orientation from './../Models/Enums/Orientation';\r\nimport { Circle } from 'react-konva';\r\nimport Emit from \"../Data/Emit\";\r\n\r\n\r\nconst A100CellSize = 30;\r\nexport default class Defect extends React.Component<IDefectProps, IDefectState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            parentSource: this.props.parentSource,\r\n            parentScale: this.props.parentScale,\r\n            isBlockScaling: this.props.isBlockScaling,\r\n            parentKey: this.props.parentKey,\r\n            parentX: this.props.parentX,\r\n            parentY: this.props.parentY,\r\n            parentOrientation: this.props.parentOrientation,\r\n            source: this.props.source,\r\n        };\r\n\r\n        this.openModal = this.openModal.bind(this);\r\n        this.thisForceUpdate = this.thisForceUpdate.bind(this);\r\n\r\n        Emit.Emitter.addListener('defectsForceUpdate', this.thisForceUpdate);\r\n    }\r\n\r\n    public openModal() {\r\n        console.log(this.state.source);\r\n        Emit.Emitter.emit('setSelectedVik', this.state.source, this.state.parentSource);\r\n        Emit.Emitter.emit('defectBrowsePanelWorkerHandle', true);\r\n    }\r\n\r\n    public thisForceUpdate(parentKey: string, newParentX: number, newParentY: number) {\r\n        if (parentKey === this.state.parentKey) {\r\n            this.setState({parentX: newParentX, parentY: newParentY})\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { parentX, parentY, parentOrientation, source, parentScale, isBlockScaling} = this.state;\r\n        const defectRadiusReducer = new DefectRadiusReducer();\r\n        let vik;\r\n        // if (source == undefined) return <div></div>;\r\n\r\n        const defectOptions = defectRadiusReducer.GetRadius(source.color);\r\n        // TODO: block scaling\r\n\r\n        let deltaX = 0;\r\n        let deltaY = 0;\r\n\r\n        // if (source.place === 1) {\r\n        if (parentOrientation === Orientation.HORIZONTAL) {\r\n            deltaX = 15 + ((source.place - 1) * 30);\r\n            deltaY = 15;\r\n            vik = (\r\n                <Circle\r\n                    key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n                    onTap={() => {\r\n                        this.openModal()\r\n                    }}\r\n                    onClick={() => {\r\n                        this.openModal()\r\n                    }}\r\n                    radius={defectOptions.radius}\r\n                    x={parentX + deltaX}\r\n                    y={parentY + deltaY}\r\n                    fill={source.color}\r\n                />\r\n            );\r\n        } else if (parentOrientation === Orientation.VERTICAL) {\r\n            deltaX = 15;\r\n            deltaY = 15 + ((source.place - 1) * 30);\r\n            vik = (\r\n                <Circle\r\n                    key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n                    onTap={() => {\r\n                        this.openModal()\r\n                    }}\r\n                    onClick={() => {\r\n                        this.openModal()\r\n                    }}\r\n                    radius={defectOptions.radius}\r\n                    x={parentX + deltaX}\r\n                    y={parentY + deltaY}\r\n                    fill={source.color}\r\n                />\r\n            );\r\n        }\r\n        // } else if (source.place === 2) {\r\n        //     if (parentOrientation === Orientation.VERTICAL) {\r\n        //\r\n        //         // other colors\r\n        //         vik = (\r\n        //             <Circle\r\n        //                 key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n        //                 onTap={() => { this.openModal() }}\r\n        //                 onClick={() => { this.openModal() }}\r\n        //                 radius={defectOptions.radius}\r\n        //                 x={parentX + (defectOptions.radius + defectOptions.centeringValue)}\r\n        //                 y={parentY + (defectOptions.radius + defectOptions.centeringValue + 12.5 * 2)}\r\n        //                 fill={source.color}\r\n        //             />\r\n        //         );\r\n        //\r\n        //\r\n        //     } else {\r\n        //         // place 2 and orientation is horizontal\r\n        //\r\n        //         vik = (\r\n        //             <Circle\r\n        //                 key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n        //                 onTap={() => { this.openModal() }}\r\n        //                 onClick={() => { this.openModal() }}\r\n        //                 radius={defectOptions.radius}\r\n        //                 x={parentX + (defectOptions.radius + defectOptions.centeringValue + 12.5 * 2)}\r\n        //                 y={parentY + (defectOptions.radius + defectOptions.centeringValue)}\r\n        //                 fill={source.color}\r\n        //             />\r\n        //         );\r\n        //\r\n        //     }\r\n        // } else if (source.place === 3) {\r\n        //     if (parentOrientation === Orientation.VERTICAL) {\r\n        //         // place 3 and orientation is vertical\r\n        //\r\n        //         // other colors\r\n        //         vik = (\r\n        //             <Circle\r\n        //                 key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n        //                 onTap={() => { this.openModal() }}\r\n        //                 onClick={() => { this.openModal() }}\r\n        //                 radius={defectOptions.radius}\r\n        //                 x={parentX + (defectOptions.radius + defectOptions.centeringValue)}\r\n        //                 y={parentY + (defectOptions.radius + defectOptions.centeringValue + 12.5 * 4)}\r\n        //                 fill={source.color}\r\n        //             />\r\n        //         );\r\n        //\r\n        //     } else {\r\n        //         // place 3 and orientations is horizontal\r\n        //\r\n        //         // other color\r\n        //         vik = (\r\n        //             <Circle\r\n        //                 key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n        //                 onTap={() => { this.openModal() }}\r\n        //                 onClick={() => { this.openModal() }}\r\n        //                 radius={defectOptions.radius}\r\n        //                 x={parentX + (defectOptions.radius + defectOptions.centeringValue + 12.5 * 4)}\r\n        //                 y={parentY + (defectOptions.radius + defectOptions.centeringValue)}\r\n        //                 fill={source.color}\r\n        //             />\r\n        //         );\r\n        //\r\n        //     }\r\n        // }\r\n\r\n        return vik;\r\n    }\r\n}","enum SignaturePosition {\r\n    TOP = 'top',\r\n    LEFT = 'left',\r\n    RIGHT = 'right',\r\n    BOTTOM = 'bottom',\r\n}\r\n\r\nexport default SignaturePosition;\r\n","import React, {Component} from 'react';\r\nimport {Text} from 'react-konva';\r\nimport IPlaceSignatureProps from './../Models/Components/IPlaceSignature/IPlaceSignatureProps';\r\nimport IPlaceSignatureState from './../Models/Components/IPlaceSignature/IPlaceSignatureState';\r\nimport Orientation from './../Models/Enums/Orientation';\r\nimport Emit from \"../Data/Emit\";\r\nimport PlaceSignatureItem from \"../Models/ArrayItems/PlaceSignatureItem\";\r\n\r\nconst A100CellSize = 30;\r\n\r\nexport default class PlaceSignature extends Component<IPlaceSignatureProps, IPlaceSignatureState> {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            parentPlaceSignatures: this.props.parentPlaceSignatures,\r\n            isBlockScaling: this.props.isBlockScaling,\r\n            parentScale: this.props.parentScale,\r\n            pmCount: this.props.pmCount,\r\n            parentKey: this.props.parentKey,\r\n            parentX: this.props.parentX,\r\n            parentY: this.props.parentY,\r\n            parentOrientation: this.props.parentOrientation,\r\n            parentDefects: this.props.parentDefects,\r\n            source: this.props.source,\r\n        };\r\n\r\n        this.openModal = this.openModal.bind(this);\r\n        this.thisForceUpdate = this.thisForceUpdate.bind(this);\r\n        this.forceSource = this.forceSource.bind(this);\r\n\r\n        Emit.Emitter.addListener('placeSignaturesForceUpdate', this.thisForceUpdate);\r\n        Emit.Emitter.addListener('placeSignaturesForceSource', this.forceSource);\r\n    }\r\n\r\n    public get getScaleK(): number {\r\n        const { parentScale, parentOrientation, isBlockScaling, source } = this.state;\r\n\r\n        const VERTICAL_PARENT_SCALE_K_BIG = 20 * parentScale;\r\n        const HORIZONTAL_PARENT_SCALE_K_BIG = 20 * parentScale;\r\n        const VERTICAL_PARENT_SCALE_K_SMALL = 13 * parentScale;\r\n        const HORIZONTAL_PARENT_SCALE_K_SMALL = 13 * parentScale;\r\n\r\n        if (parentScale > 1 && isBlockScaling) {\r\n            if (parentOrientation === Orientation.VERTICAL) return VERTICAL_PARENT_SCALE_K_BIG;\r\n            if (parentOrientation === Orientation.HORIZONTAL) return HORIZONTAL_PARENT_SCALE_K_BIG;\r\n        } else if (parentScale === 1 && isBlockScaling) {\r\n            if (parentOrientation === Orientation.VERTICAL) {\r\n                if (source.title.length === 1) return VERTICAL_PARENT_SCALE_K_SMALL;\r\n                if (source.title.length === 2) return VERTICAL_PARENT_SCALE_K_SMALL - 5;\r\n            }\r\n            if (parentOrientation === Orientation.HORIZONTAL) return HORIZONTAL_PARENT_SCALE_K_SMALL;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public get fontSize(): number {\r\n        const {parentScale, parentOrientation, isBlockScaling} = this.state;\r\n        const NORMAL_FONT_SIZE = 14;\r\n        const SCALED_FONT_SIZE_NORMAL = 25;\r\n        const SCALED_FONT_SIZE_BIG = 35;\r\n\r\n        if (parentScale > 1) {\r\n            return SCALED_FONT_SIZE_BIG;\r\n        } else if (parentScale === 1 && isBlockScaling) {\r\n            return SCALED_FONT_SIZE_NORMAL;\r\n        } else if (!isBlockScaling) {\r\n            return NORMAL_FONT_SIZE;\r\n            // return SCALED_FONT_SIZE_NORMAL;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    public forceSource(parenKey: string, place: number, newSource: PlaceSignatureItem) {\r\n        if (parenKey === this.state.parentKey && place === this.state.source.place) {\r\n            this.setState({ source: newSource });\r\n        }\r\n    }\r\n\r\n    public openModal() {\r\n        console.log(this.state);\r\n        // Emit.Emitter.emit('defectBrowsePanelWorkerHandle', true);\r\n    }\r\n\r\n    public thisForceUpdate(parentKey: string, newParentX: number, newParentY: number) {\r\n        if (parentKey === this.state.parentKey) {\r\n            this.setState({ parentX: newParentX, parentY: newParentY })\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { parentX, parentY, parentOrientation, source, parentPlaceSignatures, pmCount, isBlockScaling, parentScale } = this.state;\r\n\r\n        let ps;\r\n        let delta = 0;\r\n        if (parentOrientation === Orientation.HORIZONTAL) {\r\n            delta = (A100CellSize * source.place - (A100CellSize/2 + 4 * source.title.length)) * parentScale * (isBlockScaling ? 2 : 1);\r\n            ps = <Text\r\n                key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                onTap={() => { this.openModal() }}\r\n                onClick={() => { this.openModal() }}\r\n                x={parentX + delta}\r\n                y={parentY + 9 + this.getScaleK}\r\n                fontSize={this.fontSize}\r\n                fill={'white'}\r\n                text={source.title}\r\n            />;\r\n        } else {\r\n            if (isBlockScaling) {\r\n                delta = (A100CellSize * source.place - (A100CellSize / 2)) * parentScale * (isBlockScaling ? 2 : 1) - 10;\r\n                ps = <Text\r\n                    key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                    onTap={() => {\r\n                        this.openModal()\r\n                    }}\r\n                    onClick={() => {\r\n                        this.openModal()\r\n                    }}\r\n                    x={parentX + (30 * parentScale - 10 * source.title.length)}\r\n                    y={parentY + delta}\r\n                    fontSize={this.fontSize}\r\n                    fill={'white'}\r\n                    text={source.title}\r\n                />;\r\n            } else {\r\n                delta = (A100CellSize * source.place - (A100CellSize / 2 + this.fontSize / 2)) * parentScale * (isBlockScaling ? 2 : 1);\r\n                ps = <Text\r\n                    key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                    onTap={() => {\r\n                        this.openModal()\r\n                    }}\r\n                    onClick={() => {\r\n                        this.openModal()\r\n                    }}\r\n                    x={parentX + 10.5 + this.getScaleK - (source.title.length > 1 ? (source.title.length * 2) : 0)}\r\n                    y={parentY + delta}\r\n                    fontSize={this.fontSize}\r\n                    fill={'white'}\r\n                    text={source.title}\r\n                />;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        return ps;\r\n    }\r\n}","enum MapStillageType {\r\n    NORMAL_TOP = 'NORMAL_TOP',\r\n    NORMAL_BOTTOM = 'NORMAL_BOTTOM',\r\n    NORMAL_LEFT_VERT = 'NORMAL_LEFT_VERT',\r\n    NORMAL_RIGHT_VERT = 'NORMAL_RIGHT_VERT',\r\n\r\n    SMALL_TOP = 'SMALL_TOP',\r\n    SMALL_BOTTOM = 'SMALL_BOTTOM',\r\n    SMALL_LEFT_VERT = 'SMALL_LEFT_VERT',\r\n    SMALL_RIGHT_VERT = 'SMALL_RIGHT_VERT',\r\n\r\n}\r\n\r\nexport default MapStillageType;","import React, {Component} from 'react';\r\nimport {Rect, Text} from 'react-konva';\r\nimport ISignatureProps from './../Models/Components/Signature/ISignatureProps';\r\nimport ISignatureState from './../Models/Components/Signature/ISignatureState';\r\nimport Orientation from './../Models/Enums/Orientation';\r\nimport SignaturePosition from './../Models/Enums/SignaturePosition';\r\nimport Emit from \"../Data/Emit\";\r\nimport SignatureItem from \"../Models/ArrayItems/SignatureItem\";\r\n\r\nconst DEFAULT_SIGNATURE_FONT_SIZE = 11;\r\nconst DEFAULT_SMALL_SIDE_SIZE = 40;\r\nconst STILLAGE_SIZE_K = 30;\r\nexport default class Signature extends Component<ISignatureProps, ISignatureState> {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isBlockScaling: this.props.isBlockScaling,\r\n            parentScale: this.props.parentScale,\r\n            pmCount: this.props.pmCount,\r\n            parentKey: this.props.parentKey,\r\n            parentX: this.props.parentX,\r\n            parentY: this.props.parentY,\r\n            parentOrientation: this.props.parentOrientation,\r\n            parentSize: this.props.parentSize,\r\n            source: this.props.source,\r\n        };\r\n\r\n        this.thisForceUpdate = this.thisForceUpdate.bind(this);\r\n        this.signatureForceUpdate = this.signatureForceUpdate.bind(this);\r\n\r\n        Emit.Emitter.addListener('stillageSignatureForceUpdate', this.thisForceUpdate);\r\n        Emit.Emitter.addListener('signatureForceUpdate', this.signatureForceUpdate);\r\n    }\r\n\r\n    public signatureForceUpdate(parentKey: string, newSource: SignatureItem) {\r\n        if (parentKey === this.state.parentKey) {\r\n            this.setState({ source: newSource });\r\n        }\r\n    }\r\n\r\n    public get scaleK(): number {\r\n        const { parentScale, isBlockScaling, parentOrientation } = this.state;\r\n        if (parentScale === 1 && isBlockScaling) {\r\n\r\n        } else if (parentScale > 1) {\r\n\r\n        } else if (!isBlockScaling) {\r\n\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public get masterSideK(): number {\r\n        const { pmCount, parentScale, isBlockScaling } = this.state;\r\n        if (parentScale === 1 && isBlockScaling) {\r\n            return 2 * parentScale;\r\n        } else if (parentScale > 1) {\r\n            return 2\r\n        } else if (!isBlockScaling) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    getSignatureSize = (): { width: number, height: number } => {\r\n        const { pmCount, parentScale, isBlockScaling, parentOrientation, source } = this.state;\r\n        if (parentScale === 1 && isBlockScaling) {\r\n            if (parentOrientation === Orientation.HORIZONTAL) {\r\n                if (source.position === SignaturePosition.BOTTOM) {\r\n                    return {\r\n                        width: STILLAGE_SIZE_K * pmCount * 2 + 1,\r\n                        height: DEFAULT_SMALL_SIDE_SIZE * 2\r\n                    }\r\n                } else if (source.position === SignaturePosition.TOP) {\r\n                    return {\r\n                        width: STILLAGE_SIZE_K * pmCount * 2 + 1,\r\n                        height: DEFAULT_SMALL_SIDE_SIZE * 2 - parentScale * 10\r\n                    }\r\n                }\r\n            } else if (parentOrientation === Orientation.VERTICAL) {\r\n                if (source.position === SignaturePosition.LEFT) {\r\n                    return {\r\n                        width: DEFAULT_SMALL_SIDE_SIZE,\r\n                        height: STILLAGE_SIZE_K * pmCount * 2 + 1\r\n                    }\r\n                } else if (source.position === SignaturePosition.RIGHT) {\r\n                    return {\r\n                        width: DEFAULT_SMALL_SIDE_SIZE * parentScale * 2 - 5,\r\n                        height: STILLAGE_SIZE_K * pmCount * 2\r\n                    }\r\n                }\r\n            }\r\n        } else if (parentScale > 1) {\r\n            if (parentOrientation === Orientation.HORIZONTAL) {\r\n                if (source.position === SignaturePosition.BOTTOM) {\r\n                    return {\r\n                        width: pmCount * 30 * 2 + 1,\r\n                        height: DEFAULT_SMALL_SIDE_SIZE * parentScale * 2 - 10\r\n                    }\r\n                } else if (source.position === SignaturePosition.TOP) {\r\n                    return {\r\n                        width: pmCount * 30 * 2 + 1,\r\n                        height: STILLAGE_SIZE_K * parentScale * 2\r\n                    }\r\n                }\r\n            } else {\r\n                if (source.position === SignaturePosition.LEFT) {\r\n                    return {\r\n                        width: STILLAGE_SIZE_K * parentScale * 2,\r\n                        height: pmCount * 30 * 2 + 1\r\n                    }\r\n                } else if (source.position === SignaturePosition.RIGHT) {\r\n                    return {\r\n                        width: DEFAULT_SMALL_SIDE_SIZE * parentScale * 2 - 10,\r\n                        height: pmCount * 30 * 2 + 1\r\n                    }\r\n                }\r\n            }\r\n        } else if (!isBlockScaling) {\r\n            if (parentOrientation === Orientation.HORIZONTAL) {\r\n                return {\r\n                    width: pmCount * 30 + 1,\r\n                    height: 40\r\n                }\r\n            } else {\r\n                return {\r\n                    width: 40,\r\n                    height: pmCount * 30 + 1\r\n                }\r\n            }\r\n        }\r\n        return { width: 0, height: 0 };\r\n    };\r\n\r\n    public get signatureFont(): number {\r\n        const { parentScale, isBlockScaling } = this.state;\r\n\r\n        if (isBlockScaling) {\r\n            if (parentScale > 1) {\r\n                return DEFAULT_SIGNATURE_FONT_SIZE * parentScale;\r\n            } else if (parentScale === 1) {\r\n                return DEFAULT_SIGNATURE_FONT_SIZE * parentScale;\r\n            }\r\n        }\r\n\r\n        return DEFAULT_SIGNATURE_FONT_SIZE;\r\n    }\r\n\r\n    // public get secondarySideK(): number {\r\n    //     const { parent }\r\n    // }\r\n\r\n    public thisForceUpdate(parentKey: string, newParentX: number, newParentY: number) {\r\n        if (parentKey === this.state.parentKey) {\r\n            this.setState({ parentX: newParentX, parentY: newParentY })\r\n        }\r\n    };\r\n\r\n    // public setStillageMoveEnabled(e) {\r\n    //     Emit.Emitter.emit('setIsShapeMoving', !this.state.isMoveEnabled);\r\n    //     this.setState({isMoveEnabled: !this.state.isMoveEnabled})\r\n    // }\r\n\r\n    render() {\r\n        const { parentX, parentY, parentOrientation, parentSize, source, pmCount, isBlockScaling, parentScale } = this.state;\r\n        let _x, _y, _width, _height = 0;\r\n        // if (parentSize === StillageSize.NORMAL) {\r\n        if (parentOrientation === Orientation.VERTICAL) {\r\n\r\n            _width = this.getSignatureSize().width;\r\n            _height = this.getSignatureSize().height;\r\n            if (source.position === SignaturePosition.RIGHT) {\r\n                _width += !isBlockScaling ? 5 : 0;\r\n                _x = parentX + (isBlockScaling ? 5 * parentScale : 0);\r\n                _y = parentY - 0.5;\r\n            } else if (source.position === SignaturePosition.LEFT) {\r\n                _x = parentX - (!isBlockScaling ? 15.5 : 20 * parentScale);\r\n                _y = parentY - 0.5;\r\n            }\r\n        } else {\r\n\r\n            _width = this.getSignatureSize().width;\r\n            _height = this.getSignatureSize().height;\r\n            if (source.position === SignaturePosition.TOP) {\r\n                _x = parentX - 0.5;\r\n                _y = parentY - (!isBlockScaling ? 15.5 : 20 * parentScale);\r\n            } else if (source.position === SignaturePosition.BOTTOM) {\r\n                _height += !isBlockScaling ? 5 : 0;\r\n                _x = parentX - 0.5;\r\n                _y = parentY;\r\n            }\r\n        }\r\n\r\n        let block = (\r\n            <Rect\r\n                key={this.state.parentKey + '_signature_rect'}\r\n                cornerRadius={4}\r\n                x={_x}\r\n                y={_y}\r\n                width={_width}\r\n                height={_height}\r\n                fill={'#dcdcdc'}\r\n            // onDblTap={}\r\n            />\r\n        );\r\n\r\n        let _fontSize = this.signatureFont;\r\n        if (!isBlockScaling) {\r\n            if (parentOrientation === Orientation.HORIZONTAL) {\r\n                if (source.position === SignaturePosition.TOP) {\r\n                    _x = parentX + ((pmCount * 32 / 2) - (source.title.length * _fontSize / 2)) + source.title.length;\r\n                    _y = parentY - 13;\r\n                } else if (source.position === SignaturePosition.BOTTOM) {\r\n                    _x = parentX + ((pmCount * 32 / 2) - (source.title.length * _fontSize / 2)) + source.title.length;\r\n                    _y = parentY + 33;\r\n                }\r\n            } else if (parentOrientation === Orientation.VERTICAL) {\r\n                if (source.position === SignaturePosition.LEFT) {\r\n                    _x = parentX - 15;\r\n                    _y = parentY + ((pmCount * 32 / 2) - (source.title.length * _fontSize / 2)) + source.title.length;\r\n                    if (source.title.length === 1) {\r\n                        _x = parentX - 11;\r\n                    } else if (source.title.length === 2) {\r\n                        // _y += 2;\r\n                    } else if (source.title.length > 2) {\r\n                        _y = parentY + 34;\r\n                        _fontSize = 8;\r\n                    }\r\n                } else if (source.position === SignaturePosition.RIGHT) {\r\n                    _y = parentY + ((pmCount * 32 / 2) - (source.title.length * _fontSize / 2)) + source.title.length;\r\n                    if (source.title.length === 1) {\r\n                        _x = parentX + 34;\r\n                    } else if (source.title.length === 2) {\r\n                        _x = parentX + 31.5;\r\n                    } else if (source.title.length > 2) {\r\n                        _x = parentX + 31;\r\n                        _y = parentY + 34;\r\n                        _fontSize = 8;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            const mk = 7;\r\n            const MAX_M = 3;\r\n            let deltaM = MAX_M - source.title.length;\r\n            let m1 = mk * deltaM;\r\n\r\n            if (parentScale === 1) {\r\n                if (parentOrientation === Orientation.VERTICAL) {\r\n                    if (source.position === SignaturePosition.RIGHT) {\r\n                        _x = parentX + STILLAGE_SIZE_K * 2 + m1;\r\n                        _y = parentY + STILLAGE_SIZE_K * pmCount;\r\n                    } else if (source.position === SignaturePosition.LEFT) {\r\n                        _x += m1;\r\n                        _y = parentY + STILLAGE_SIZE_K * pmCount;\r\n                    }\r\n                } else {\r\n                    if (source.position === SignaturePosition.BOTTOM) {\r\n                        _x = parentX + STILLAGE_SIZE_K * pmCount - source.title.length * 5;\r\n                        _y = parentY + DEFAULT_SMALL_SIDE_SIZE * 2 - 15;\r\n                    } else if (source.position === SignaturePosition.TOP) {\r\n                        _x = parentX + STILLAGE_SIZE_K * pmCount - source.title.length * 3;\r\n                        _y += 5;\r\n                    }\r\n                }\r\n            } else if (parentScale > 1) {\r\n                if (parentOrientation === Orientation.VERTICAL) {\r\n                    if (source.position === SignaturePosition.RIGHT) {\r\n                        _x = parentX + STILLAGE_SIZE_K * parentScale * 2 + parentScale + m1;\r\n                        _y = parentY + STILLAGE_SIZE_K * pmCount;\r\n                    } else if (source.position === SignaturePosition.LEFT) {\r\n                        // _x = parentX - STILLAGE_SIZE_K * parentScale / 2 - parentScale;\r\n                        _x = _x + m1;\r\n                        _y = parentY + STILLAGE_SIZE_K * pmCount;\r\n                    }\r\n                } else {\r\n                    if (source.position === SignaturePosition.BOTTOM) {\r\n                        _x = parentX + STILLAGE_SIZE_K * pmCount - source.title.length * 5;\r\n                        _y = parentY + DEFAULT_SMALL_SIDE_SIZE * parentScale * 2 - 17 * parentScale;\r\n                    } else if (source.position === SignaturePosition.TOP) {\r\n                        _x = parentX + STILLAGE_SIZE_K * pmCount - source.title.length * 7;\r\n                        _y += parentScale * 2;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let title = (\r\n            <Text\r\n                key={this.state.parentKey + '_signature_text'}\r\n                x={_x}\r\n                y={_y}\r\n                text={source.title}\r\n                fill={'#333333'}\r\n                fontSize={_fontSize}\r\n            />\r\n        );\r\n\r\n        let results = [block, title]\r\n\r\n        return results;\r\n    }\r\n}","enum Vectors {\r\n    TOP = 'TOP',\r\n    LEFT = 'LEFT',\r\n    RIGHT = 'RIGHT',\r\n    BOTTOM = 'BOTTOM',\r\n}\r\n\r\nexport default Vectors;\r\n","enum LayerType {\r\n    ABSTRACTS = 'abstract',\r\n    STILLAGES = 'stillages',\r\n    SIGNATURES = 'signatures',\r\n    WALLS = 'walls',\r\n    LIGHTING = 'lighting',\r\n    TEXT = 'text'\r\n}\r\n\r\nexport default LayerType;\r\n","enum Position {\r\n    TOP = 'TOP',\r\n    LEFT = 'LEFT',\r\n    RIGHT = 'RIGHT',\r\n    BOTTOM = 'BOTTOM',\r\n}\r\n\r\nexport default Position;\r\n","import sort from 'fast-sort';\r\nimport bs from 'js-binary-search';\r\n\r\nimport StillageSizeReducer from \"../Models/Enums/StillageSize/StillageSizeReducer\";\r\nimport MapStillageType from \"../Models/Enums/MapStillageType\";\r\nimport Orientation from \"../Models/Enums/Orientation\";\r\nimport SignaturePosition from \"../Models/Enums/SignaturePosition\";\r\nimport StillageSize from \"../Models/Enums/StillageSize/StillageSize\";\r\nimport StillageItem from \"../Models/ArrayItems/StillageItem\";\r\nimport MapSourceLayer from \"../Models/MapSourceLayer\";\r\nimport {Arrow} from \"react-konva\";\r\nimport React from \"react\";\r\nimport Emit from \"../Data/Emit\";\r\nimport Vectors from \"../Models/Enums/Vectors\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport PlaceSignatureItem from \"../Models/ArrayItems/PlaceSignatureItem\";\r\n\r\nexport default class StillageService {\r\n\r\n    public stillageSizeReducer!: StillageSizeReducer;\r\n\r\n    public smallPlaceSignatures = [\r\n        {\r\n            place: 1,\r\n            title: '1',\r\n        },\r\n        {\r\n            place: 2,\r\n            title: '2',\r\n        },\r\n    ];\r\n\r\n    public bigPlaceSignatures = [\r\n        {\r\n            place: 1,\r\n            title: '1',\r\n        },\r\n        {\r\n            place: 2,\r\n            title: '2',\r\n        },\r\n        {\r\n            place: 3,\r\n            title: '3',\r\n        },\r\n    ];\r\n\r\n    constructor() {\r\n        this.stillageSizeReducer = new StillageSizeReducer();\r\n    }\r\n\r\n    public getStillageArrows(source: StillageItem): Array<JSX.Element> {\r\n        let arrows: Array<JSX.Element> = [];\r\n        if (source.orientation === Orientation.HORIZONTAL) {\r\n            if (source.signature!.position === SignaturePosition.TOP) {\r\n                return [\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_left_arrow'}\r\n                            x={source.x - 30}\r\n                            y={source.y + 5}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={-20}\r\n                            pointerWidth={-40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.LEFT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_right_arrow'}\r\n                            x={source.x + 105}\r\n                            y={source.y + 5}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.RIGHT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_top_arrow'}\r\n                            x={source.x + 47}\r\n                            y={source.y - 27}\r\n                            points={[-10, -10, -10, -20]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n                            // onMouseDown={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.TOP)}\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.TOP)}ё\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_bottom_arrow'}\r\n                            x={source.x + 38}\r\n                            y={source.y + 57}\r\n                            points={[0, -10, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.BOTTOM)}\r\n                        />\r\n                    )\r\n                ];\r\n            } else if (source.signature!.position === SignaturePosition.BOTTOM) {\r\n                return [\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_left_arrow'}\r\n                            x={source.x - 30}\r\n                            y={source.y + 20}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={-20}\r\n                            pointerWidth={-40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.LEFT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_right_arrow'}\r\n                            x={source.x + 105}\r\n                            y={source.y + 20}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.RIGHT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_top_arrow'}\r\n                            x={source.x + 47}\r\n                            y={source.y - 10}\r\n                            points={[-10, -10, -10, -20]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.TOP)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_bottom_arrow'}\r\n                            x={source.x + 38}\r\n                            y={source.y + 70}\r\n                            points={[0, -10, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.BOTTOM)}\r\n                        />\r\n                    )\r\n                ];\r\n            }\r\n        } else {\r\n            if (source.signature!.position === SignaturePosition.LEFT) {\r\n                return [\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_left_arrow'}\r\n                            x={source.x - 50}\r\n                            y={source.y + 35}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={-20}\r\n                            pointerWidth={-40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.LEFT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_right_arrow'}\r\n                            x={source.x + 60}\r\n                            y={source.y + 35}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.RIGHT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_top_arrow'}\r\n                            x={source.x + 15}\r\n                            y={source.y - 10}\r\n                            points={[-10, -10, -10, -20]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.TOP)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_bottom_arrow'}\r\n                            x={source.x + 7}\r\n                            y={source.y + 105}\r\n                            points={[0, -10, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.BOTTOM)}\r\n                        />\r\n                    )\r\n                ];\r\n            } else if (source.signature!.position === SignaturePosition.RIGHT) {\r\n                return [\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_left_arrow'}\r\n                            x={source.x - 35}\r\n                            y={source.y + 35}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={-20}\r\n                            pointerWidth={-40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.LEFT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_right_arrow'}\r\n                            x={source.x + 75}\r\n                            y={source.y + 35}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.RIGHT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_top_arrow'}\r\n                            x={source.x + 27}\r\n                            y={source.y - 10}\r\n                            points={[-10, -10, -10, -20]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.TOP)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_bottom_arrow'}\r\n                            x={source.x + 20}\r\n                            y={source.y + 105}\r\n                            points={[0, -10, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.BOTTOM)}\r\n                        />\r\n                    )\r\n                ];\r\n            }\r\n        }\r\n        return [];\r\n    }\r\n\r\n    public getStillageSourceItem(selectedLayer: MapSourceLayer, coords: { x: number, y: number }, type: MapStillageType) {\r\n        let _id = 0; let _key = '';\r\n        sort(selectedLayer.stillages!).asc(e => e.id);\r\n        if (selectedLayer.stillages!.length !== 0) {\r\n            _id = selectedLayer.stillages![selectedLayer.stillages!.length - 1].id;\r\n        }\r\n        _id++;\r\n        _key = selectedLayer.key + '_stillage_' + _id.toString();\r\n        switch (type) {\r\n            case MapStillageType.NORMAL_BOTTOM: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 76,\r\n                    height: 49.5,\r\n                    orientation: Orientation.HORIZONTAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.BOTTOM,\r\n                    },\r\n                    size: StillageSize.NORMAL,\r\n                    placeSignatures: this.bigPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.NORMAL_TOP: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 76,\r\n                    height: 49.5,\r\n                    orientation: Orientation.HORIZONTAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.TOP,\r\n                    },\r\n                    size: StillageSize.NORMAL,\r\n                    placeSignatures: this.bigPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.NORMAL_LEFT_VERT: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 49.5,\r\n                    height: 76,\r\n                    orientation: Orientation.VERTICAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.LEFT,\r\n                    },\r\n                    size: StillageSize.NORMAL,\r\n                    placeSignatures: this.bigPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.NORMAL_RIGHT_VERT: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 49.5,\r\n                    height: 76,\r\n                    orientation: Orientation.VERTICAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.RIGHT,\r\n                    },\r\n                    size: StillageSize.NORMAL,\r\n                    placeSignatures: this.bigPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.SMALL_BOTTOM: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 50,\r\n                    height: 49.5,\r\n                    orientation: Orientation.HORIZONTAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.BOTTOM,\r\n                    },\r\n                    size: StillageSize.SMALL,\r\n                    placeSignatures: this.smallPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.SMALL_TOP: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 50,\r\n                    height: 49.5,\r\n                    orientation: Orientation.HORIZONTAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.TOP,\r\n                    },\r\n                    size: StillageSize.SMALL,\r\n                    placeSignatures: this.smallPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.SMALL_LEFT_VERT: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 49.5,\r\n                    height: 50,\r\n                    orientation: Orientation.VERTICAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.LEFT,\r\n                    },\r\n                    size: StillageSize.SMALL,\r\n                    placeSignatures: this.smallPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.SMALL_RIGHT_VERT: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 49.5,\r\n                    height: 50,\r\n                    orientation: Orientation.VERTICAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.RIGHT,\r\n                    },\r\n                    size: StillageSize.SMALL,\r\n                    placeSignatures: this.smallPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    public getStillagePlaceSignatures(stillageSize: StillageSize, parentExtremePSTitle: string, toMin: boolean): Array<PlaceSignatureItem> {\r\n        let parsedTitle = parseInt(parentExtremePSTitle);\r\n        if (stillageSize === StillageSize.NORMAL) {\r\n            if (toMin) {\r\n                return [\r\n                    {\r\n                        place: 1,\r\n                        title: (parsedTitle - 3).toString()\r\n                    },\r\n                    {\r\n                        place: 2,\r\n                        title: (parsedTitle - 2).toString()\r\n                    },\r\n                    {\r\n                        place: 3,\r\n                        title: (parsedTitle - 1).toString()\r\n                    }\r\n                ];\r\n            } else {\r\n                return [\r\n                    {\r\n                        place: 1,\r\n                        title: (parsedTitle + 1).toString()\r\n                    },\r\n                    {\r\n                        place: 2,\r\n                        title: (parsedTitle + 2).toString()\r\n                    },\r\n                    {\r\n                        place: 3,\r\n                        title: (parsedTitle + 3).toString()\r\n                    }\r\n                ];\r\n            }\r\n        } else if (stillageSize === StillageSize.SMALL) {\r\n            if (toMin) {\r\n\r\n            } else {\r\n\r\n            }\r\n        }\r\n        return [];\r\n    }\r\n\r\n    public stillageSearchByID(stillagesList: Array<StillageItem>, id: number) {\r\n        return bs.search_in_associative(stillagesList, 'id', id);\r\n    }\r\n\r\n    // public getStillageSize() {\r\n    //     let width, height = 0;\r\n    //     if (this.props.source.orientation === Orientation.HORIZONTAL) {\r\n    //         if (this.props.source.size === StillageSize.NORMAL) {\r\n    //             width = 76;\r\n    //             height = 49.5;\r\n    //         } else {\r\n    //             width = 50;\r\n    //             height = 49.5;\r\n    //         }\r\n    //     } else {\r\n    //         if (this.props.source.size === StillageSize.NORMAL) {\r\n    //             width = 49.5;\r\n    //             height = 76;\r\n    //         } else {\r\n    //             width = 49.5;\r\n    //             height = 50;\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n}","import React from 'react';\r\nimport IDeleteCircleProps from \"../../Models/Components/DeleteCircle/IDeleteCircleProps\";\r\nimport IDeleteCircleState from \"../../Models/Components/DeleteCircle/IDeleteCircleState\";\r\nimport {Circle, Text} from \"react-konva\";\r\nimport LayerType from \"../../Models/Enums/LayerType\";\r\nimport Orientation from \"../../Models/Enums/Orientation\";\r\nimport SignaturePosition from \"../../Models/Enums/SignaturePosition\";\r\nimport Emit from \"../../Data/Emit\";\r\n\r\nexport default class DeleteCircle extends React.Component<IDeleteCircleProps, IDeleteCircleState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source,\r\n            parentType: this.props.parentType,\r\n        };\r\n        this.deleteShape = this.deleteShape.bind(this);\r\n    }\r\n\r\n    public deleteShape(type: LayerType) {\r\n        Emit.Emitter.emit('deleteShapeFromLayer', type, this.state.source.id);\r\n    }\r\n\r\n    render() {\r\n        const { source, parentType } = this.state;\r\n        let deleteCircle;\r\n        let deleteCross;\r\n\r\n        if (parentType === LayerType.STILLAGES) {\r\n            if (source.signature.position === SignaturePosition.BOTTOM || source.signature.position === SignaturePosition.RIGHT) {\r\n                deleteCircle = (\r\n                    <Circle\r\n                        key={source.key + '_deleteCircle_circle'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        radius={10}\r\n                        x={source.x - 10}\r\n                        y={source.y - 20}\r\n                        fill={'#E0E0E0'}\r\n                    />\r\n                );\r\n                deleteCross = (\r\n                    <Text\r\n                        key={source.key + '_deleteCircle_deleteCross'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        text={'x'}\r\n                        x={source.x - 15}\r\n                        y={source.y - 27}\r\n                        fontSize={16}\r\n                        height={100}\r\n                        fontStyle={'bold'}\r\n                        fill={'red'}\r\n                    />\r\n                );\r\n            } else if (source.orientation === Orientation.HORIZONTAL && source.signature.position === SignaturePosition.TOP) {\r\n                deleteCircle = (\r\n                    <Circle\r\n                        key={source.key + '_deleteCircle_circle'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        radius={10}\r\n                        x={source.x - 10}\r\n                        y={source.y - 35}\r\n                        fill={'#E0E0E0'}\r\n                    />\r\n                );\r\n                deleteCross = (\r\n                    <Text\r\n                        key={source.key + '_deleteCircle_deleteCross'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        text={'x'}\r\n                        x={source.x - 15}\r\n                        y={source.y - 42}\r\n                        fontSize={16}\r\n                        height={100}\r\n                        fontStyle={'bold'}\r\n                        fill={'red'}\r\n                    />\r\n                );\r\n            } else if (source.orientation === Orientation.VERTICAL && source.signature.position === SignaturePosition.LEFT) {\r\n                deleteCircle = (\r\n                    <Circle\r\n                        key={source.key + '_deleteCircle_circle'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        radius={10}\r\n                        x={source.x - 35}\r\n                        y={source.y - 10}\r\n                        fill={'#E0E0E0'}\r\n                    />\r\n                );\r\n                deleteCross = (\r\n                    <Text\r\n                        key={source.key + '_deleteCircle_deleteCross'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        text={'x'}\r\n                        x={source.x - 40}\r\n                        y={source.y - 17}\r\n                        fontSize={16}\r\n                        height={100}\r\n                        fontStyle={'bold'}\r\n                        fill={'red'}\r\n                    />\r\n                );\r\n            }\r\n        } else if (parentType === LayerType.LIGHTING) {\r\n            deleteCircle = (\r\n                <Circle\r\n                    key={source.key + '_deleteCircle_circle'}\r\n                    onTap={() => { this.deleteShape(LayerType.LIGHTING) }}\r\n                    onClick={() => { this.deleteShape(LayerType.LIGHTING) }}\r\n                    radius={10}\r\n                    x={source.x - 10}\r\n                    y={source.y - 20}\r\n                    fill={'#E0E0E0'}\r\n                />\r\n            );\r\n            deleteCross = (\r\n                <Text\r\n                    key={source.key + '_deleteCircle_deleteCross'}\r\n                    onTap={() => { this.deleteShape(LayerType.LIGHTING) }}\r\n                    onClick={() => { this.deleteShape(LayerType.LIGHTING) }}\r\n                    text={'x'}\r\n                    x={source.x - 15}\r\n                    y={source.y - 27}\r\n                    fontSize={16}\r\n                    height={100}\r\n                    fontStyle={'bold'}\r\n                    fill={'red'}\r\n                />\r\n            );\r\n        } else if (parentType === LayerType.WALLS) {\r\n            deleteCircle = (\r\n                <Circle\r\n                    key={source.key + '_deleteCircle_circle'}\r\n                    onTap={() => { this.deleteShape(LayerType.WALLS) }}\r\n                    onClick={() => { this.deleteShape(LayerType.WALLS) }}\r\n                    radius={10}\r\n                    x={source.startX - 15}\r\n                    y={source.startY - 25}\r\n                    fill={'#E0E0E0'}\r\n                />\r\n            );\r\n            deleteCross = (\r\n                <Text\r\n                    key={source.key + '_deleteCircle_deleteCross'}\r\n                    onTap={() => { this.deleteShape(LayerType.WALLS) }}\r\n                    onClick={() => { this.deleteShape(LayerType.WALLS) }}\r\n                    text={'x'}\r\n                    x={source.startX - 20}\r\n                    y={source.startY - 32}\r\n                    fontSize={16}\r\n                    height={100}\r\n                    fontStyle={'bold'}\r\n                    fill={'red'}\r\n                />\r\n            );\r\n        }\r\n        return [deleteCircle, deleteCross];\r\n    }\r\n}","enum LabelButtonMode {\r\n    ADD = 'ADD',\r\n    DELETE = 'DELETE',\r\n}\r\n\r\nexport default LabelButtonMode;\r\n","import React from 'react';\r\nimport IAddCircleProps from \"../../Models/Components/AddCircle/IAddCircleProps\";\r\nimport IAddCircleState from \"../../Models/Components/AddCircle/IAddCircleState\";\r\nimport LayerType from \"../../Models/Enums/LayerType\";\r\nimport {Circle, Text} from \"react-konva\";\r\nimport Orientation from \"../../Models/Enums/Orientation\";\r\nimport SignaturePosition from \"../../Models/Enums/SignaturePosition\";\r\nimport Emit from \"../../Data/Emit\";\r\nimport Position from \"../../Models/Enums/Position\";\r\n\r\nexport default class AddCircle extends React.Component<IAddCircleProps, IAddCircleState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source,\r\n            mapStillages: this.props.mapStillages,\r\n            parentType: this.props.parentType\r\n        };\r\n        this.addCircleClickAction = this.addCircleClickAction.bind(this);\r\n    }\r\n\r\n    public addCircleClickAction(type: LayerType, position: Position) {\r\n        Emit.Emitter.emit('addSameShape', type, this.state.source, position);\r\n    }\r\n\r\n    render() {\r\n        const {source, mapStillages, parentType} = this.state;\r\n        let fAddCircle, sAddCircle, fAddCircleText, sAddCircleText;\r\n        // TODO: Small stillages\r\n        let firstSideCheck, secondSideCheck = false;\r\n        if (parentType === LayerType.STILLAGES) {\r\n            if (source.orientation === Orientation.HORIZONTAL) {\r\n                if (source.signature.position === SignaturePosition.TOP) {\r\n                    firstSideCheck = false;\r\n                    secondSideCheck = false;\r\n                    for (let i = 0; i < mapStillages.length; i++) {\r\n                        if ((mapStillages[i].x >= (source.x - 80) && mapStillages[i].x < source.x)\r\n                            && (mapStillages[i].y <= (source.y + 25) && mapStillages[i].y >= source.y)) {\r\n                            firstSideCheck = true;\r\n                        }\r\n                        if ((mapStillages[i].x > (source.x + 75) && mapStillages[i].x <= (source.x + 75 + 80))\r\n                            && (mapStillages[i].y <= (source.y + 25) && mapStillages[i].y >= source.y)) {\r\n                            secondSideCheck = true;\r\n                        }\r\n                    }\r\n                    if (!firstSideCheck) {\r\n                        fAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x - 20}\r\n                                y={source.y + 7}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        fAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x - 24.5}\r\n                                y={source.y + 1}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                    if (!secondSideCheck) {\r\n                        sAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 95}\r\n                                y={source.y + 7}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        sAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 90.5}\r\n                                y={source.y + 1}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                } else {\r\n                    firstSideCheck = false;\r\n                    secondSideCheck = false;\r\n                    for (let i = 0; i < mapStillages.length; i++) {\r\n                        if ((mapStillages[i].x >= (source.x - 80) && mapStillages[i].x < source.x)\r\n                            && (mapStillages[i].y <= (source.y + 25) && mapStillages[i].y >= source.y)) {\r\n                            firstSideCheck = true;\r\n                        }\r\n                        if ((mapStillages[i].x > (source.x + 75) && mapStillages[i].x <= (source.x + 75 + 80))\r\n                            && (mapStillages[i].y <= (source.y + 25) && mapStillages[i].y >= source.y)) {\r\n                            secondSideCheck = true;\r\n                        }\r\n                    }\r\n                    if (!firstSideCheck) {\r\n                        fAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x - 20}\r\n                                y={source.y + 15}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        fAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x - 24.5}\r\n                                y={source.y + 9}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                    if (!secondSideCheck) {\r\n                        sAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 95}\r\n                                y={source.y + 15}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        sAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 90.5}\r\n                                y={source.y + 9}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                }\r\n            } else {\r\n                if (source.signature.position === SignaturePosition.LEFT) {\r\n                    firstSideCheck = false;\r\n                    secondSideCheck = false;\r\n                    for (let i = 0; i < mapStillages.length; i++) {\r\n                        if ((mapStillages[i].y >= (source.y - 80) && mapStillages[i].y < source.y)\r\n                            && (mapStillages[i].x <= (source.x + 25) && mapStillages[i].x >= source.x)) {\r\n                            firstSideCheck = true;\r\n                        }\r\n                        if ((mapStillages[i].y > (source.y + 75) && mapStillages[i].y <= (source.y + 75 + 80))\r\n                            && (mapStillages[i].x <= (source.x + 25) && mapStillages[i].x >= source.x)) {\r\n                            secondSideCheck = true;\r\n                        }\r\n                    }\r\n                    if (!firstSideCheck) {\r\n                        fAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 6}\r\n                                y={source.y - 20}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        fAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 1.05}\r\n                                y={source.y - 26}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n\r\n                    if (!secondSideCheck) {\r\n                        sAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 6}\r\n                                y={source.y + 95}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        sAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 1.05}\r\n                                y={source.y + 89}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                } else if (source.signature.position === SignaturePosition.RIGHT) {\r\n                    for (let i = 0; i < mapStillages.length; i++) {\r\n                        if ((mapStillages[i].y >= (source.y - 80) && mapStillages[i].y < source.y)\r\n                            && (mapStillages[i].x <= (source.x + 25) && mapStillages[i].x >= source.x)) {\r\n                            firstSideCheck = true;\r\n                        }\r\n                        if ((mapStillages[i].y > (source.y + 75) && mapStillages[i].y <= (source.y + 75 + 80))\r\n                            && (mapStillages[i].x <= (source.x + 25) && mapStillages[i].x >= source.x)) {\r\n                            secondSideCheck = true;\r\n                        }\r\n                    }\r\n                    if (!firstSideCheck) {\r\n                        fAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 15}\r\n                                y={source.y - 20}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        fAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 10.05}\r\n                                y={source.y - 26}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n\r\n                    if (!secondSideCheck) {\r\n                        sAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 15}\r\n                                y={source.y + 95}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        sAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 10.05}\r\n                                y={source.y + 89}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return [fAddCircle, sAddCircle, fAddCircleText, sAddCircleText];\r\n    }\r\n}","import React from 'react';\r\nimport Konva from 'konva';\r\nimport {Rect} from 'react-konva';\r\nimport IStillageProps from './../Models/Components/Stillage/IStillageProps';\r\nimport IStillageState from './../Models/Components/Stillage/IStillageState';\r\nimport Orientation from './../Models/Enums/Orientation';\r\nimport StillageSizeReducer from './../Models/Enums/StillageSize/StillageSizeReducer';\r\nimport StillageColors from '../Models/Enums/Colors/StillageColors';\r\nimport Defect from './Defect';\r\nimport PlaceSignature from './PlaceSignature';\r\nimport Signature from './SIgnature';\r\nimport Emit from \"../Data/Emit\";\r\nimport StillageService from \"../Services/StillageService\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport DeleteCircle from \"./Stage/DeleteCircle\";\r\nimport AddCircle from \"./Stage/AddCircle\";\r\nimport PlaceSignatureItem from \"../Models/ArrayItems/PlaceSignatureItem\";\r\nimport SignatureItem from \"../Models/ArrayItems/SignatureItem\";\r\nimport DefectColors from \"../Models/Enums/Colors/DefectColors\";\r\n\r\n\r\nexport default class Stillage extends React.Component<IStillageProps, IStillageState> {\r\n    public stillageService!: StillageService;\r\n    constructor(props) {\r\n        super(props);\r\n        this.stillageService = new StillageService();\r\n        let width, height = 0;\r\n        if (this.props.source.orientation === Orientation.HORIZONTAL) {\r\n            width = this.props.source.pmCount! * 30;\r\n            height = 30;\r\n        } else {\r\n            width = 30;\r\n            height = this.props.source.pmCount! * 30;\r\n        }\r\n        this.props.source.width = width;\r\n        this.props.source.height = height;\r\n        this.state = {\r\n            source: this.props.source,\r\n            mapStillages: this.props.mapStillages,\r\n            isMoveEnabled: false,\r\n            isAdding: false,\r\n        };\r\n\r\n        this.setStillageMoveEnabled = this.setStillageMoveEnabled.bind(this);\r\n        this.setStillageMoveNow = this.setStillageMoveNow.bind(this);\r\n        this.isAddingChange = this.isAddingChange.bind(this);\r\n        this.setIsAddingChange = this.setIsAddingChange.bind(this);\r\n        this.placeSignaturesForceUpdate = this.placeSignaturesForceUpdate.bind(this);\r\n        this.signaturesForceUpdate = this.signaturesForceUpdate.bind(this);\r\n\r\n        Emit.Emitter.addListener('stillageIsAddingChange', this.isAddingChange);\r\n        Emit.Emitter.addListener('forceSetIsAddingChange', this.setIsAddingChange);\r\n        Emit.Emitter.addListener('placeSignatureForceUpdate', this.placeSignaturesForceUpdate);\r\n        Emit.Emitter.addListener('signaturesForceUpdate', this.signaturesForceUpdate);\r\n    }\r\n\r\n    public placeSignaturesForceUpdate(key: string, newPlaces: Array<PlaceSignatureItem>) {\r\n        // автоматическое подставление номеров мест при передвижении стеллажа\r\n        const {source} = this.state;\r\n        if (key === this.state.source.key) {\r\n            source.placeSignatures = newPlaces;\r\n            for (let i = 0; i < newPlaces.length; i++) {\r\n                Emit.Emitter.emit('placeSignaturesForceSource', source.key, newPlaces[i].place, newPlaces[i]);\r\n            }\r\n            this.forceUpdate(() => this.setState({source}));\r\n        }\r\n    }\r\n\r\n    public signaturesForceUpdate(key: string, newSignature: SignatureItem) {\r\n        const {source} = this.state;\r\n        if (key === this.state.source.key) {\r\n            source.signature = newSignature;\r\n            Emit.Emitter.emit('signatureForceUpdate', source.key, newSignature);\r\n            this.setState({source});\r\n        }\r\n    }\r\n\r\n    public setIsAddingChange(value: boolean) {\r\n        this.forceUpdate(() => this.setState({isAdding: value}));\r\n    }\r\n\r\n    public isAddingChange() {\r\n        this.setState({isAdding: !this.state.isAdding});\r\n    }\r\n\r\n    public setStillageMoveEnabled(e) {\r\n        Emit.Emitter.emit('setIsShapeMoving', !this.state.isMoveEnabled);\r\n        this.setState({isMoveEnabled: !this.state.isMoveEnabled})\r\n    }\r\n\r\n    public setStillageMoveNow(e, value: boolean) {\r\n        console.log(this.state.source);\r\n        if (e.evt.which === 1) {\r\n            Emit.Emitter.emit('setIsShapeMovingNow', value, {\r\n                type: LayerType.STILLAGES,\r\n                shape: this.state.source\r\n            });\r\n        }\r\n    }\r\n\r\n    handleDragStart = e => {\r\n        e.target.setAttrs({\r\n            shadowOffset: {\r\n                x: 2,\r\n                y: 2\r\n            },\r\n            shadowColor: 'grey',\r\n            scaleX: 1.1,\r\n            scaleY: 1.1\r\n        });\r\n    };\r\n\r\n    handleDragEnd = e => {\r\n        e.target.to({\r\n            duration: 0.5,\r\n            easing: Konva.Easings.ElasticEaseOut,\r\n            scaleX: 1,\r\n            scaleY: 1,\r\n            shadowOffset: null,\r\n            shadowColor: 'white',\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { source } = this.state;\r\n        const stillageSizeReducer = new StillageSizeReducer();\r\n\r\n        let stillage;\r\n        let deleteCircle;\r\n        let addCircles;\r\n        let viks: Array<JSX.Element> = [];\r\n        let placeSignatures: Array<JSX.Element> = [];\r\n        let signature;\r\n        let stillageSR = new StillageSizeReducer();\r\n        let stillageMoveArrows: Array<JSX.Element> = [];\r\n\r\n        if (this.state.isAdding) {\r\n              addCircles = (\r\n                <AddCircle\r\n                    key={source.key + '_addCircle'}\r\n                    source={source}\r\n                    mapStillages={this.state.mapStillages}\r\n                    parentType={LayerType.STILLAGES}\r\n                />\r\n            );\r\n        }\r\n\r\n        if (this.state.isMoveEnabled) {\r\n            stillageMoveArrows = this.stillageService.getStillageArrows(this.state.source);\r\n            deleteCircle = (\r\n                <DeleteCircle\r\n                    key={source.key + '_deleteCircle'}\r\n                    source={source}\r\n                    parentType={LayerType.STILLAGES}\r\n                />\r\n            );\r\n        }\r\n\r\n        if (source.signature !== undefined) {\r\n            signature =\r\n                <Signature\r\n                    parentScale={source.scale!}\r\n                    isBlockScaling={source.isBlockScaling!}\r\n                    pmCount={source.pmCount!}\r\n                    parentKey={source.key}\r\n                    key={source.key + '_signature'}\r\n                    parentX={source.x}\r\n                    parentY={source.y}\r\n                    parentOrientation={source.orientation}\r\n                    parentSize={source.size}\r\n                    source={source.signature}\r\n                />\r\n            ;\r\n        }\r\n\r\n        if (source.placeSignatures !== undefined) {\r\n            let i = 0;\r\n            source.placeSignatures.forEach(element => {\r\n                placeSignatures.push(\r\n                    <PlaceSignature\r\n                        parentPlaceSignatures={source.placeSignatures!}\r\n                        isBlockScaling={source.isBlockScaling!}\r\n                        parentScale={source.scale!}\r\n                        pmCount={source.pmCount!}\r\n                        parentKey={source.key}\r\n                        key={source.key + '_placeSignature_' + (i++)}\r\n                        parentX={source.x}\r\n                        parentY={source.y}\r\n                        parentDefects={source.viks!}\r\n                        parentOrientation={source.orientation}\r\n                        source={element}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n\r\n        // console.log(source.viks);\r\n        // source.viks?.forEach(el => console.log(el));\r\n\r\n        // source.viks.forEach(el => console.log(el));\r\n        let redDefects: Array<JSX.Element> = [];\r\n        let greenDefects: Array<JSX.Element> = [];\r\n        let yellowDefects: Array<JSX.Element> = [];\r\n        if (source.viks !== undefined && source.viks.length !== 0) {\r\n            source.viks!.forEach((element, i) => {\r\n                if (element.color === DefectColors.RED) {\r\n                    redDefects.push(\r\n                        <Defect\r\n                            parentSource={source}\r\n                            parentScale={source.scale!}\r\n                            isBlockScaling={source.isBlockScaling!}\r\n                            parentKey={source.key}\r\n                            key={source.key + '_defect_' + (i++)}\r\n                            parentX={source.x}\r\n                            parentY={source.y}\r\n                            parentOrientation={source.orientation}\r\n                            source={element}\r\n                        />\r\n                    );\r\n                } else if (element.color === DefectColors.GREEN) {\r\n                    greenDefects.push(\r\n                        <Defect\r\n                            parentSource={source}\r\n                            parentScale={source.scale!}\r\n                            isBlockScaling={source.isBlockScaling!}\r\n                            parentKey={source.key}\r\n                            key={source.key + '_defect_' + (i++)}\r\n                            parentX={source.x}\r\n                            parentY={source.y}\r\n                            parentOrientation={source.orientation}\r\n                            source={element}\r\n                        />\r\n                    );\r\n                } else if (element.color === DefectColors.YELLOW) {\r\n                    yellowDefects.push(\r\n                        <Defect\r\n                            parentSource={source}\r\n                            parentScale={source.scale!}\r\n                            isBlockScaling={source.isBlockScaling!}\r\n                            parentKey={source.key}\r\n                            key={source.key + '_defect_' + (i++)}\r\n                            parentX={source.x}\r\n                            parentY={source.y}\r\n                            parentOrientation={source.orientation}\r\n                            source={element}\r\n                        />\r\n                    );\r\n                }\r\n            });\r\n        }\r\n\r\n        // if (source.pmCount === 1) alert('1!');\r\n        if (source.orientation === Orientation.HORIZONTAL) {\r\n            stillage = (\r\n                <Rect\r\n                    key={source.key + '_rect'}\r\n                    // move actions\r\n                    onDblTap={(e) => this.setStillageMoveEnabled(e)}\r\n                    onDblClick={(e) => this.setStillageMoveEnabled(e)}\r\n                    onMouseDown={(e) => this.setStillageMoveNow(e, true)}\r\n                    onTouchStart={(e) => this.setStillageMoveNow(e, true)}\r\n                    onMouseUp={(e) => this.setStillageMoveNow(e, false)}\r\n                    onTouchEnd={(e) => this.setStillageMoveNow(e, false)}\r\n                    onClick={(e) => {\r\n                        Emit.Emitter.emit('mapShapeClickEmit', e.evt.which, e.evt, source.id, LayerType.STILLAGES);\r\n                        // console.error(e.evt.which);\r\n                    }}\r\n                    // ____\r\n                    x={source.x}\r\n                    y={source.y}\r\n                    // width={stillageSizeReducer.GetSize(source.size).firstSide}\r\n                    // height={stillageSizeReducer.GetSize(source.size).secondSide}\r\n                    width={stillageSizeReducer.GetA100Size(source.pmCount!, source.orientation, source.scale!, source.isBlockScaling!).firstSide}\r\n                    height={stillageSizeReducer.GetA100Size(source.pmCount!, source.orientation, source.scale!, source.isBlockScaling!).secondSide}\r\n                    fill={StillageColors.STILLAGE_NORMAL}\r\n                    strokeWidth={1} // border width\r\n                    stroke={StillageColors.STILLAGE_NORMAL_STROKE}\r\n                    onDragStart={this.handleDragStart}\r\n                    onDragEnd={this.handleDragEnd}\r\n                />\r\n            );\r\n        } else if (source.orientation === Orientation.VERTICAL) {\r\n            stillage = (\r\n                <Rect\r\n                    key={source.key + '_rect'}\r\n                    // move actions\r\n                    onDblTap={(e) => this.setStillageMoveEnabled(e)}\r\n                    onDblClick={(e) => this.setStillageMoveEnabled(e)}\r\n                    onMouseDown={(e) => this.setStillageMoveNow(e, true)}\r\n                    onTouchStart={(e) => this.setStillageMoveNow(e, true)}\r\n                    onMouseUp={(e) => this.setStillageMoveNow(e, false)}\r\n                    onTouchEnd={(e) => this.setStillageMoveNow(e, false)}\r\n                    // ____\r\n                    x={source.x}\r\n                    y={source.y}\r\n                    // width={stillageSizeReducer.GetSize(source.size).secondSide}\r\n                    // height={stillageSizeReducer.GetSize(source.size).firstSide}\r\n                    width={stillageSizeReducer.GetA100Size(source.pmCount!, source.orientation, source.scale!, source.isBlockScaling!).firstSide}\r\n                    height={stillageSizeReducer.GetA100Size(source.pmCount!, source.orientation, source.scale!, source.isBlockScaling!).secondSide}\r\n                    fill={StillageColors.STILLAGE_NORMAL}\r\n                    strokeWidth={1} // border width\r\n                    stroke={StillageColors.STILLAGE_NORMAL_STROKE}\r\n                    onDragStart={this.handleDragStart}\r\n                    onDragEnd={this.handleDragEnd}\r\n                />\r\n            );\r\n        }\r\n\r\n        return [\r\n            addCircles,\r\n            signature,\r\n            stillage,\r\n            greenDefects,\r\n            yellowDefects,\r\n            redDefects,\r\n            placeSignatures,\r\n            stillageMoveArrows,\r\n            deleteCircle,\r\n\r\n        ];\r\n    }\r\n}\r\n","import React from 'react';\r\nimport {Circle} from \"react-konva\";\r\nimport ILabelButtonProps from \"../../Models/Components/LabelButton/ILabelButtonProps\";\r\nimport ILabelButtonState from \"../../Models/Components/LabelButton/ILabelButtonState\";\r\nimport Orientation from \"../../Models/Enums/Orientation\";\r\n// import AppState from \"../../Data/AppState\";\r\nimport Emit from \"../../Data/Emit\";\r\n\r\nexport default class LabelButton extends React.Component<ILabelButtonProps, ILabelButtonState> {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            sourceKey: this.props.sourceKey,\r\n            parentX: this.props.parentX,\r\n            parentY: this.props.parentY,\r\n            objectSource: this.props.objectSource,\r\n            labelMode: this.props.labelMode,\r\n        }\r\n    }\r\n\r\n    public OnMouseHandler(e, type, isStart: boolean) {\r\n        switch (type) {\r\n            case 'down': Emit.Emitter.emit('wallLabelButtonInteractionWayDown', e, this.state.objectSource, isStart); break;\r\n            case 'up': Emit.Emitter.emit('wallLabelButtonInteractionWayUp', e, this.state.objectSource, isStart); break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { sourceKey, parentX, parentY, objectSource, labelMode } = this.state;\r\n        let startLabelButton, endLabelButton;\r\n        if (objectSource !== undefined) {\r\n            if (objectSource.orientation === Orientation.HORIZONTAL) {\r\n                startLabelButton = (\r\n                    <Circle\r\n                        key={sourceKey + '_startLabelButton_horizontal'}\r\n                        radius={10.5}\r\n                        x={parentX}\r\n                        y={parentY + 5}\r\n                        strokeWidth={0.5}\r\n                        stroke={'#2f00ff'}\r\n                        fill={'#E0E0E0'}\r\n\r\n                        onMouseDown={(e) => {this.OnMouseHandler(e, 'down', true)}}\r\n                        onTouchStart={(e) => {this.OnMouseHandler(e, 'down', true)}}\r\n                        onMouseUp={(e) => {this.OnMouseHandler(e, 'up', true)}}\r\n                        onTouchEnd={(e) => {this.OnMouseHandler(e, 'up', true)}}\r\n                    />\r\n                );\r\n                endLabelButton = (\r\n                    <Circle\r\n                        key={sourceKey + '_endLabelButton_horizontal'}\r\n                        radius={10.5}\r\n                        x={parentX + objectSource.length}\r\n                        y={parentY + 5}\r\n                        strokeWidth={0.5}\r\n                        stroke={'#2f00ff'}\r\n                        fill={'#E0E0E0'}\r\n\r\n                        onMouseDown={(e) => {this.OnMouseHandler(e, 'down', false)}}\r\n                        onTouchStart={(e) => {this.OnMouseHandler(e, 'down', false)}}\r\n                        onMouseUp={(e) => {this.OnMouseHandler(e, 'up', false)}}\r\n                        onTouchEnd={(e) => {this.OnMouseHandler(e, 'up', false)}}\r\n                    />\r\n                );\r\n            } else if (objectSource.orientation === Orientation.VERTICAL) {\r\n                startLabelButton = (\r\n                    <Circle\r\n                        key={sourceKey + '_startLabelButton_vertical'}\r\n                        radius={10.5}\r\n                        x={parentX + 5}\r\n                        y={parentY - 8}\r\n                        strokeWidth={0.5}\r\n                        stroke={'#2f00ff'}\r\n                        fill={'#E0E0E0'}\r\n\r\n                        onMouseDown={(e) => {this.OnMouseHandler(e, 'down', true)}}\r\n                        onTouchStart={(e) => {this.OnMouseHandler(e, 'down', true)}}\r\n                        onMouseUp={(e) => {this.OnMouseHandler(e, 'up', true)}}\r\n                        onTouchEnd={(e) => {this.OnMouseHandler(e, 'up', true)}}\r\n                    />\r\n                );\r\n                endLabelButton = (\r\n                    <Circle\r\n                        key={sourceKey + '_endLabelButton_vertical'}\r\n                        radius={10.5}\r\n                        x={parentX + 5}\r\n                        y={parentY + objectSource.length + 8}\r\n                        strokeWidth={0.5}\r\n                        stroke={'#2f00ff'}\r\n                        fill={'#E0E0E0'}\r\n\r\n                        onMouseDown={(e) => {this.OnMouseHandler(e, 'down', false)}}\r\n                        onTouchStart={(e) => {this.OnMouseHandler(e, 'down', false)}}\r\n                        onMouseUp={(e) => {this.OnMouseHandler(e, 'up', false)}}\r\n                        onTouchEnd={(e) => {this.OnMouseHandler(e, 'up', false)}}\r\n                    />\r\n                );\r\n            }\r\n\r\n        }\r\n        console.log('\\tstartLabelKey: ' + startLabelButton.key);\r\n        console.log('\\tendLabelKey: ' + endLabelButton.key);\r\n        return [startLabelButton, endLabelButton];\r\n    }\r\n\r\n}","import React, {Component} from 'react';\r\nimport {Image, Line, Rect} from 'react-konva';\r\nimport IWallProps from './../Models/Components/Wall/IWallProps';\r\nimport IWallState from './../Models/Components/Wall/IWallState';\r\nimport Orientation from './../Models/Enums/Orientation';\r\nimport LabelButton from \"./Stage/LabelButton\";\r\nimport LabelButtonMode from \"../Models/Enums/LabelButtonMode\";\r\nimport AppState from \"../Data/AppState\";\r\nimport Emit from \"../Data/Emit\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport DeleteCircle from \"./Stage/DeleteCircle\";\r\n\r\nexport default class Wall extends Component<IWallProps, IWallState> {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source,\r\n            cursorCoords: {\r\n                x: 0,\r\n                y: 0,\r\n            },\r\n            isDelete: false,\r\n            isAddLabelButton: false,\r\n        };\r\n        this.WallOnClickHandler = this.WallOnClickHandler.bind(this);\r\n        this.OnMouseHandler = this.OnMouseHandler.bind(this);\r\n        this.OnMouseHandlerValue = this.OnMouseHandlerValue.bind(this);\r\n        this.setShapeMoveNow = this.setShapeMoveNow.bind(this);\r\n        Emit.Emitter.addListener('wallMouseDbl', this.OnMouseHandlerValue);\r\n    }\r\n\r\n    public OnMouseHandlerValue(value) {\r\n        this.setState({isAddLabelButton: value, isDelete: value});\r\n    }\r\n\r\n    public OnMouseHandler() {\r\n        this.setState({isAddLabelButton: !this.state.isAddLabelButton, isDelete: !this.state.isDelete});\r\n    }\r\n\r\n    public WallOnClickHandler() {\r\n        this.setState({isDelete: true});\r\n    }\r\n\r\n    clickHandler = () => {\r\n        const { source } = this.state;\r\n\r\n        console.log(source);\r\n    };\r\n\r\n    public setShapeMoveNow(e, value: boolean) {\r\n        if (e.evt.which === 1) {\r\n            Emit.Emitter.emit('setIsShapeMovingNow', value, {\r\n                type: LayerType.WALLS,\r\n                shape: this.state.source\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { source, isAddLabelButton, isDelete } = this.state;\r\n        let labelButton;\r\n        let deleteCircle;\r\n        let triangle;\r\n\r\n        if (isDelete) {\r\n            deleteCircle = (\r\n                <DeleteCircle\r\n                    key={source.key + '_deleteCircle'}\r\n                    source={source}\r\n                    parentType={LayerType.WALLS}\r\n                />\r\n            );\r\n        }\r\n\r\n        if (isAddLabelButton) {\r\n            labelButton = (\r\n                <LabelButton\r\n                    key={source.key + '_labelButton'}\r\n                    sourceKey={source.key + '_labelButton'}\r\n                    parentX={source.startX}\r\n                    parentY={source.startY}\r\n                    objectSource={source}\r\n                    labelMode={LabelButtonMode.ADD}\r\n                />\r\n            );\r\n        }\r\n        let wall = (\r\n            <Rect\r\n                key={source.key + '_rect'}\r\n                onDblClick={() => { this.OnMouseHandler() }}\r\n                onDblTap={() => { this.OnMouseHandler() }}\r\n                draggable={false}\r\n                // onDragEnd={ () => this.forceUpdate() }\r\n                onMouseDown={(e) => this.setShapeMoveNow(e, true)}\r\n                onTouchStart={(e) => this.setShapeMoveNow(e, true)}\r\n                onMouseUp={(e) => this.setShapeMoveNow(e, false)}\r\n                onTouchEnd={(e) => this.setShapeMoveNow(e, false)}\r\n                x={source.startX}\r\n                y={source.startY}\r\n                cornerRadius={10}\r\n                onClick={() => { this.clickHandler() }}\r\n                width={source.orientation === Orientation.HORIZONTAL ? source.length : 10}\r\n                height={source.orientation === Orientation.VERTICAL ? source.length : 10}\r\n                // source.color === undefined ? '#dcdcdc' : source.color\r\n                fill={source.color!.length === 0 ? '#dcdcdc' : source.color}\r\n            />\r\n        );\r\n        return [wall, labelButton, deleteCircle];\r\n    }\r\n}\r\n","\r\nexport default class AppState {\r\n    public static State: any = {}\r\n}","enum MapIconsType {\r\n    DRAWING,\r\n    IMAGE,\r\n}\r\n\r\nexport default MapIconsType;\r\n","import React from 'react';\r\nimport IElementsPanelProps from \"../../../Models/Components/ElementsPanel/IElementsPanelProps\";\r\nimport IElementsPanelState from \"../../../Models/Components/ElementsPanel/IElementsPanelState\";\r\nimport '../../../Css/ElementsPanel.css'\r\nimport ElementItem from \"../../../Models/ArrayItems/ElementItem\";\r\nimport AppState from \"../../../Data/AppState\";\r\nimport Emit from \"../../../Data/Emit\";\r\nimport LayerType from \"../../../Models/Enums/LayerType\";\r\n\r\n\r\nexport default class ElementsPanel extends React.Component<IElementsPanelProps, IElementsPanelState> {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source,\r\n            selectedCategory: -1,\r\n            isToggled: true,\r\n            selectedElementIndex: '',\r\n        };\r\n\r\n        Emit.Emitter.addListener('borderCleanAction', () => { this.setState({selectedElementIndex: ''}) });\r\n        this.categoryTitleClickHandler = this.categoryTitleClickHandler.bind(this);\r\n\r\n    }\r\n\r\n    // обработчик события нажатия на вкладку категории\r\n    public categoryTitleClickHandler(num) {\r\n        this.setState(\r\n            { ...this.state, ...{ selectedCategory: num } }\r\n        );\r\n    }\r\n\r\n    // обработчик события mouseDown по элементу в панеле\r\n    public elementMouseDownHandler(el: ElementItem) {\r\n        AppState.State.selectedEl = el;\r\n    }\r\n\r\n    public elementMouseClickHandler(index: string, el: ElementItem) {\r\n        AppState.State.selectedEl = el;\r\n        if (el.type === LayerType.WALLS) {\r\n            Emit.Emitter.emit('checkWallLayer');\r\n        }\r\n        if (el.type !== LayerType.WALLS) {\r\n            Emit.Emitter.emit('setAddCirclesVisibility');\r\n        }\r\n        // let check = index === this.state.selectedElementIndex;\r\n        this.setState({selectedElementIndex: index});\r\n        // if (check) {\r\n            Emit.Emitter.emit('cncFlagChange');\r\n        // }\r\n    }\r\n\r\n    render() {\r\n        const { source, selectedCategory, isToggled } = this.state;\r\n        let content;\r\n        let categories: Array<JSX.Element> = [];\r\n        let elements: Array<JSX.Element> = [];\r\n\r\n        if (!isToggled) {\r\n            categories.push(\r\n                <div\r\n                    key={'category_title_all'}\r\n                    onClick={() => this.categoryTitleClickHandler(-1)}\r\n                     className={'category-tab-title' + (selectedCategory === -1 ? ' selected-text' : '')}>\r\n                    все\r\n                </div>\r\n            );\r\n\r\n            source.forEach((el, i) => {\r\n                categories.push(\r\n                    <div\r\n                        key={'category_title_' + el.title + '_' + i}\r\n                        onClick={() => this.categoryTitleClickHandler(i)}\r\n                         className={'category-tab-title' + (selectedCategory === i ? ' selected-text' : '')}>\r\n                        {el.title}\r\n                    </div>\r\n                );\r\n            });\r\n\r\n            if (selectedCategory !== -1) {\r\n                source[selectedCategory].elements.forEach((el, i) => {\r\n                    elements.push(\r\n                        <img\r\n                            key={\"el_img_\" + selectedCategory + \"_\" + i}\r\n                            onClick={() => {\r\n                                this.elementMouseClickHandler((\"el_img_\" + selectedCategory + \"_\" + i), el);\r\n                            }}\r\n                            onMouseDown={() => {\r\n                                this.elementMouseDownHandler(el)\r\n                            }}\r\n                            title={el.title!}\r\n                            alt={el.title!}\r\n                            draggable={true}\r\n                            style={{\r\n                                width: 'auto',\r\n                                height: '40px',\r\n                                cursor: 'pointer',\r\n                                padding: 2,\r\n                                border: this.state.selectedElementIndex === (\"el_img_\" + selectedCategory + \"_\" + i) ? '2px solid #ffa500' : '',\r\n                                borderRadius: 5\r\n                            }}\r\n                            src={el.photo}\r\n                        />\r\n                    );\r\n                });\r\n            } else {\r\n                // let _elements: Array<ElementItem> = [];\r\n                // for (let sourceEl of source) {\r\n                //     for (let el of sourceEl.elements) {\r\n                //         _elements.push(el);\r\n                //     }\r\n                // }\r\n\r\n                for (let i = 0; i < source.length; i++) {\r\n                    source[i].elements.forEach((el, j) => {\r\n                        elements.push(\r\n                            <img\r\n                                key={\"el_img_\" + i + \"_\" + j}\r\n                                onClick={() => {\r\n                                    this.elementMouseClickHandler((\"el_img_\" + i + \"_\" + j), el);\r\n                                }}\r\n                                onMouseDown={() => {\r\n                                    this.elementMouseDownHandler(el)\r\n                                }}\r\n                                title={el.title!}\r\n                                alt={el.title!}\r\n                                draggable={true}\r\n                                style={{\r\n                                    width: 'auto',\r\n                                    height: '40px',\r\n                                    cursor: 'pointer',\r\n                                    padding: 2,\r\n                                    border: this.state.selectedElementIndex === (\"el_img_\" + i + \"_\" + j) ? '2px solid #ffa500' : '',\r\n                                    borderRadius: 5\r\n                                }}\r\n                                src={el.photo}\r\n                            />\r\n                        );\r\n                    });\r\n                }\r\n            }\r\n\r\n            content = (\r\n                <div id={'elements-panel'} className={'elements-panel-wrapper'}>\r\n                    <div className={'inner-wrapper'}>\r\n                        <div className={'category-tabs-wrapper'}>\r\n                            {categories}\r\n                        </div>\r\n                        <div className={'category-elements-wrapper'}>\r\n                            {elements}\r\n                        </div>\r\n                        <div onClick={() => {\r\n                            this.setState({...this.state, ...{isToggled: true}})\r\n                        }} className={'category-elements-footer'}>\r\n                            <span style={{ cursor: 'pointer' }} className={'selected-text'}>свернуть</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            content = (\r\n                <div id={'elements-panel'} onClick={() => {\r\n                    this.setState({...this.state, ...{isToggled: false}})\r\n                }} className={'elements-panel-wrapper-toggled'}>\r\n                    <div className={'inner-wrapper-toggled'}>\r\n                         <span style={{ height: '40%', }} className={'selected-text'}>открыть панель элементов</span>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return content;\r\n    }\r\n}","import stillage1 from \"../Assets/compStillage.png\";\r\nimport stillage2 from \"../Assets/compStillageTop.png\";\r\nimport stillage3 from \"../Assets/compStillageVertLeft.png\";\r\nimport stillage4 from \"../Assets/compStillageVertRight.png\";\r\nimport stillage5 from \"../Assets/compStillageSmall.png\";\r\nimport stillage6 from \"../Assets/compStillageSmallTop.png\";\r\nimport stillage7 from \"../Assets/compStillageSmallVertLeft.png\";\r\nimport stillage8 from \"../Assets/compStillageSmallVertRight.png\";\r\n\r\nimport lightbulb from \"../Assets/lightbulb.png\";\r\nimport idea from \"../Assets/idea.png\";\r\n\r\nimport firewall from \"../Assets/firewall.png\";\r\nimport wallHor from \"../Assets/wallHor.png\";\r\nimport wallVert from \"../Assets/wallVert.png\";\r\n\r\nimport closeShape from \"../Assets/closeShape.png\";\r\n\r\nconst Images = {\r\n    stillage1,\r\n    stillage2,\r\n    stillage3,\r\n    stillage4,\r\n    stillage5,\r\n    stillage6,\r\n    stillage7,\r\n    stillage8,\r\n\r\n    lightbulb,\r\n    idea,\r\n\r\n    firewall,\r\n    wallHor,\r\n    wallVert,\r\n\r\n    closeShape\r\n};\r\n\r\n    export default Images;","import CategoryItem from \"../Models/ArrayItems/CategoryItem\";\r\nimport Images from \"./Images\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport MapStillageType from \"../Models/Enums/MapStillageType\";\r\nimport Orientation from \"../Models/Enums/Orientation\";\r\n\r\nconst ElementSource: Array<CategoryItem> = [\r\n    {\r\n        title: 'стеллажи',\r\n        elements: [\r\n            {\r\n                key: 'stillage_1',\r\n                title: 'Стеллаж',\r\n                stillageType: MapStillageType.NORMAL_BOTTOM,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage1,\r\n            },\r\n            {\r\n                key: 'stillage_2',\r\n                title: 'Стеллаж',\r\n                stillageType: MapStillageType.NORMAL_TOP,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage2,\r\n            },\r\n            {\r\n                key: 'stillage_3',\r\n                title: 'Стеллаж',\r\n                stillageType: MapStillageType.NORMAL_LEFT_VERT,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage3,\r\n            },\r\n            {\r\n                key: 'stillage_4',\r\n                title: 'Стеллаж',\r\n                stillageType: MapStillageType.NORMAL_RIGHT_VERT,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage4,\r\n            },\r\n            {\r\n                key: 'stillage_5',\r\n                title: 'Стеллаж',\r\n                stillageType: MapStillageType.SMALL_BOTTOM,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage5,\r\n            },\r\n            {\r\n                key: 'stillage_6',\r\n                title: 'Стеллаж',\r\n                stillageType: MapStillageType.SMALL_TOP,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage6\r\n            },\r\n            {\r\n                key: 'stillage_7',\r\n                title: 'Стеллаж',\r\n                stillageType: MapStillageType.SMALL_LEFT_VERT,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage7,\r\n            },\r\n            {\r\n                key: 'stillage_8',\r\n                title: 'Стеллаж',\r\n                stillageType: MapStillageType.SMALL_RIGHT_VERT,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage8,\r\n            }\r\n        ],\r\n    },\r\n    {\r\n        title: 'стены',\r\n        elements: [\r\n            {\r\n                key: 'wall_hor',\r\n                title: 'Стена горизонтальная',\r\n                type: LayerType.WALLS,\r\n                photo: Images.firewall,\r\n                orientation: Orientation.HORIZONTAL,\r\n            },\r\n            {\r\n                key: 'wall_vert',\r\n                title: 'Стена вертикальная',\r\n                type: LayerType.WALLS,\r\n                photo: Images.firewall,\r\n                orientation: Orientation.VERTICAL,\r\n            }\r\n        ],\r\n    },\r\n    {\r\n        title: 'освещение',\r\n        elements: [\r\n            {\r\n                key: 'first_light',\r\n                title: 'Светильник',\r\n                type: LayerType.LIGHTING,\r\n                photo: Images.lightbulb,\r\n            },\r\n            {\r\n                key: 'second_light',\r\n                title: 'Светильник',\r\n                type: LayerType.LIGHTING,\r\n                photo: Images.idea,\r\n            },\r\n        ],\r\n    }\r\n];\r\n\r\nexport default ElementSource;","import React from 'react';\r\nimport {Image} from 'react-konva';\r\nimport IObjectProps from \"../Models/Components/Object/IObjectProps\";\r\nimport IObjectState from \"../Models/Components/Object/IObjectState\";\r\nimport Emit from \"../Data/Emit\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport DeleteCircle from \"./Stage/DeleteCircle\";\r\n\r\nexport default class MapObject extends React.Component<IObjectProps, IObjectState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source,\r\n            image: null,\r\n            isDelete: false,\r\n        };\r\n        this.setShapeMoveNow = this.setShapeMoveNow.bind(this);\r\n    }\r\n\r\n    public setShapeMoveNow(e, value: boolean) {\r\n        if (e.evt.which === 1) {\r\n            Emit.Emitter.emit('setIsShapeMovingNow', value, {\r\n                type: LayerType.LIGHTING,\r\n                shape: this.state.source\r\n            });\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const image = new window.Image();\r\n        image.src = this.state.source.photo;\r\n        image.onload = () => {\r\n            this.setState({ image: image } );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { source } = this.state;\r\n        let mapObject;\r\n        let deleteCircle;\r\n        if (this.state.isDelete) {\r\n            deleteCircle = (\r\n                <DeleteCircle\r\n                    key={source.key + '_deleteCircle'}\r\n                    source={source}\r\n                    parentType={LayerType.LIGHTING}\r\n                />\r\n            );\r\n        }\r\n        mapObject = (\r\n            <Image\r\n                key={source.key + '_image'}\r\n                x={ this.state.source.x }\r\n                y={ this.state.source.y }\r\n                onMouseDown={(e) => this.setShapeMoveNow(e, true)}\r\n                onTouchStart={(e) => this.setShapeMoveNow(e, true)}\r\n                onMouseUp={(e) => this.setShapeMoveNow(e, false)}\r\n                onTouchEnd={(e) => this.setShapeMoveNow(e, false)}\r\n                onDblTap={() => this.setState({isDelete: !this.state.isDelete})}\r\n                onDblClick={() => this.setState({isDelete: !this.state.isDelete})}\r\n                width={ this.state.source.width ? this.state.source.width : 35 }\r\n                height={ this.state.source.height ? this.state.source.height : 35 }\r\n                image={ this.state.image }\r\n            />\r\n        );\r\n        return [mapObject, deleteCircle];\r\n    }\r\n\r\n}","import React from 'react';\r\nimport ITextProps from \"../Models/Components/Text/ITextProps\";\r\nimport ITextState from \"../Models/Components/Text/ITextState\";\r\nimport * as Konva from 'react-konva';\r\n\r\nexport default class Text extends React.Component<ITextProps, ITextState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { source } = this.state;\r\n        return (\r\n            <Konva.Text\r\n                x={source.x}\r\n                y={source.y}\r\n                text={source.text}\r\n                fontFamily={'Calibri'}\r\n                fontSize={source.fontSize}\r\n            />\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {IDefectBrowsePanelProps} from \"../../../Models/Components/DefectBrowsePanel/IDefectBrowsePanelProps\";\r\nimport IDefectBrowsePanelState from \"../../../Models/Components/DefectBrowsePanel/IDefectBrowsePanelState\";\r\nimport '../../../Css/DefectBrowsePanel.css';\r\nimport Emit from \"../../../Data/Emit\";\r\nimport DefectColors from \"../../../Models/Enums/Colors/DefectColors\";\r\nimport Images from \"../../../Data/Images\";\r\n\r\nexport default class DefectBrowsePanel extends React.Component<IDefectBrowsePanelProps, IDefectBrowsePanelState> {\r\n    constructor(props) {\r\n        super(props);\r\n        let width = window.innerWidth;\r\n\r\n        let selected: number = 0;\r\n        this.props.parentSource.viks.forEach((el, i) => {\r\n            if (JSON.stringify(el) === JSON.stringify(this.props.source)) selected = i;\r\n        });\r\n\r\n        this.state = {\r\n            selectedPage: selected,\r\n            parentSource: this.props.parentSource,\r\n            source: this.props.source,\r\n            panelWidthPer: '0',\r\n            fullWidthPx: width,\r\n            isResize: false,\r\n            isPhotoWatcher: false,\r\n            selectedPhoto: this.props.source!.defectPhotos[0]\r\n        };\r\n\r\n\r\n\r\n    }\r\n\r\n    public getCurrentDate(date: Date): string {\r\n        return date.getDate() + '.' + date.getMonth()+1 + '.' + date.getFullYear();\r\n    }\r\n\r\n    public get colorTitle(): { title: string, color: string } {\r\n        const { source } = this.state;\r\n        if (source!.color === DefectColors.GREEN) return { title: 'зелёный', color: 'black' };\r\n        if (source!.color === DefectColors.YELLOW) return { title: 'жёлтый', color: 'white' };\r\n        if (source!.color === DefectColors.RED) return { title: 'красный', color: 'white' };\r\n        return { title: '', color: '' };\r\n    }\r\n\r\n    public closePanel() {\r\n        Emit.Emitter.emit('defectBrowsePanelWorkerHandle', false);\r\n    }\r\n\r\n    render() {\r\n        const { source, parentSource } = this.state;\r\n\r\n        let pagerPages: Array<JSX.Element> = [];\r\n        let pageNum = 1;\r\n        parentSource.viks.forEach((el, i) => {\r\n            if (source!.place === el.place) {\r\n                pagerPages.push(\r\n                    <div\r\n                        style={{\r\n                            color: this.state.selectedPage === i ? '#5933ff' : '#6B737C',\r\n                            cursor: 'pointer'\r\n                        }}\r\n                        onClick={() => this.setState({ source: this.state.parentSource.viks[i], selectedPage: i })}\r\n                        key={'pageNumTitle_' + pageNum}>\r\n                        {pageNum}\r\n                    </div>\r\n                );\r\n                pageNum++;\r\n            }\r\n        });\r\n\r\n        let pager;\r\n        if (pagerPages.length !== 1) {\r\n            pager = (\r\n                <div className={'pager'}>\r\n                    {pagerPages}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let wrapper = (\r\n            <div className={'wrapper'}>\r\n                <div style={{ marginLeft: \"-\" + this.state.panelWidthPer + \"px\" }} className={'panel'}>\r\n                    <div className={'header'}>\r\n                        <div>\r\n                            <div><img onClick={() => { this.closePanel() }} src={Images.closeShape} alt=\"\"/></div>\r\n                            <div>Повреждение</div>\r\n                        </div>\r\n                        <div>\r\n                            Всего: {pageNum-1}\r\n                        </div>\r\n                        <div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className={'content'}>\r\n                        <div>\r\n                            <div className={'info-text info-title'}>Ряд</div>\r\n                            <div className={'info-text info-value'}>{source!.row}</div>\r\n                        </div>\r\n                        <div>\r\n                            <div className={'info-text info-title'}>Место</div>\r\n                            <div className={'info-text info-value'}>{source!.place}</div>\r\n                        </div>\r\n                        <div>\r\n                            <div className={'info-text info-title'}>Уровень</div>\r\n                            <div className={'info-text info-value'}>{source!.level}</div>\r\n                        </div>\r\n                        <div className={'columned'}>\r\n                            <div className={'info-text info-title'}>Элемент</div>\r\n                            <div className={'info-text info-value'}>{source!.elementName}</div>\r\n                        </div>\r\n                        <div className={'columned'}>\r\n                            <div className={'info-text info-title'}>Размер</div>\r\n                            <div className={'info-text info-value'}>{source!.elementSize}</div>\r\n                        </div>\r\n                        <div className={'columned'}>\r\n                            <div className={'info-text info-title'}>Уровень риска</div>\r\n                            <div style={{ background: source!.color, color: this.colorTitle.color }} className={'circle circle-text'}>{this.colorTitle.title}</div>\r\n                        </div>\r\n                        <div className={'columned'}>\r\n                            <div className={'info-text info-title'}>Тип дефекта</div>\r\n                            <div className={'info-text info-value'}>{source!.defectType}</div>\r\n                        </div>\r\n                        <div className={'columned'}>\r\n                            <div className={'info-text info-title'}>Производитель</div>\r\n                            <div className={'info-text info-value'}>{source!.elementManufacturer}</div>\r\n                        </div>\r\n                        <div className={'columned'}>\r\n                            <div className={'info-text info-title'}>Дата обнаружения</div>\r\n                            <div className={'info-text info-value'}>{source!.defectDate.split(' ')[0]}</div>\r\n                        </div>\r\n                        <div className={'columned'}>\r\n                            <div className={'info-text info-title'}>Элемент заменен</div>\r\n                            <div className={'info-text info-value'}>\r\n                                {source!.isRepaired ? 'Да' : 'Нет'}\r\n                            </div>\r\n                        </div>\r\n                        <div className={'columned'}>\r\n                            <div className={'info-text info-title'}>Дата замены</div>\r\n                            <div className={'info-text info-value'}>{source!.repairDate.split(' ')[0]}</div>\r\n                        </div>\r\n                        <div className={'columned'}>\r\n                            <div className={'info-text info-title'}>Остаток комплектующих для замены</div>\r\n                            <div className={'info-text info-value'}>{source!.detailsCount}</div>\r\n                        </div>\r\n                        <div className={'columned comment-block'}>\r\n                            <div style={{ width: '95%' }} className={'info-text info-title'}>Комментарий</div>\r\n                            <div style={{ width: '95%' }} className={'info-text info-value'}>{source!.comment}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={'content-second'}>\r\n                        <div>\r\n                            <div>\r\n                                <div className={'info-text info-title'}>Повреждение до ремонта</div>\r\n                                <div>\r\n                                    <div\r\n                                        onClick={() => this.setState({isPhotoWatcher: true, selectedPhoto: 0})}\r\n                                        style={{ backgroundImage: 'url('+ (this.state.source!.defectPhotos[0] !== undefined ? \"data:image/png;base64,\" + this.state.source!.defectPhotos[0] : '') +')' }}></div>\r\n                                    <div\r\n                                        onClick={() => this.setState({isPhotoWatcher: true, selectedPhoto: 1})}\r\n                                        style={{ backgroundImage: 'url('+ (this.state.source!.defectPhotos[1] !== undefined ? \"data:image/png;base64,\" + this.state.source!.defectPhotos[1] : '') +')' }}></div>\r\n                                    <div\r\n                                        onClick={() => this.setState({isPhotoWatcher: true, selectedPhoto: 2})}\r\n                                        style={{ backgroundImage: 'url('+ (this.state.source!.defectPhotos[2] !== undefined ? \"data:image/png;base64,\" + this.state.source!.defectPhotos[2] : '') +')' }}></div>\r\n                                    <div\r\n                                        onClick={() => this.setState({isPhotoWatcher: true, selectedPhoto: 3})}\r\n                                        style={{ backgroundImage: 'url('+ (this.state.source!.defectPhotos[3] !== undefined ? \"data:image/png;base64,\" + this.state.source!.defectPhotos[3] : '') +')' }}></div>\r\n                                    <div\r\n                                        onClick={() => this.setState({isPhotoWatcher: true, selectedPhoto: 4})}\r\n                                        style={{ backgroundImage: 'url('+ (this.state.source!.defectPhotos[4] !== undefined ? \"data:image/png;base64,\" + this.state.source!.defectPhotos[4] : '') +')' }}></div>\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <div className={'info-text info-title'}>Повреждение после ремонта</div>\r\n                                <div>\r\n                                    <div\r\n                                        onClick={() => this.setState({isPhotoWatcher: true, selectedPhoto: 0})}\r\n                                        style={{ backgroundImage: 'url('+ (this.state.source!.repairsPhotos[0] !== undefined ? \"data:image/png;base64,\" + this.state.source!.repairsPhotos[0] : '') +')' }}></div>\r\n                                    <div\r\n                                        onClick={() => this.setState({isPhotoWatcher: true, selectedPhoto: 1})}\r\n                                        style={{ backgroundImage: 'url('+ (this.state.source!.repairsPhotos[1] !== undefined ? \"data:image/png;base64,\" + this.state.source!.repairsPhotos[1] : '') +')' }}></div>\r\n                                    <div\r\n                                        onClick={() => this.setState({isPhotoWatcher: true, selectedPhoto: 2})}\r\n                                        style={{ backgroundImage: 'url('+ (this.state.source!.repairsPhotos[2] !== undefined ? \"data:image/png;base64,\" + this.state.source!.repairsPhotos[2] : '') +')' }}></div>\r\n                                    <div\r\n                                        onClick={() => this.setState({isPhotoWatcher: true, selectedPhoto: 3})}\r\n                                        style={{ backgroundImage: 'url('+ (this.state.source!.repairsPhotos[3] !== undefined ? \"data:image/png;base64,\" + this.state.source!.repairsPhotos[3] : '') +')' }}></div>\r\n                                    <div\r\n                                        onClick={() => this.setState({isPhotoWatcher: true, selectedPhoto: 4})}\r\n                                        style={{ backgroundImage: 'url('+ (this.state.source!.repairsPhotos[4] !== undefined ? \"data:image/png;base64,\" + this.state.source!.repairsPhotos[4] : '') +')' }}></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {pager}\r\n                    <div className={'footer'}>\r\n                        <div className={'footer-left label'}>\r\n                            <div>Добавить повреждение</div>\r\n                        </div>\r\n                        <div className={'footer-right'}>\r\n                            <div className={'button button-label'}>\r\n                                <button className={'button-label'}>Заменить поврежденный элемент</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div onClick={() => { this.closePanel() }} className={'close-block'}></div>\r\n            </div>\r\n        );\r\n\r\n        let photoWatcher;\r\n        if (this.state.isPhotoWatcher) {\r\n            photoWatcher = [\r\n                <div className={'photo-watcher'} onClick={() => this.setState({isPhotoWatcher: false})}>\r\n\r\n                </div>,\r\n                <div\r\n                    style={{ opacity: 1,  }}\r\n                    onClick={() => this.setState({isPhotoWatcher: false})}\r\n                    className={'photo-watcher-photo'}>\r\n                    <img src={(this.state.source!.defectPhotos[0] !== undefined ? \"data:image/png;base64,\" + this.state.source!.defectPhotos[this.state.selectedPhoto] : '')} />\r\n                </div>\r\n            ];\r\n        }\r\n\r\n        return [wrapper, photoWatcher];\r\n    }\r\n}","import WallItem from \"../Models/ArrayItems/WallIem\";\r\nimport MapSourceUnit from \"../Models/MapSourceUnit\";\r\nimport Orientation from \"../Models/Enums/Orientation\";\r\nimport AppState from \"../Data/AppState\";\r\nimport MapSourceLayer from \"../Models/MapSourceLayer\";\r\nimport {NodeWorker} from \"inspector\";\r\nimport bs from 'js-binary-search';\r\nimport sort from 'fast-sort';\r\n\r\nexport default class WallService {\r\n    public getWallSourceItem(selectedLayer: MapSourceLayer,\r\n                              startX: number,\r\n                              startY: number,\r\n                              length: number,\r\n                              orientation: Orientation\r\n    ): WallItem {\r\n        let newWall;\r\n        let _id = 0; let _key = '';\r\n        sort(selectedLayer.walls!).asc(e => e.id);\r\n        if (selectedLayer.walls!.length !== 0) {\r\n            _id = selectedLayer.walls![selectedLayer.walls!.length - 1].id;\r\n        }\r\n        _id++;\r\n        _key = selectedLayer.key + '_wall_' + _id.toString();\r\n\r\n        newWall = {\r\n            id: _id,\r\n            key: 'wall_for_move_' + _key,\r\n            startX: startX,\r\n            startY: startY,\r\n            length: length,\r\n            // orientation: AppState.State.selectedEl.orientation\r\n            orientation: orientation\r\n        };\r\n\r\n\r\n        return newWall;\r\n    }\r\n\r\n    public setSourceWallParams(wall: WallItem, cursorCoords, upDownCoords, stageDeviation) {\r\n        if (wall.orientation === Orientation.HORIZONTAL) {\r\n            wall.length = Math.abs(cursorCoords.startX - cursorCoords.x) + 25;\r\n        } else {\r\n            wall.length = Math.abs(cursorCoords.startY - cursorCoords.y) + 25;\r\n        }\r\n\r\n        if (wall.orientation === Orientation.HORIZONTAL) {\r\n\r\n            if (upDownCoords.down.x <= upDownCoords.up.x) {\r\n                if (upDownCoords.down.x < upDownCoords.up.x) {\r\n                    wall.startX = upDownCoords.down.x - stageDeviation.x;\r\n                }\r\n            } else {\r\n                wall.startX = upDownCoords.up.x - stageDeviation.x;\r\n            }\r\n\r\n        } else {\r\n\r\n            if (upDownCoords.down.y <= upDownCoords.up.y) {\r\n                if (upDownCoords.down.y < upDownCoords.up.y) {\r\n                    wall.startY = upDownCoords.down.y - stageDeviation.y;\r\n                }\r\n            } else {\r\n                wall.startY = upDownCoords.up.y - stageDeviation.y;\r\n            }\r\n\r\n        }\r\n        return wall;\r\n    }\r\n\r\n    public getWallIndexByID(list: Array<WallItem>, id) {\r\n        return bs.search_in_associative(list, 'id', id);\r\n    }\r\n\r\n    public resizeWall(e, _wall: WallItem, isStart: boolean, moveStageParams): WallItem {\r\n        if (_wall.orientation === Orientation.HORIZONTAL) {\r\n            if (isStart) {\r\n                if (e.clientX > _wall.startX) {\r\n                    _wall.length -= (e.clientX - moveStageParams.x) - _wall.startX;\r\n                    _wall.startX = e.clientX - moveStageParams.x;\r\n                } else {\r\n                    _wall.length += Math.abs((e.clientX - moveStageParams.x) - _wall.startX);\r\n                    _wall.startX = e.clientX - moveStageParams.x;\r\n                }\r\n            } else {\r\n                _wall.length += (e.clientX - moveStageParams.x) - (_wall.startX + _wall.length);\r\n            }\r\n        } else if (_wall.orientation === Orientation.VERTICAL) {\r\n            if (isStart) {\r\n                if (e.clientY > _wall.startY) {\r\n                    _wall.length -= (e.clientY - moveStageParams.y) - _wall.startY;\r\n                    _wall.startY = e.clientY - moveStageParams.y;\r\n                } else {\r\n                    _wall.length += Math.abs((e.clientY - moveStageParams.y) - _wall.startY);\r\n                    _wall.startY = e.clientY - moveStageParams.y;\r\n                }\r\n            } else {\r\n                _wall.length += (e.clientY - moveStageParams.y) - (_wall.startY + _wall.length);\r\n            }\r\n        }\r\n        return _wall;\r\n    }\r\n\r\n}","import sort from 'fast-sort';\r\nimport bs from 'js-binary-search';\r\n\r\nimport MapSourceLayer from \"../Models/MapSourceLayer\";\r\nimport StillageItem from \"../Models/ArrayItems/StillageItem\";\r\nimport ObjectItem from \"../Models/ArrayItems/ObjectItem\";\r\n\r\nexport default class ObjectService {\r\n    public getObjectSourceItem(selectedLayer: MapSourceLayer, coords: { x: number, y: number }, photo: any) {\r\n        let _id = 0; let _key = '';\r\n        sort(selectedLayer.objects!).asc(e => e.id);\r\n        if (selectedLayer.objects!.length !== 0) {\r\n            _id = selectedLayer.objects![selectedLayer.objects!.length - 1].id;\r\n        }\r\n        _id++;\r\n        _key = selectedLayer.key + '_object_' + _id.toString();\r\n        return {\r\n            id: _id,\r\n            key: _key,\r\n            x: coords.x,\r\n            y: coords.y,\r\n            photo: photo,\r\n        }\r\n    }\r\n\r\n    public searchByID(shapesList: Array<ObjectItem>, id: number) {\r\n        return bs.search_in_associative(shapesList, 'id', id);\r\n    }\r\n}","import sort from 'fast-sort';\r\nimport bs from 'js-binary-search';\r\n\r\nimport StillageSizeReducer from \"../Models/Enums/StillageSize/StillageSizeReducer\";\r\nimport MapSourceLayer from \"../Models/MapSourceLayer\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport MapIconsType from \"../Models/Enums/MapIconsType\";\r\nimport MapSourceUnit from \"../Models/MapSourceUnit\";\r\nimport LayerIndexByType from \"../Models/LayerIndexByType\";\r\nimport WallItem from \"../Models/ArrayItems/WallIem\";\r\nimport Orientation from \"../Models/Enums/Orientation\";\r\nimport SignaturePosition from \"../Models/Enums/SignaturePosition\";\r\nimport ElementItem from \"../Models/ArrayItems/ElementItem\";\r\nimport StillageService from \"./StillageService\";\r\n\r\nexport default class LayerService {\r\n\r\n    private stillageSizeReducer!: StillageSizeReducer;\r\n    private stillageService!: StillageService;\r\n\r\n    constructor() {\r\n        this.stillageSizeReducer = new StillageSizeReducer();\r\n        this.stillageService = new StillageService();\r\n    }\r\n\r\n    public getLayerSourceItem(selectedUnit: MapSourceUnit, type: LayerType) {\r\n        let _id = 0; let _key = '';\r\n        sort(selectedUnit.layers).asc(e => e.id); // сортируем массив слоев для долнейшего поиска\r\n        if (selectedUnit.layers.length !== 0) { // если в массиве что-то есть, то берем последний элемент, так как он максимальный по id\r\n            _id = selectedUnit.layers[selectedUnit.layers.length - 1].id; // берем последний элемент, чтобы узнать следующее уникальное значение id\r\n        }\r\n        _id++; // прибавляем 1 к максимальному id\r\n        _key = selectedUnit.key + '_layer_' + _id.toString(); // формируем уникальный key для вывода в цикле\r\n        return { // возвращаем готовый слой\r\n            id: _id,\r\n            key: _key,\r\n            title:  this.getLayerNameByType(type),\r\n            type: type,\r\n            mapIconsType: this.getMapIconsTypeByLayerType(type),\r\n            walls: [],\r\n            stillages: [],\r\n            objects: [],\r\n        }\r\n    }\r\n\r\n    // функция получения индекса слоя по его типу\r\n    public getLayerIndexByTypeBinary(list: Array<MapSourceLayer>, type: LayerType) {\r\n        let start = 0; let end = list.length - 1;\r\n        // убрать сортировку, сортировать все сразу на бекенде\r\n        list.sort((a, b) => {\r\n            if (a.type > b.type) {\r\n                return 1;\r\n            }\r\n            if (a.type < b.type) {\r\n                return -1;\r\n            }\r\n            // a должно быть равным b\r\n            return 0;\r\n        });\r\n        // хз зачем писать бинарный поиск вручную. Сам поиск индекса)\r\n        while (start <= end) {\r\n            let mid = Math.floor((start + end)/2);\r\n            if (list[mid].type === type) {\r\n                return mid;\r\n            } else if (list[mid].type < type) {\r\n                start = mid + 1;\r\n            } else {\r\n                end = mid - 1;\r\n            }\r\n        }\r\n        return -1; // если не нашли, возвращаем -1\r\n    }\r\n\r\n    // функция получения имени слоя по его типу\r\n    private getLayerNameByType(type: LayerType): string {\r\n        switch (type) {\r\n            case LayerType.STILLAGES: return 'Стеллажи';\r\n            case LayerType.WALLS: return 'Стены';\r\n            case LayerType.LIGHTING: return 'Освещение';\r\n            case LayerType.SIGNATURES: return 'Подписи';\r\n            case LayerType.ABSTRACTS: return 'Абстракции';\r\n            default: return '';\r\n        }\r\n    }\r\n\r\n    // функция получения метода отрисовки по типу фигуры\r\n    private getMapIconsTypeByLayerType(type: LayerType): MapIconsType {\r\n        switch (type) {\r\n            case LayerType.STILLAGES: return MapIconsType.DRAWING;\r\n            case LayerType.WALLS: return MapIconsType.DRAWING;\r\n            case LayerType.LIGHTING: return MapIconsType.IMAGE;\r\n            case LayerType.SIGNATURES: return MapIconsType.DRAWING;\r\n            case LayerType.ABSTRACTS: return MapIconsType.IMAGE;\r\n            case LayerType.TEXT: return MapIconsType.DRAWING;\r\n        }\r\n    }\r\n\r\n    // функция получения объекта, в котором будет информация о том,\r\n    // есть ли слой в выбранных слоях и создан ли вообще данный слой,\r\n    // по типу слоя\r\n    public getLayerIndex(selectedLayers: Array<number>, layersList: Array<MapSourceLayer>, type: LayerType): LayerIndexByType{\r\n        let returnState = {\r\n            selected: {\r\n                is: false,\r\n                index: -1,\r\n            },\r\n            created: {\r\n                is: false,\r\n                index: -1,\r\n            }\r\n        };\r\n        let object = bs.search_in_associative(layersList, 'type', type);\r\n        returnState.created.index = object.index;\r\n        object = object.item;\r\n\r\n        if (returnState.created.index !== -1) {\r\n            returnState.created.is = true;\r\n            returnState.selected.index = bs.search(selectedLayers, returnState.created.index).index;\r\n            if (returnState.selected.index !== -1 && returnState.selected.index !== undefined) {\r\n                returnState.selected.is = true;\r\n            } else {\r\n                returnState.selected.is = false;\r\n                returnState.selected.index = -1;\r\n            }\r\n        }\r\n        return returnState;\r\n    }\r\n\r\n    // удаление промежуточныйх стен. Вроде не нужно\r\n    public deleteBadWalls(list: Array<WallItem>): Array<WallItem> {\r\n        let count = 0;\r\n        let badEls: WallItem[] = [];\r\n\r\n        for (let k = 0; k < list.length; k++) {\r\n            if (list[k].key.includes('wall_for_move')) {\r\n                badEls.push(list[k]);\r\n                count++;\r\n            }\r\n        }\r\n\r\n        if (badEls.length !== 0) {\r\n            for (let k = 0; k < badEls.length; k++) {\r\n                let index = list.indexOf(badEls[k]);\r\n                list.splice(index, 1);\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    // проверка на наложение элементов при добалении. Если есть, то true\r\n    public hasUnderChild(layersList: Array<MapSourceLayer>, type: LayerType, x: number, y: number, selected: ElementItem): boolean {\r\n        let object = bs.search_in_associative(layersList, 'type', LayerType.STILLAGES); // поиск нужного слоя по типу\r\n        let layer = layersList[object.index]; // сохранение слоя в отдельную переменную для удобства обращения\r\n        if (type === LayerType.STILLAGES) {\r\n            let selectedStillageToAdd = this.stillageService.getStillageSourceItem(layer, { x, y }, selected.stillageType!); // получение информации о добавляемом стеллаже\r\n            const newSWidth = selectedStillageToAdd.width; // ширина добавляемого стеллажа\r\n            const newSHeight = selectedStillageToAdd.height; // высота добавляемого стеллажа\r\n            const newSStartX = selectedStillageToAdd.x; // начальная координата стеллажа по x\r\n            const newSStartY = selectedStillageToAdd.y; // начальная координата стеллажа по y\r\n            const newSEndX = newSStartX + selectedStillageToAdd.width; // конечная координата стеллажа по x\r\n            const newSEndY = newSStartY + selectedStillageToAdd.height; // конечная координата стеллажа по y\r\n\r\n\r\n            // проверка на наложение стеллажей на стеллажи\r\n            let stillagesList = layer.stillages!; // сохранение массива стеллажей в отдельную переменную для удобства обращения\r\n            for (let i = 0; i < stillagesList.length; i++) { // цикл для проверки наложения стеллажей на стеллажи\r\n                const el = stillagesList[i];\r\n                    if (el.orientation === Orientation.HORIZONTAL) {\r\n                        if (el.signature!.position === SignaturePosition.TOP) {\r\n                            if (((x >= (el.x - newSWidth)) && (x <= (el.x + el.width!))) && ((y >= (el.y - newSHeight! - 24.5)) && (y <= (el.y + el.height!)))) {\r\n                                return true;\r\n                            }\r\n                        } else if (el.signature!.position === SignaturePosition.BOTTOM) {\r\n                            if (((x >= (el.x - newSWidth!)) && (x <= (el.x + el.width!))) && ((y >= (el.y - newSHeight!)) && (y <= (el.y + el.height!)))) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (el.signature!.position === SignaturePosition.LEFT) {\r\n                            if (((x >= (el.x - 24.5)) && (x <= (el.x + el.width!))) && ((y >= el.y) && (y <= (el.y + el.height!)))) {\r\n                                return true;\r\n                            }\r\n                        } else if (el.signature!.position === SignaturePosition.RIGHT) {\r\n                            if (((x >= el.x) && (x <= (el.x + el.width!))) && ((y >= el.y) && (y <= (el.y + el.height!)))) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n            }\r\n            // проверка на наложение стеллажей на стены\r\n            object = bs.search_in_associative(layersList, 'type', LayerType.WALLS);\r\n            let walls = layersList[object.index].walls!;\r\n            let elStartX, elStartY, elEndX, elEndY = 0;\r\n            for (let i = 0; i < walls.length; i++) {\r\n                const el = walls[i];\r\n                    elStartX = el.startX;\r\n                    elStartY = el.startY;\r\n                    if (el.orientation === Orientation.HORIZONTAL) {\r\n                        elEndX = elStartX + el.length;\r\n                        elEndY = elStartY + 10;\r\n                    } else {\r\n                        elEndX = elStartX + 10;\r\n                        elEndY = elStartY + el.length;\r\n                    }\r\n\r\n                    if ((newSStartX > (elStartX - newSWidth) && newSStartX < elEndX) && (newSStartY > (elStartY - newSHeight) && newSStartY < elEndY)) {\r\n                        return true;\r\n                    }\r\n            }\r\n        } else if (type === LayerType.WALLS) {\r\n            // проверка наложения стен на что-либо\r\n        } else if (type === LayerType.ABSTRACTS) {\r\n            // проверка наложения абстракных фигур на что-либо\r\n            return true;\r\n        }\r\n\r\n        // sort(stillagesList).asc([\r\n        //     e => e.x,\r\n        //     e => e.y\r\n        // ]);\r\n\r\n\r\n\r\n        return false;\r\n    }\r\n\r\n}","import A100ConnectionDataType from \"../model/A100ConnectionDataType\";\r\n\r\nexport default class A100ConnectionData {\r\n    public static data: A100ConnectionDataType = {\r\n        resoultID: NaN,\r\n    };\r\n}","export default class BaseUrl {\r\n    // public static url: string = 'https://localhost:5001/';\r\n    // public static url: string = 'http://localhost:65233/';\r\n    public static url: string = 'https://a100.technovik.ru:1000/';\r\n}","import A100ConnectionDataType from \"../model/A100ConnectionDataType\";\r\nimport MapSourceUnit from \"../../MapCore/Models/MapSourceUnit\";\r\nimport BaseUrl from \"../data/BaseUrl\";\r\nimport LogHandler from \"../../LogHandler/LogHandler\";\r\nimport LogType from \"../model/enums/LogType\";\r\nimport MapSource from \"../data/MapSource\";\r\n\r\nexport default class MapAPI {\r\n    public async getMap(connectionData: A100ConnectionDataType): Promise<Array<MapSourceUnit>> {\r\n        let url = BaseUrl.url + 'api/mapengine/map?resoultID=' + connectionData.resoultID;\r\n        return new Promise((resolve => {\r\n            fetch(url, {\r\n                method: 'GET',\r\n            }).then((response) => response.json()).then((body) => {\r\n                resolve(body);\r\n            }).catch(() => {\r\n                setTimeout(() => MapSource.GetMap(), 2000);\r\n            })\r\n        }));\r\n    }\r\n}","import LayerType from '../../MapCore/Models/Enums/LayerType';\r\nimport MapSourceUnit from '../../MapCore/Models/MapSourceUnit';\r\nimport A100ConnectionData from \"./A100ConnectionData\";\r\nimport MapAPI from \"../api/MapAPI\";\r\nimport Emit from \"../../MapCore/Data/Emit\";\r\nimport MapIconsType from \"../../MapCore/Models/Enums/MapIconsType\";\r\n\r\nexport default class MapSource {\r\n\r\n    public static async GetMap() {\r\n        let _t: Array<MapSourceUnit> = [];\r\n        let that = this;\r\n        let mapAPI = new MapAPI();\r\n        this.data = await mapAPI.getMap(A100ConnectionData.data);\r\n        // console.log(this.data);\r\n\r\n        if (this.data[\"status\"] !== undefined) {\r\n            this.data = [\r\n                {\r\n                    id: 0,\r\n                    key: 'unit_0',\r\n                    title: 'Блок 1',\r\n                    layers: []\r\n                },\r\n                {\r\n                    id: 1,\r\n                    key: 'unit_1',\r\n                    title: 'Блок 2',\r\n                    layers: []\r\n                },\r\n                {\r\n                    id: 2,\r\n                    key: 'unit_2',\r\n                    title: 'Блок 3',\r\n                    layers: []\r\n                },\r\n            ];\r\n        }\r\n\r\n        let nullableUnits: Array<number> = [];\r\n        setTimeout(function () {\r\n            // empty blocks deleting\r\n            // for (let k = 0; k < MapSource.data.length; k++) {\r\n            //     if (MapSource.data[k].layers === null || MapSource.data[k].layers === undefined) {\r\n            //         nullableUnits.push(k);\r\n            //     }\r\n            // }\r\n            // nullableUnits.forEach((el) => {\r\n            //     MapSource.data.splice(el, 1);\r\n            // });\r\n            Emit.Emitter.emit('mapSetState');\r\n        }, 1000);\r\n    }\r\n\r\n    public static data: Array<MapSourceUnit> = [\r\n        {\r\n            id: 0,\r\n            key: 'unit_0',\r\n            title: 'Блок 1',\r\n            layers: []\r\n        },\r\n        {\r\n            id: 1,\r\n            key: 'unit_1',\r\n            title: 'Блок 2',\r\n            layers: []\r\n        },\r\n        {\r\n            id: 2,\r\n            key: 'unit_2',\r\n            title: 'Блок 3',\r\n            layers: []\r\n        },\r\n    ];\r\n}\r\n\r\n","enum LogType {\r\n    LOG = 'LOG',\r\n    ERROR = 'ERROR'\r\n}\r\n\r\nexport default LogType;","import React from 'react';\r\nimport {Layer, Stage} from 'react-konva';\r\n\r\nimport IMapProps from './Models/Components/Map/IMapProps';\r\nimport IMapState from './Models/Components/Map/IMapState';\r\nimport Stillage from './Components/Stillage';\r\nimport LayerType from './Models/Enums/LayerType';\r\nimport Wall from './Components/Wall';\r\nimport AppState from './Data/AppState';\r\nimport Orientation from \"./Models/Enums/Orientation\";\r\nimport Emit from \"./Data/Emit\";\r\nimport ElementsPanel from \"./Components/Page/Panels/ElementsPanel\";\r\nimport ElementSource from \"./Data/ElementsSource\";\r\nimport StillageService from \"./Services/StillageService\";\r\nimport ElementItem from \"./Models/ArrayItems/ElementItem\";\r\nimport MapObject from \"./Components/MapObject\";\r\nimport Text from \"./Components/Text\";\r\nimport WallItem from \"./Models/ArrayItems/WallIem\";\r\nimport DefectBrowsePanel from \"./Components/Page/Panels/DefectBrowsePanel\";\r\nimport MapSourceLayer from \"./Models/MapSourceLayer\";\r\nimport MapIconsType from \"./Models/Enums/MapIconsType\";\r\nimport sort from 'fast-sort';\r\n\r\nimport './Css/Map.css';\r\nimport './Css/LayerPanel.css';\r\nimport WallService from \"./Services/WallService\";\r\nimport ObjectService from \"./Services/ObjectService\";\r\nimport LayerService from \"./Services/LayerService\";\r\nimport Vectors from \"./Models/Enums/Vectors\";\r\nimport StillageItem from \"./Models/ArrayItems/StillageItem\";\r\nimport Position from \"./Models/Enums/Position\";\r\nimport StillageSize from \"./Models/Enums/StillageSize/StillageSize\";\r\nimport MapSource from \"../A100/data/MapSource\";\r\nimport VikItem from \"./Models/ArrayItems/VikItem\";\r\n\r\n\r\nexport default class Map extends React.PureComponent<IMapProps, IMapState> {\r\n\r\n  public stillageService!: StillageService;\r\n  public objectService!: ObjectService;\r\n  public layerService!: LayerService;\r\n  public wallService!: WallService;\r\n\r\n  public animates: Array<any> = [];\r\n\r\n  constructor(props: IMapProps) {\r\n    super(props);\r\n\r\n    this.stillageService = new StillageService();\r\n    this.objectService = new ObjectService();\r\n    this.layerService = new LayerService();\r\n    this.wallService = new WallService();\r\n\r\n\r\n\r\n    this.state = {\r\n      stageScales: {\r\n        x: 1,\r\n        y: 1\r\n      },\r\n      lazyLoading: true,\r\n      parentKey: this.props.parentKey,\r\n\r\n      isAddCircleAdding: false,\r\n      isToggledToAdd: false,\r\n      lastAddedItemType: undefined,\r\n      lastAddedItem: undefined,\r\n      isShapeMoveEnable: false,\r\n      isShapeMovingNow: false,\r\n      selectedShapeForMove: {},\r\n\r\n      isWallUnderChild: false,\r\n      wallLayerIndex: -1,\r\n      wallIndex: -1,\r\n      selectedUnit: 0,\r\n      selectedLayer: -1,\r\n      stageScale: 1,\r\n      stageX: 0,\r\n      stageY: 0,\r\n      isMouseDown: false,\r\n      source: this.props.source,\r\n      isOnlyRed: true,\r\n      cursorCoords: {\r\n        startX: 0,\r\n        startY: 0,\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      isDrawing: false,\r\n      cncFlag: false,\r\n      isDefectBrowsePanel: false,\r\n      layersSelected: [],\r\n      isAddLayerModal: false,\r\n      moveStageParams: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      upDownCoords: {\r\n        up: {\r\n          x: 0,\r\n          y: 0,\r\n        },\r\n        down: {\r\n          x: 0,\r\n          y: 0,\r\n        }\r\n      },\r\n\r\n      // resizing\r\n      isIncreaseResizingLength: false,\r\n      resizingWallIndex: 0,\r\n      isStart: false,\r\n      isWallResizingNow: false,\r\n      selectedWallToResize: undefined,\r\n      resizeCursorCoordinates: {\r\n        startX: 0, startY: 0,\r\n        actionEndX: 0, actionEndY: 0,\r\n      }\r\n    };\r\n\r\n    this.filtersOnChangeAction = this.filtersOnChangeAction.bind(this);\r\n    this.ElementOnDrop = this.ElementOnDrop.bind(this);\r\n    this.MapWrapperOnMouseMove = this.MapWrapperOnMouseMove.bind(this);\r\n    this.deleteWall = this.deleteWall.bind(this);\r\n    this.cncFlagChange = this.cncFlagChange.bind(this);\r\n    this.addElement = this.addElement.bind(this);\r\n    this.selectLayerToList = this.selectLayerToList.bind(this);\r\n    this.StageOnMouseDownHandler = this.StageOnMouseDownHandler.bind(this);\r\n    this.StageOnMouseUpHandler = this.StageOnMouseUpHandler.bind(this);\r\n    this.StageOnMouseMoveHandler = this.StageOnMouseMoveHandler.bind(this);\r\n    this.defectBrowsePanelWorker = this.defectBrowsePanelWorker.bind(this);\r\n    this.addLayerModalWorker = this.addLayerModalWorker.bind(this);\r\n    this.stageDragEnd = this.stageDragEnd.bind(this);\r\n    this.wallLabelButtonInteractionWayUp = this.wallLabelButtonInteractionWayUp.bind(this);\r\n    this.wallLabelButtonInteractionWayDown = this.wallLabelButtonInteractionWayDown.bind(this);\r\n    this.setIsShapeMoveEnable = this.setIsShapeMoveEnable.bind(this);\r\n    this.moveShapeByStep = this.moveShapeByStep.bind(this);\r\n    this.setIsShapeMovingNow = this.setIsShapeMovingNow.bind(this);\r\n    this.mapShapeClick = this.mapShapeClick.bind(this);\r\n    this.deleteShape = this.deleteShape.bind(this);\r\n    this.setAddCirclesVisibility = this.setAddCirclesVisibility.bind(this);\r\n    this.addSameShape = this.addSameShape.bind(this);\r\n    this.mapSetState = this.mapSetState.bind(this);\r\n\r\n    // Событие для удаления стены\r\n    Emit.Emitter.addListener('deleteWall', this.deleteWall);\r\n    // Событие для открытия/закрытия окна просмотра повреждений\r\n    Emit.Emitter.addListener('defectBrowsePanelWorkerHandle', this.defectBrowsePanelWorker);\r\n    // Событие для изменения cncFlag\r\n    Emit.Emitter.addListener('cncFlagChange', this.cncFlagChange);\r\n    // Событие зажатия левой кноки или пальца для дорисовки стены с помощью ползунка\r\n    Emit.Emitter.addListener('wallLabelButtonInteractionWayUp', this.wallLabelButtonInteractionWayUp);\r\n    // Событие отпускания левой кноки или пальца для дорисовки стены с помощью ползунка\r\n    Emit.Emitter.addListener('wallLabelButtonInteractionWayDown', this.wallLabelButtonInteractionWayDown);\r\n    // События для переключения флага\r\n    Emit.Emitter.addListener('setIsShapeMoving', this.setIsShapeMoveEnable);\r\n    // Событие передвижения фигуры с шагом\r\n    Emit.Emitter.addListener('moveShapeByStep', this.moveShapeByStep);\r\n    //\r\n    Emit.Emitter.addListener('setIsShapeMovingNow', this.setIsShapeMovingNow);\r\n    // Событие для проверки, что было кликнуто\r\n    Emit.Emitter.addListener('mapShapeClickEmit', this.mapShapeClick);\r\n    // Событие удаления фигуры из state\r\n    Emit.Emitter.addListener('deleteShapeFromLayer', this.deleteShape);\r\n    // Событие управления кнопками добавления иден тичных фигур\r\n    Emit.Emitter.addListener('setAddCirclesVisibility', this.setAddCirclesVisibility);\r\n    // Событие для добаления идентичной фигуры при нажатии на кнопку плюса\r\n    Emit.Emitter.addListener('addSameShape', this.addSameShape);\r\n    //\r\n    Emit.Emitter.addListener('mapSetState', this.mapSetState);\r\n\r\n    Emit.Emitter.addListener('setSelectedVik', (vik: VikItem, stillage: StillageItem) => this.setState({ selectedVik: vik, selectedStillage: stillage }));\r\n  }\r\n\r\n  public animationIDs: Array<string> = ['units-block', 'filters-block', 'elements-panel', 'layers-block'];\r\n  componentDidMount(): void {\r\n    const {lazyLoading, source} = this.state;\r\n    if (lazyLoading) {\r\n      this.animationIDs.forEach(el => {\r\n        this.animates.push(document.getElementById(el)!.animate([\r\n          { opacity: '0.8' },\r\n          { opacity: '0.4' },\r\n          { opacity: '0.8' }\r\n        ], {\r\n          duration: 2000,\r\n          iterations: Infinity\r\n        }));\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Readonly<IMapProps>, prevState: Readonly<IMapState>, snapshot?: any): void {\r\n    document.getElementById('units-block')!.style.opacity = '0.8';\r\n  }\r\n\r\n  public addSameShape(type: LayerType, prevShape: any, position: Position) {\r\n    this.setState({ isAddCircleAdding: true });\r\n    const { source, selectedUnit } = this.state;\r\n    let toMin = position === Position.TOP || position === Position.LEFT;\r\n    let layerIndex;\r\n    if (type !== undefined && prevShape !== undefined) {\r\n      if (type === LayerType.STILLAGES) {\r\n        layerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, type);\r\n        let prevStillage: StillageItem = prevShape;\r\n        let nextStillage: StillageItem;\r\n        let _layer = source[selectedUnit].layers[layerIndex];\r\n        let _id = 0; let _key = '';\r\n        sort(_layer.stillages!).asc(e => e.id);\r\n        if (_layer.stillages!.length !== 0) {\r\n          _id = _layer.stillages![_layer.stillages!.length - 1].id;\r\n        }\r\n        _id++;\r\n        _key = _layer.key + '_stillage_' + _id.toString();\r\n\r\n        let places = prevStillage.placeSignatures;\r\n        if (prevStillage.size === StillageSize.NORMAL) {\r\n          if (!toMin) {\r\n            places = [\r\n              {\r\n                place: 1,\r\n                title: (parseInt(places![2].title) + 1).toString()\r\n              },\r\n              {\r\n                place: 2,\r\n                title: (parseInt(places![2].title) + 2).toString()\r\n              },\r\n              {\r\n                place: 3,\r\n                title: (parseInt(places![2].title) + 3).toString()\r\n              }\r\n            ];\r\n          } else {\r\n            if (parseInt(places![0].title) > 3) {\r\n              places = [\r\n                {\r\n                  place: 1,\r\n                  title: (parseInt(places![0].title) - 3).toString()\r\n                },\r\n                {\r\n                  place: 2,\r\n                  title: (parseInt(places![0].title) - 2).toString()\r\n                },\r\n                {\r\n                  place: 3,\r\n                  title: (parseInt(places![0].title) - 1).toString()\r\n                }\r\n              ];\r\n            } else {\r\n              places = prevStillage.placeSignatures;\r\n            }\r\n          }\r\n        }\r\n        nextStillage = {\r\n          id: _id,\r\n          key: _key,\r\n          x: prevStillage.orientation === Orientation.HORIZONTAL ? 0 : prevStillage.x,\r\n          y: prevStillage.orientation === Orientation.VERTICAL ? 0 : prevStillage.y,\r\n          orientation: prevStillage.orientation,\r\n          signature: prevStillage.signature,\r\n          size: prevStillage.size,\r\n          placeSignatures: places,\r\n          viks: [],\r\n          pmCount: -1\r\n        };\r\n\r\n        // TODO: Add small stillage checks\r\n        if (position === Position.RIGHT)\r\n          nextStillage!.x = prevStillage.x + 80;\r\n        else if (position === Position.LEFT)\r\n          nextStillage!.x = prevStillage.x - 80;\r\n        else if (position === Position.BOTTOM)\r\n          nextStillage!.y = prevStillage.y + 80;\r\n        else if (position === Position.TOP)\r\n          nextStillage!.y = prevStillage.y - 80;\r\n\r\n        source[selectedUnit].layers[layerIndex].stillages!.push(nextStillage);\r\n        // this.setAddCirclesVisibility();\r\n        console.log(nextStillage);\r\n        this.forceUpdate(() => this.setState({ source }));\r\n        // Изменение видимости кнопок плюс у добавленного стеллажа\r\n        Emit.Emitter.emit('forceSetIsAddingChange', true);\r\n      }\r\n    }\r\n  }\r\n\r\n  public setAddCirclesVisibility() {\r\n    Emit.Emitter.emit('stillageIsAddingChange');\r\n  }\r\n\r\n  public deleteShape(type: LayerType, id) {\r\n    const { source, selectedUnit } = this.state;\r\n    let layerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, type);\r\n    if (type === LayerType.STILLAGES) {\r\n      let obj = this.stillageService.stillageSearchByID(source[selectedUnit].layers[layerIndex].stillages!, id);\r\n      source[selectedUnit].layers[layerIndex].stillages!.splice(obj.index, 1);\r\n    } else if (type === LayerType.LIGHTING) {\r\n      let obj = this.objectService.searchByID(source[selectedUnit].layers[layerIndex].objects!, id);\r\n      source[selectedUnit].layers[layerIndex].objects!.splice(obj.index, 1);\r\n    } else if (type === LayerType.WALLS) {\r\n      let obj = this.wallService.getWallIndexByID(source[selectedUnit].layers[layerIndex].walls!, id);\r\n      source[selectedUnit].layers[layerIndex].walls!.splice(obj.index, 1);\r\n    }\r\n    this.forceUpdate(() => this.setState({ source }));\r\n  }\r\n\r\n  public mapShapeClick(which: number, e: any, id: number, shapeType: LayerType) {\r\n\r\n  }\r\n\r\n  // перемещение фигур с помощью стрелочек\r\n  public moveShapeByStep(shapeSource, type: LayerType, vector: Vectors) {\r\n    const { source, selectedUnit } = this.state;\r\n    const step = 1;\r\n    if (type === LayerType.STILLAGES) {\r\n      let stillageLayerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.STILLAGES);\r\n      let searchedObj = this.stillageService.stillageSearchByID(source[selectedUnit].layers[stillageLayerIndex].stillages!, shapeSource.id);\r\n      let stillage = source[selectedUnit].layers[stillageLayerIndex].stillages![searchedObj.index];\r\n      if (vector === Vectors.TOP) {\r\n        stillage.y -= step;\r\n      } else if (vector === Vectors.BOTTOM) {\r\n        stillage.y += step;\r\n      } else if (vector === Vectors.LEFT) {\r\n        stillage.x -= step;\r\n      } else if (vector === Vectors.RIGHT) {\r\n        stillage.x += step;\r\n      }\r\n      source[selectedUnit].layers[stillageLayerIndex].stillages![searchedObj.index] = stillage;\r\n\r\n      Emit.Emitter.emit('stillageSignatureForceUpdate', stillage.key, stillage.x, stillage.y);\r\n      Emit.Emitter.emit('placeSignaturesForceUpdate', stillage.key, stillage.x, stillage.y);\r\n      Emit.Emitter.emit('defectsForceUpdate', stillage.key, stillage.x, stillage.y);\r\n\r\n      this.forceUpdate(() => this.setState({ source }));\r\n    }\r\n\r\n  }\r\n\r\n  public setIsShapeMoveEnable(value) {\r\n    this.setState({ isShapeMoveEnable: value });\r\n  }\r\n\r\n  public setIsShapeMovingNow(value, shape) {\r\n    if (shape !== undefined) {\r\n      this.setState({ isShapeMovingNow: value, selectedShapeForMove: shape });\r\n    } else {\r\n      this.setState({ isShapeMovingNow: value });\r\n    }\r\n  }\r\n\r\n  // saving cur pos and wall resizing move rendering\r\n  public MapWrapperOnMouseMove(e) {\r\n    const { source, selectedUnit, layersSelected, selectedWallToResize, wallLayerIndex, resizingWallIndex, isStart, stageScale, stageScales } = this.state;\r\n    let { selectedLayer } = this.state;\r\n    // TODO: rows and columns checks\r\n    // TODO: small stillages checks\r\n    // перемещение фигуры\r\n    if (this.state.isShapeMovingNow) {\r\n      if (this.state.selectedShapeForMove !== undefined) {\r\n        if (this.state.selectedShapeForMove!.type === LayerType.STILLAGES) {\r\n          let stillageLayerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.STILLAGES);\r\n          let searchedObj = this.stillageService.stillageSearchByID(source[selectedUnit].layers[stillageLayerIndex].stillages!, this.state.selectedShapeForMove.shape.id);\r\n          let stillage = source[selectedUnit].layers[stillageLayerIndex].stillages![searchedObj.index];\r\n          // rows and columns checks for auto completes\r\n          let stillagesList = source[selectedUnit].layers[stillageLayerIndex].stillages;\r\n          for (let i = 0; i < stillagesList!.length; i++) {\r\n            const el = stillagesList![i];\r\n            if (stillage.key !== el.key) {\r\n              // TODO: add scaling\r\n              let x0 = el.x;\r\n              let y0 = el.y;\r\n              let x = e.clientX - this.state.moveStageParams.x;\r\n              let y = e.clientY - this.state.moveStageParams.y;\r\n              let fSide = 75;\r\n              let sSide = 25;\r\n              // stillages auto rows and cols titles by row\r\n              // TODO: turn on\r\n              /*\r\n              if (el.orientation === stillage.orientation) {\r\n                if (stillage.orientation === Orientation.HORIZONTAL) {\r\n                  if (x > x0) {\r\n                    if (x > x0 && (x <= (x0 + 80 + 75)) && (y > (y0 - 10) && y <= y0 + 35)) {\r\n                      stillage.signature = el.signature;\r\n                      stillage.placeSignatures = this.stillageService.getStillagePlaceSignatures(stillage.size, el.placeSignatures![2].title, false);\r\n                      Emit.Emitter.emit('placeSignatureForceUpdate', stillage.key, stillage.placeSignatures);\r\n                    }\r\n                  } else if (x < x0) {\r\n                    if ((x > (x0 - 100) && x < x0) && (y > (y0 - 10) && y <= (y0 + 35))) {\r\n                      stillage.signature = el.signature;\r\n                      stillage.placeSignatures = this.stillageService.getStillagePlaceSignatures(stillage.size, el.placeSignatures![0].title, true);\r\n                      Emit.Emitter.emit('placeSignatureForceUpdate', stillage.key, stillage.placeSignatures);\r\n                    }\r\n                  }\r\n                  Emit.Emitter.emit('signaturesForceUpdate', stillage.key, stillage.signature);\r\n                } else if (stillage.orientation === Orientation.VERTICAL) {\r\n                  if (y > y0) {\r\n                    if (y > y0 && (y <= (y0 + 80 + 75)) && (x > (x0 - 10) && x <= x0 + 35)) {\r\n                      stillage.signature = el.signature;\r\n                      stillage.placeSignatures = this.stillageService.getStillagePlaceSignatures(stillage.size, el.placeSignatures![2].title, false);\r\n                      Emit.Emitter.emit('placeSignatureForceUpdate', stillage.key, stillage.placeSignatures);\r\n                    }\r\n                  } else if (y < y0) {\r\n                    if ((y > (y0 - 100) && y < y0) && (x > (x0 - 10) && x <= (x0 + 35))) {\r\n                      stillage.signature = el.signature;\r\n                      stillage.placeSignatures = this.stillageService.getStillagePlaceSignatures(stillage.size, el.placeSignatures![0].title, true);\r\n                      Emit.Emitter.emit('placeSignatureForceUpdate', stillage.key, stillage.placeSignatures);\r\n                    }\r\n                  }\r\n                  Emit.Emitter.emit('signaturesForceUpdate', stillage.key, stillage.signature);\r\n                }\r\n              }\r\n              */\r\n            }\r\n          }\r\n          console.log('ТУТ');\r\n          console.log(stageScales);\r\n          // TODO: add scaling\r\n          stillage.x = (e.clientX - this.state.moveStageParams.x);\r\n          stillage.y = (e.clientY - this.state.moveStageParams.y);\r\n          source[selectedUnit].layers[stillageLayerIndex].stillages![searchedObj.index] = stillage;\r\n          Emit.Emitter.emit('stillageSignatureForceUpdate', stillage.key, stillage.x, stillage.y);\r\n          Emit.Emitter.emit('placeSignaturesForceUpdate', stillage.key, stillage.x, stillage.y);\r\n          Emit.Emitter.emit('defectsForceUpdate', stillage.key, stillage.x, stillage.y);\r\n          this.forceUpdate(() => this.setState({ source }));\r\n        } else if (this.state.selectedShapeForMove!.type === LayerType.LIGHTING) {\r\n          let lightingLayerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.LIGHTING);\r\n          let searchedObj = this.objectService.searchByID(source[selectedUnit].layers[lightingLayerIndex].objects!, this.state.selectedShapeForMove.shape.id);\r\n          let light = source[selectedUnit].layers[lightingLayerIndex].objects![searchedObj.index];\r\n          // TODO: add scaling\r\n          light.x = e.clientX - this.state.moveStageParams.x;\r\n          light.y = e.clientY - this.state.moveStageParams.y;\r\n          source[selectedUnit].layers[lightingLayerIndex].objects![searchedObj.index] = light;\r\n          this.forceUpdate(() => this.setState({ source }))\r\n        } else if (this.state.selectedShapeForMove!.type === LayerType.WALLS) {\r\n          let wallsLayerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.WALLS);\r\n          let searchedObj = this.wallService.getWallIndexByID(source[selectedUnit].layers[wallsLayerIndex].walls!, this.state.selectedShapeForMove.shape.id);\r\n          let wall = source[selectedUnit].layers[wallsLayerIndex].walls![searchedObj.index];\r\n          // TODO: add scaling\r\n          wall.startX = e.clientX - this.state.moveStageParams.x;\r\n          wall.startY = e.clientY - this.state.moveStageParams.y;\r\n          source[selectedUnit].layers[wallsLayerIndex].walls![searchedObj.index] = wall;\r\n          this.forceUpdate(() => this.setState({ source }));\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    // move_resizing\r\n    if (this.state.isWallResizingNow) {\r\n\r\n      Emit.Emitter.emit('wallMouseDbl', false);\r\n\r\n      let _wall = source[selectedUnit].layers[wallLayerIndex].walls![resizingWallIndex];\r\n\r\n      _wall = this.wallService.resizeWall(e, _wall, isStart, this.state.moveStageParams);\r\n\r\n      source[selectedUnit].layers[wallLayerIndex].walls![resizingWallIndex] = _wall;\r\n\r\n      this.setState({ source });\r\n\r\n    }\r\n    if (this.state.isDrawing) {\r\n      this.setState({\r\n        cursorCoords: {\r\n          startX: this.state.cursorCoords.startX,\r\n          startY: this.state.cursorCoords.startY,\r\n          x: e.clientX,\r\n          y: e.clientY,\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Событие отпускания левой кноки или пальца для дорисовки стены с помощью ползунка\r\n  // PAGE MOUSE UP\r\n  private wallLabelButtonInteractionWayUp(e) {\r\n    const { source, isStart, selectedUnit, layersSelected, isWallResizingNow, selectedWallToResize, wallLayerIndex } = this.state;\r\n    let { selectedLayer } = this.state;\r\n    this.setState({ isShapeMovingNow: false });\r\n    if (isWallResizingNow && selectedWallToResize) {\r\n      let found = this.wallService.getWallIndexByID(source[selectedUnit].layers[wallLayerIndex].walls!, selectedWallToResize.id);\r\n      let _wall: WallItem = found.item;\r\n      _wall = this.wallService.resizeWall(e, _wall, isStart, this.state.moveStageParams);\r\n      source[selectedUnit].layers[wallLayerIndex].walls![found.index] = _wall;\r\n\r\n      source[selectedUnit].layers[wallLayerIndex].walls = this.layerService.deleteBadWalls(\r\n        source[selectedUnit].layers[wallLayerIndex].walls!\r\n      );\r\n\r\n      this.setState({ resizingWallIndex: found.index, source, isWallResizingNow: false, isDrawing: false, layersSelected: layersSelected });\r\n      Emit.Emitter.emit('wallMouseDbl', false);\r\n    }\r\n  }\r\n\r\n  // Событие зажатия левой кноки или пальца для дорисовки стены с помощью ползунка\r\n  private wallLabelButtonInteractionWayDown(e, wallSource: WallItem, isStart: boolean) {\r\n    Emit.Emitter.emit('wallMouseDbl', false);\r\n    const { source, layersSelected, selectedUnit } = this.state; let selectedLayer = -1;\r\n    let layerFlag = this.layerService.getLayerIndex(layersSelected, source[selectedUnit].layers, LayerType.WALLS);\r\n\r\n\r\n    let _index = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.WALLS);\r\n    let _source = source[selectedUnit];\r\n\r\n    if (_index === -1) {\r\n      _source.layers.push(\r\n        this.layerService.getLayerSourceItem(source[selectedUnit], LayerType.WALLS)\r\n      );\r\n    }\r\n\r\n    _index = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.WALLS);\r\n    if (selectedLayer === -1) {\r\n      this.setState({ wallLayerIndex: _index, selectedLayer: -1 });\r\n    } else {\r\n      layersSelected.push(_index);\r\n      this.setState({ layersSelected, selectedLayer: _index, wallLayerIndex: _index });\r\n    }\r\n    let found = this.wallService.getWallIndexByID(source[selectedUnit].layers[_index].walls!, wallSource.id);\r\n    this.setState({ resizingWallIndex: found.index, isStart, selectedWallToResize: wallSource, isWallResizingNow: true, isDrawing: true });\r\n  }\r\n\r\n\r\n\r\n  private stageDragEnd(x: number, y: number) {\r\n    this.setState({\r\n      moveStageParams: {\r\n        x: x,\r\n        y: y,\r\n      },\r\n    });\r\n  }\r\n\r\n  private addLayerModalWorker(modalMode: boolean) {\r\n    this.setState({ isAddLayerModal: modalMode });\r\n  }\r\n\r\n  public defectBrowsePanelWorker(value: boolean) {\r\n    this.setState({\r\n      isDefectBrowsePanel: value\r\n    });\r\n  }\r\n\r\n\r\n  private StageOnMouseMoveHandler(e) {\r\n    const { source, selectedUnit, selectedLayer, isDrawing, wallIndex, moveStageParams, cursorCoords, wallLayerIndex } = this.state;\r\n\r\n    if (this.state.cncFlag) {\r\n      if (isDrawing) {\r\n        let _wall = source[selectedUnit].layers[wallLayerIndex].walls![wallIndex];\r\n        if (_wall.orientation === Orientation.HORIZONTAL) {\r\n          if (_wall.startX < (e.evt.clientX - moveStageParams.x)) {\r\n            let _length = Math.abs(_wall.startX - (e.evt.clientX - moveStageParams.x));\r\n            _wall.length += _length - _wall.length;\r\n          } else if (_wall.startX > (e.evt.clientX - moveStageParams.x)) {\r\n            _wall.startX = (e.evt.clientX - moveStageParams.x);\r\n            _wall.length = Math.abs(_wall.startX - cursorCoords.startX);\r\n          }\r\n        } else {\r\n          if (_wall.startY < (e.evt.clientY - moveStageParams.y)) {\r\n            let _length = Math.abs(_wall.startY - (e.evt.clientY - moveStageParams.y));\r\n            _wall.length += _length - _wall.length;\r\n          } else if (_wall.startY > (e.evt.clientY - moveStageParams.y)) {\r\n            _wall.startY = (e.evt.clientY - moveStageParams.y);\r\n            _wall.length = Math.abs(_wall.startY - cursorCoords.startY);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private StageOnMouseDownHandler(e) {\r\n    const { source, selectedUnit, selectedLayer, layersSelected } = this.state;\r\n    if (this.state.cncFlag) {\r\n      let selected: ElementItem = AppState.State.selectedEl;\r\n      if (selected !== undefined) {\r\n        this.setState({\r\n          isDrawing: true,\r\n          cursorCoords: {\r\n            startX: e.evt.clientX,\r\n            startY: e.evt.clientY,\r\n            x: 0,\r\n            y: 0,\r\n          },\r\n          upDownCoords: {\r\n            up: this.state.upDownCoords.up,\r\n            down: {\r\n              x: e.evt.clientX,\r\n              y: e.evt.clientY,\r\n            },\r\n          }\r\n        });\r\n        // wall layer checking\r\n        let index = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.WALLS);\r\n        let _source = source[selectedUnit];\r\n\r\n        if (index === -1) {\r\n          _source.layers.push(\r\n            this.layerService.getLayerSourceItem(source[selectedUnit], LayerType.WALLS)\r\n          );\r\n        }\r\n\r\n        index = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.WALLS);\r\n        if (selectedLayer === -1) {\r\n          this.setState({ wallLayerIndex: index, selectedLayer: -1 });\r\n        } else {\r\n          layersSelected.push(index);\r\n          this.setState({ layersSelected, selectedLayer: index, wallLayerIndex: index });\r\n        }\r\n\r\n        let clientX = e.evt.clientX - this.state.moveStageParams.x;\r\n        let clientY = e.evt.clientY - this.state.moveStageParams.y;\r\n\r\n        if (this.layerService.hasUnderChild(source[selectedUnit].layers!, selected.type!, clientX, clientY, selected)) return;\r\n        // addWall\r\n        // adding new wall for resizing in the future moving\r\n\r\n        if (source[selectedUnit].layers[index].type === LayerType.WALLS) {\r\n\r\n          source[selectedUnit].layers[index].walls!.push(\r\n            this.wallService.getWallSourceItem(\r\n              source[selectedUnit].layers[index],\r\n              clientX,\r\n              clientY,\r\n              25,\r\n              AppState.State.selectedEl.orientation\r\n            )\r\n          );\r\n\r\n          let walls = source[selectedUnit].layers[index].walls!;\r\n          let wallIndex = this.wallService.getWallIndexByID(walls, walls[walls.length - 1].id).index;\r\n          source[selectedUnit].layers[index].walls = walls;\r\n          this.setState({ wallIndex, source });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private StageOnMouseUpHandler(e) {\r\n    if (this.state.isWallResizingNow) {\r\n      this.setState({ isWallResizingNow: false, isDrawing: false })\r\n    }\r\n    if (this.state.cncFlag) {\r\n      this.setState({\r\n        // cncFlag: false,\r\n        isDrawing: false,\r\n        cursorCoords: {\r\n          startX: this.state.cursorCoords.startX,\r\n          startY: this.state.cursorCoords.startY,\r\n          x: e.evt.clientX,\r\n          y: e.evt.clientY,\r\n        },\r\n        upDownCoords: {\r\n          up: {\r\n            x: e.evt.clientX,\r\n            y: e.evt.clientY,\r\n          },\r\n          down: this.state.upDownCoords.down,\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public selectLayerToList(i) {\r\n    const { source, layersSelected } = this.state;\r\n    if (layersSelected.includes(i)) {\r\n      let index = layersSelected.indexOf(i);\r\n      layersSelected.splice(index, 1);\r\n    } else {\r\n      layersSelected.push(i);\r\n    }\r\n    if (source.length + 1 === layersSelected.length) {\r\n      this.setState({\r\n        layersSelected,\r\n        selectedLayer: -1,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        layersSelected,\r\n        selectedLayer: layersSelected.length === 0 ? -1 : i,\r\n      });\r\n    }\r\n  }\r\n\r\n  // need\r\n  public deleteWall() {\r\n    alert('DELETING');\r\n  }\r\n\r\n  // cnc flag changing (need)\r\n  public cncFlagChange() {\r\n    if (this.state.cncFlag) {\r\n      Emit.Emitter.emit('borderCleanAction');\r\n    }\r\n    this.setState({\r\n      cncFlag: !this.state.cncFlag\r\n    });\r\n  }\r\n\r\n\r\n\r\n  public addElement(clientX: number, clientY: number) {\r\n    const { source, selectedUnit, selectedLayer, layersSelected, cncFlag } = this.state;\r\n    let selected: ElementItem = AppState.State.selectedEl;\r\n\r\n\r\n    if (selected !== undefined) {\r\n      let _layerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, selected.type!);\r\n      let layer: MapSourceLayer;\r\n      if (_layerIndex === -1) {\r\n        source[selectedUnit].layers.push(\r\n          this.layerService.getLayerSourceItem(source[selectedUnit], selected.type!)\r\n        );\r\n        _layerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, selected.type!);\r\n      }\r\n\r\n      layer = source[selectedUnit].layers[_layerIndex];\r\n\r\n      if (layer.mapIconsType === MapIconsType.DRAWING) {\r\n        if (layer.type === LayerType.STILLAGES) {\r\n          if (this.layerService.hasUnderChild(source[selectedUnit].layers!, selected.type!, (clientX - this.state.moveStageParams.x), (clientY - this.state.moveStageParams.y), selected)) return;\r\n          if (layer.stillages === undefined) {\r\n            source[selectedUnit].layers[selectedLayer].stillages = [];\r\n          }\r\n          layer.stillages!.push(\r\n            this.stillageService.getStillageSourceItem(\r\n              source[selectedUnit].layers[_layerIndex],\r\n              { x: (clientX - this.state.moveStageParams.x), y: (clientY - this.state.moveStageParams.y) },\r\n              selected.stillageType!\r\n            )\r\n          );\r\n        }\r\n      } else {\r\n        if (layer.type === LayerType.LIGHTING) {\r\n          layer.objects!.push(\r\n            this.objectService.getObjectSourceItem(\r\n              source[selectedUnit].layers[_layerIndex],\r\n              { x: (clientX - this.state.moveStageParams.x), y: (clientY - this.state.moveStageParams.y) },\r\n              selected.photo\r\n            )\r\n          );\r\n        }\r\n      }\r\n      if (selectedLayer !== -1) {\r\n        layersSelected.push(_layerIndex);\r\n        source[selectedUnit].layers[_layerIndex] = layer;\r\n        this.forceUpdate(() => this.setState({ source, selectedLayer: _layerIndex }));\r\n      } else {\r\n        source[selectedUnit].layers[_layerIndex] = layer;\r\n        this.forceUpdate(() => this.setState({ source, selectedLayer: -1 }));\r\n      }\r\n      // Изменение видимости кнопок плюс у добавленного стеллажа\r\n      this.forceUpdate(() => Emit.Emitter.emit('forceSetIsAddingChange', true));\r\n    }\r\n  }\r\n\r\n  public stageOnClickHandler(e) {\r\n    if (this.state.isAddCircleAdding) {\r\n      this.setState({ isAddCircleAdding: false });\r\n      return;\r\n    }\r\n    // cnc element adding\r\n    if (this.state.cncFlag) {\r\n      let selected: ElementItem = AppState.State.selectedEl;\r\n      if (selected !== undefined) {\r\n        this.addElement(e.clientX, e.clientY);\r\n        // Emit.Emitter.emit('borderCleanAction');\r\n        // this.setState({cncFlag: false});\r\n      }\r\n    }\r\n  }\r\n\r\n  public ElementOnDrop(e) {\r\n    this.addElement(e.clientX, e.clientY);\r\n  };\r\n\r\n  public filtersOnChangeAction(checkName) {\r\n\r\n  }\r\n\r\n\r\n  handleWheel = e => {\r\n    e.evt.preventDefault();\r\n    let stillagesLayer = this.layerService.getLayerIndexByTypeBinary(this.state.source[this.state.selectedUnit].layers, LayerType.STILLAGES);\r\n    let scaleBy = 1.025;\r\n    // console.log(this.state.source[this.state.selectedUnit].layers[stillagesLayer].stillages!.length);\r\n    // let stillagesCount = this.state.source[this.state.selectedUnit].layers[stillagesLayer].stillages!.length;\r\n    // if (stillagesCount >= 100) scaleBy = 0.90;\r\n    // if (stillagesCount >= 200 && stillagesCount < 300) scaleBy = 1.1;\r\n    // if (stillagesCount >= 300) scaleBy = 1.1;\r\n\r\n\r\n\r\n\r\n    const stage = e.target.getStage();\r\n    const oldScale = stage.scaleX();\r\n    const mousePointTo = {\r\n      x: stage.getPointerPosition().x / oldScale - stage.x() / oldScale,\r\n      y: stage.getPointerPosition().y / oldScale - stage.y() / oldScale\r\n    };\r\n\r\n    const newScale = e.evt.deltaY > 0 ? oldScale * scaleBy : oldScale / scaleBy;\r\n\r\n    stage.scale({ x: (newScale * -1), y: (newScale * -1) });\r\n\r\n    this.setState({\r\n      stageScales: {\r\n        x: (newScale * -1),\r\n        y: (newScale * -1)\r\n      },\r\n      stageScale: newScale,\r\n      stageX:\r\n        -(mousePointTo.x - stage.getPointerPosition().x / newScale) * newScale,\r\n      stageY:\r\n        -(mousePointTo.y - stage.getPointerPosition().y / newScale) * newScale\r\n    });\r\n  };\r\n\r\n\r\n  public mapSetState() {\r\n    try {\r\n      // this.animate.finish();\r\n      this.animates.forEach(el => el.cancel());\r\n      console.log(MapSource.data);\r\n      this.setState({source: MapSource.data, lazyLoading: false});\r\n    } catch (e) {\r\n      console.error('[Component: Map] - invalid data!');\r\n      this.setState({lazyLoading: false});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.source === undefined || this.state.source.length === 0) {\r\n\r\n    } else {\r\n      const {source, selectedLayer, selectedUnit, layersSelected, isDefectBrowsePanel, isWallResizingNow, lazyLoading} = this.state;\r\n      let unitsTitles: Array<JSX.Element> = [];\r\n      let layersTitles: Array<JSX.Element> = [];\r\n      let objects: Array<JSX.Element> = [];\r\n      let texts: Array<JSX.Element> = [];\r\n      let stillages: Array<JSX.Element> = [];\r\n      let signatures: Array<JSX.Element> = [];\r\n      let layers: Array<JSX.Element> = [];\r\n      let walls: Array<JSX.Element> = [];\r\n\r\n      let height = window.innerHeight;\r\n\r\n      // вывод списка блоков\r\n      for (let i = 0; i < source.length; i++) {\r\n        unitsTitles.push(\r\n            <div\r\n                key={source[i].key + '_unitNameDiv_' + i}\r\n                onClick={() => {\r\n                  console.log('this');\r\n                  this.setState({selectedUnit: i, selectedLayer: -1, layersSelected: []});\r\n                }} className=\"unit-title\">\r\n              <span\r\n                key={source[i].key + '_unitNameDivSpan_' + i}\r\n                style={{\r\n                  fontWeight: selectedUnit === i ? 'bold' : 'normal',\r\n                  color: selectedUnit === i ? '#2f00ff' : 'black'\r\n                }}>{source[i].title}</span>\r\n            </div>\r\n        );\r\n      }\r\n      layersTitles = [];\r\n      /* добавления слоя для отображения всех слоев */\r\n      layersTitles.push(\r\n          <div key={source[selectedUnit].key + '_layerNameDiv_-1'} style={{\r\n            fontWeight: selectedLayer === -1 ? 'bold' : 'normal',\r\n            color: selectedLayer === -1 ? '#2f00ff' : 'black'\r\n          }} className=\"layer-title\" onClick={() => {\r\n            this.setState({layersSelected, selectedLayer: -1})\r\n          }}>\r\n            все слои\r\n          </div>\r\n      );\r\n      /* добавление заголовков слоев */\r\n      for (let i = 0; i < source[selectedUnit].layers.length; i++) {\r\n        layersTitles.push(\r\n            <div key={source[selectedUnit].layers[i].key + '_layerNameDiv_' + i} style={{\r\n              fontWeight: layersSelected.includes(i, 0) ? 'bold' : 'normal',\r\n              color: layersSelected.includes(i, 0) ? '#2f00ff' : 'black'\r\n            }} onClick={() => {\r\n              this.selectLayerToList(i);\r\n            }} className=\"layer-title\">\r\n              <input\r\n                  key={source[selectedUnit].layers[i].key + '_layerNameDivInput_' + i}\r\n                  onChange={() => {\r\n                    console.log(i)\r\n                  }}\r\n                  style={{outline: 'none', marginRight: 5}}\r\n                  checked={layersSelected.includes(i, 0)}\r\n                  type={'checkbox'}/>\r\n              {source[selectedUnit].layers[i].title}</div>\r\n        );\r\n      }\r\n\r\n\r\n      if (selectedLayer === -1) {\r\n        let layerNum = 0;\r\n        source[selectedUnit].layers.forEach(element => {\r\n          if (element.texts !== undefined) {\r\n            element.texts.forEach(textElement => {\r\n              texts.push(\r\n                  <Text key={textElement.key} source={textElement} />\r\n              );\r\n            });\r\n          }\r\n          if (element.objects !== undefined) {\r\n            for (let i = 0; i < element.objects!.length; i++) {\r\n              objects.push(\r\n                  <MapObject\r\n                      key={element.objects[i].key}\r\n                      source={element.objects![i]}\r\n                  />\r\n              );\r\n            }\r\n          }\r\n          if (element.stillages !== undefined) {\r\n            let _mapStillages = source[selectedUnit].layers[this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers!, LayerType.STILLAGES)].stillages;\r\n            for (let i = 0; i < element.stillages!.length; i++) {\r\n              stillages.push(\r\n                  <Stillage\r\n                      key={element.stillages[i].key}\r\n                      source={element.stillages![i]}\r\n                      mapStillages={_mapStillages!}\r\n                  />\r\n              );\r\n            }\r\n          }\r\n          if (element.walls !== undefined) {\r\n            for (let i = 0; i < element.walls!.length; i++) {\r\n              walls.push(\r\n                  <Wall\r\n                      key={element.walls[i].key}\r\n                      source={element.walls[i]}\r\n                  />\r\n              );\r\n            }\r\n          }\r\n          layerNum++;\r\n        });\r\n      } else {\r\n        if (this.state.layersSelected.length !== 0) {\r\n          layersSelected.forEach(el => {\r\n            if (source[selectedUnit].layers[el] !== undefined) {\r\n              if (source[selectedUnit].layers[el].stillages !== undefined) {\r\n                for (let i = 0; i < source[selectedUnit].layers[el].stillages!.length; i++) {\r\n                  stillages.push(\r\n                      <Stillage\r\n                          key={source[selectedUnit].layers[el].stillages![i].key}\r\n                          source={source[selectedUnit].layers[el].stillages![i]}\r\n                          mapStillages={source[selectedUnit].layers[el].stillages!}\r\n                      />\r\n                  );\r\n                }\r\n              }\r\n              if (source[selectedUnit].layers[el].walls !== undefined) {\r\n                for (let i = 0; i < source[selectedUnit].layers[el].walls!.length; i++) {\r\n                  let element = source[selectedUnit].layers[el].walls![i];\r\n                  walls.push(\r\n                      <Wall\r\n                          key={element.key}\r\n                          source={source[selectedUnit].layers[el].walls![i]}\r\n                      />\r\n                  );\r\n                }\r\n              }\r\n              if (source[selectedUnit].layers[el].objects !== undefined) {\r\n                for (let i = 0; i < source[selectedUnit].layers[el].objects!.length; i++) {\r\n                  walls.push(\r\n                      <MapObject\r\n                          key={source[selectedUnit].layers[el].objects![i].key}\r\n                          source={source[selectedUnit].layers[el].objects![i]}\r\n                      />\r\n                  );\r\n                }\r\n              }\r\n              if (source[selectedUnit].layers[el].texts !== undefined) {\r\n                source[selectedUnit].layers[el].texts!.forEach(textEl => texts.push(<Text key={textEl.key} source={textEl} />));\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n      }\r\n\r\n\r\n      let main, blocks, filters, elementsPanel, defectBrowsePanel, addLayerSubModal;\r\n\r\n      blocks = (\r\n          <div id={'units-block'} style={{background: '#E0E0E0'}} className=\"units-selector\">\r\n            <div style={{background: ''}} className=\"unit-header-title\">\r\n              <span style={{height: '50%'}}>выбор блока</span>\r\n            </div>\r\n            <div style={{background: ''}} className=\"unit-content\">\r\n              {unitsTitles}\r\n            </div>\r\n          </div>\r\n      );\r\n\r\n      filters = (\r\n          <div id={'filters-block'} className=\"filters-selector\" style={{background: '#E0E0E0'}}>\r\n            <div style={{background: ''}} className=\"filter-header-title\">\r\n              <span style={{height: '50%'}}>фильтры</span>\r\n            </div>\r\n            <div style={{background: ''}} className=\"filter-content\">\r\n              <div className=\"input-checkbox\">\r\n                <div style={{}}><input onChange={() => this.filtersOnChangeAction('onlyRed')} style={{height: '50%'}}\r\n                                       type=\"checkbox\" name=\"option2\" value=\"a2\"/></div>\r\n                <div style={{height: '100%', fontSize: '0.9vw', paddingLeft: '2%', display: 'flex'}}>\r\n                  только опасные\r\n                </div>\r\n              </div>\r\n              <div className=\"input-checkbox\">\r\n                <div style={{}}><input onChange={() => this.filtersOnChangeAction('onlyRed')} style={{height: '50%'}}\r\n                                       type=\"checkbox\" name=\"option2\" value=\"a2\"/></div>\r\n                <div style={{height: '100%', fontSize: '0.9vw', paddingLeft: '2%', display: 'flex'}}>\r\n                  убрать повреждения\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      );\r\n\r\n      elementsPanel = <ElementsPanel source={ElementSource}/>;\r\n\r\n      if (isDefectBrowsePanel) {\r\n        defectBrowsePanel = <DefectBrowsePanel parentSource={this.state.selectedStillage!} source={this.state.selectedVik} />;\r\n      }\r\n\r\n      let check = false;\r\n      if (AppState.State.selectedEl !== undefined) {\r\n        if (AppState.State.selectedEl.type !== undefined && AppState.State.selectedEl.type === LayerType.WALLS) {\r\n          check = true;\r\n        }\r\n      }\r\n\r\n      /* очистка списка стен от дублей с одинаковыми key */\r\n      let keys: string[] = [];\r\n      walls.forEach((el) => {\r\n        if (keys.indexOf(el.key!.toString()) === -1) {\r\n          keys.push(el.key!.toString());\r\n        }\r\n      });\r\n      walls = walls.filter((item, index) => {\r\n        return index === keys.indexOf(item.key!.toString());\r\n      });\r\n\r\n      main = (\r\n          <div\r\n              key={this.state.parentKey + '_mapWrapper_div'}\r\n              className=\"map-wrapper\"\r\n              onDragOver={(e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n              }}\r\n\r\n          >\r\n\r\n            <div className=\"stage-wrapper\"\r\n                 key={this.state.parentKey + '_stageWrapper_div'}\r\n                 onDrop={(e) => {\r\n                   this.ElementOnDrop(e)\r\n                 }}\r\n                 onClick={(e) => {\r\n                   this.stageOnClickHandler(e)\r\n                 }}\r\n                 onMouseMove={(e) => {\r\n                   this.MapWrapperOnMouseMove(e)\r\n                 }}\r\n                 onTouchMove={(e) => {\r\n                   this.MapWrapperOnMouseMove(e)\r\n                 }}\r\n                 onMouseUp={(e) => {\r\n                   this.wallLabelButtonInteractionWayUp(e)\r\n                 }}\r\n                 id={\"stageWrapper\"}\r\n            >\r\n              <Stage\r\n                  key={this.state.parentKey + '_mapStage_stage'}\r\n                  draggable={!this.state.isDrawing && !this.state.isShapeMovingNow}\r\n\r\n                  onTouchMove={check ? (e) => {\r\n                    this.StageOnMouseMoveHandler(e)\r\n                  } : () => {\r\n                  }}\r\n                  onTouchStart={check ? (e) => {\r\n                    this.StageOnMouseDownHandler(e)\r\n                  } : () => {\r\n                  }}\r\n                  onTouchEnd={check ? (e) => {\r\n                    this.StageOnMouseUpHandler(e)\r\n                  } : () => {\r\n                  }}\r\n\r\n                  onDragEnd={e => {\r\n                    this.stageDragEnd(e.target.x(), e.target.y())\r\n                  }}\r\n\r\n                  onMouseMove={check ? (e) => {\r\n                    this.StageOnMouseMoveHandler(e)\r\n                  } : () => {\r\n                  }}\r\n                  onMouseDown={check ? (e) => {\r\n                    this.StageOnMouseDownHandler(e)\r\n                  } : () => {\r\n                  }}\r\n                  onMouseUp={check ? (e) => {\r\n                    this.StageOnMouseUpHandler(e)\r\n                  } : () => {\r\n                  }}\r\n\r\n                  style={{cursor: 'pointer'}}\r\n                  width={window.innerWidth}\r\n                  height={height}\r\n                  onWheel={this.handleWheel}\r\n\r\n                  scaleX={this.state.stageScale}\r\n                  scaleY={this.state.stageScale}\r\n                  x={this.state.stageX}\r\n                  y={this.state.stageY}>\r\n                <Layer>\r\n                  {walls}\r\n                  {stillages}\r\n                  {objects}\r\n                  {texts}\r\n                </Layer>\r\n              </Stage>\r\n            </div>\r\n            {elementsPanel}\r\n\r\n            <div key={this.state.parentKey + '_rightBarsWrapper_div'} className={\"right-bars-wrapper\"}>\r\n              {blocks}\r\n              {filters}\r\n            </div>\r\n            <div id={'layers-block'} key={this.state.parentKey + '_layersSelectorWrapper_div'} style={{background: '#E0E0E0'}}\r\n                 className=\"layers-selector-wrapper\">\r\n              {layersTitles}\r\n            </div>\r\n            {defectBrowsePanel}\r\n          </div>);\r\n      return [main];\r\n    }\r\n  }\r\n}\r\n","import LogType from \"../A100/model/enums/LogType\";\r\n\r\nexport default class LogHandler {\r\n    public static handle(componentName: string, type: LogType, message: string) {\r\n        if (type === LogType.LOG) {\r\n            console.log('['+ type +'] in ' + componentName + ' - ' + message);\r\n        } else if (type === LogType.ERROR) {\r\n            console.error('['+ type +'] in ' + componentName + ' - ' + message);\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport IMapViewProps from '../model/Components/MapView/IMapViewProps';\r\nimport IMapViewState from '../model/Components/MapView/IMapViewState';\r\nimport Map from '../../MapCore/Map';\r\nimport MapSource from './../data/MapSource';\r\nimport A100ConnectionData from \"../data/A100ConnectionData\";\r\nimport queryString from 'query-string';\r\nimport MapAPI from \"../api/MapAPI\";\r\nimport MapSourceUnit from \"../../MapCore/Models/MapSourceUnit\";\r\nimport LogHandler from '../../LogHandler/LogHandler';\r\nimport LogType from \"../model/enums/LogType\";\r\n\r\nexport default class MapView extends React.Component<IMapViewProps, IMapViewState> {\r\n\r\n    public MapAPI!: MapAPI;\r\n    public data!: Array<MapSourceUnit>;\r\n\r\n    constructor(props: IMapViewProps) {\r\n        super(props);\r\n        let url = this.props.location.search;\r\n        let urlParams = queryString.parse(url);\r\n        try {\r\n            this.state = {\r\n                mapSource: [],\r\n                resoultID: parseInt(urlParams['resoultID']!.toString()),\r\n            };\r\n            A100ConnectionData.data = {\r\n                resoultID: this.state.resoultID,\r\n            };\r\n            LogHandler.handle('MapView', LogType.LOG, 'url params parsed successfully!');\r\n        } catch (e) {\r\n            LogHandler.handle('MapView', LogType.ERROR, 'error while parsing parameters or they are empty!');\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        let that = this;\r\n        MapSource.GetMap();\r\n        setTimeout(function() {\r\n            that.forceUpdate();\r\n        }, 5000);\r\n    }\r\n\r\n    render() {\r\n        let map;\r\n        if (isNaN(A100ConnectionData.data!.resoultID)) {\r\n            map = (\r\n                <Map\r\n                    key={'MapView_component'}\r\n                    parentKey={'MapView_component'}\r\n                    source={MapSource.data}\r\n                />\r\n            );\r\n\r\n            // setTimeout(() => {\r\n            //     document.location.replace('/map?employeeID=12&controlID=5029&resoultID=5020&warhouseID=5019');\r\n            // }, 2000);\r\n            // map = (\r\n            //     <div style={{height: 'auto', display: 'flex', flexDirection: 'column', justifyContent: 'flex-start'}}>\r\n            //         <h4>Please, wait for redirecting...</h4>\r\n            //     </div>\r\n            // );\r\n        } else {\r\n\r\n            map = (\r\n                <Map\r\n                    key={'MapView_component'}\r\n                    parentKey={'MapView_component'}\r\n                    source={MapSource.data}\r\n                />\r\n            );\r\n\r\n        }\r\n\r\n        return map;\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport {Switch, Route, Redirect, Link} from 'react-router-dom';\r\nimport IRouterState from '../model/Components/Router/IRouterState';\r\nimport IRouterProps from '../model/Components/Router/IRouterProps';\r\nimport Introducing from '../view/Introducing';\r\nimport MapView from '../view/MapView';\r\n\r\n\r\nexport default class Router extends React.Component<IRouterProps, IRouterState> {\r\n    constructor(props: IRouterProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Switch>\r\n                <Route exact path='/' component={Introducing}>\r\n                    {/*<Redirect to=\"/map\" />*/}\r\n                </Route>\r\n                <Route path='/map' component={MapView} />\r\n            </Switch>\r\n        );\r\n    }\r\n}\r\n\r\n","import React from 'react';\nimport './css/App.css';\nimport Router from './components/Router';\n\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <div className=\"Router-wrapper\">\n        <Router />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './A100/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render((\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/compStillage.846f1a4d.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageTop.f39afa71.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageVertLeft.b6a5bf51.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageVertRight.6a9ab3df.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageSmall.1a2e3295.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageSmallTop.c48e2b42.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageSmallVertLeft.1dd7fb81.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageSmallVertRight.8df13d91.png\";","module.exports = __webpack_public_path__ + \"static/media/lightbulb.0d6c72e2.png\";","module.exports = __webpack_public_path__ + \"static/media/idea.dc28b75b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAASCAYAAADCKCelAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAQElEQVRIie3WwQkAIBADQU/sv8PUElvQRzgOdipY8krZ9hpidwf8IDblSOpueDZqWWJTiE0hNoXYlOJ1hRCbcgGgSgq0krAfQgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAArCAAAAABQ0IfuAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4wsdDTQXuYaYvAAAACNJREFUKM9j/M/AwHCXAQaUGRgYmBgwwKjQqNCoEAMDAwMDAOQ4AlV10vM8AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTExLTI5VDEzOjUyOjIzKzAwOjAwSXrULwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMS0yOVQxMzo1MjoyMyswMDowMDgnbJMAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABYSURBVHgBrZLdCQAgCISlSdp/CUdplKvAl8Kfsg6iiPtE9AhAHYfnTYEWrzymmgcL1MTL+4cKmx4PDgtrhpNuLDiGDNiECv1QqtXUcFLrAJIBwGPkGJch72suiwSbLEBAAAAAAElFTkSuQmCC\""],"sourceRoot":""}