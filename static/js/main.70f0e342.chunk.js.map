{"version":3,"sources":["MapCore/Models/Enums/Orientation.ts","A100/view/Introducing.tsx","MapCore/Models/Enums/StillageSize/StillageSize.ts","MapCore/Models/Enums/Colors/StillageColors.ts","MapCore/Models/Enums/StillageSize/StillageSizeReducer.ts","MapCore/Models/Enums/Colors/DefectColors.ts","MapCore/Models/Enums/DefectRadius/DefectRadius.ts","MapCore/Models/Enums/DefectRadius/DefectRadiusReducer.ts","MapCore/Data/Emit.ts","MapCore/Models/Enums/SignaturePosition.ts","MapCore/Components/Defect.tsx","MapCore/Components/PlaceSignature.tsx","MapCore/Models/Enums/MapStillageType.ts","MapCore/Components/SIgnature.tsx","MapCore/Models/Enums/Vectors.ts","MapCore/Models/Enums/LayerType.ts","MapCore/Models/Enums/Position.ts","MapCore/Services/StillageService.tsx","MapCore/Components/Stage/DeleteCircle.tsx","MapCore/Models/Enums/LabelButtonMode.ts","MapCore/Components/Stage/AddCircle.tsx","MapCore/Components/Stillage.tsx","MapCore/Components/Stage/LabelButton.tsx","MapCore/Components/Wall.tsx","MapCore/Data/AppState.ts","MapCore/Models/Enums/MapIconsType.ts","MapCore/Components/Page/Panels/ElementsPanel.tsx","MapCore/Data/Images.tsx","MapCore/Data/ElementsSource.ts","MapCore/Components/MapObject.tsx","MapCore/Components/Page/Panels/DefectBrowsePanel.tsx","MapCore/Services/WallService.ts","MapCore/Services/ObjectService.ts","MapCore/Services/LayerService.ts","MapCore/Map.tsx","A100/data/MapSource.ts","A100/view/MapView.tsx","A100/components/Router.tsx","A100/App.tsx","serviceWorker.ts","index.tsx","MapCore/Assets/compStillage.png","MapCore/Assets/compStillageTop.png","MapCore/Assets/compStillageVertLeft.png","MapCore/Assets/compStillageVertRight.png","MapCore/Assets/compStillageSmall.png","MapCore/Assets/compStillageSmallTop.png","MapCore/Assets/compStillageSmallVertLeft.png","MapCore/Assets/compStillageSmallVertRight.png","MapCore/Assets/lightbulb.png","MapCore/Assets/idea.png","MapCore/Assets/firewall.png","MapCore/Assets/wallHor.png","MapCore/Assets/wallVert.png","MapCore/Assets/closeShape.png"],"names":["Orientation","Introducing","props","React","Component","StillageSize","StillageColors","StillageSizeReducer","stillageSize","NORMAL","firstSide","secondSide","DefectColors","DefectRadius","DefectRadiusReducer","color","GREEN","radius","centeringValue","YELLOW","RED","Emit","Emitter","events","EventEmitter","SignaturePosition","Defect","state","parentKey","parentX","parentY","parentOrientation","source","openModal","bind","thisForceUpdate","addListener","newParentX","newParentY","this","setState","vik","defectOptions","GetRadius","place","key","level","onTap","onClick","x","y","fill","VERTICAL","PlaceSignature","parentDefects","forceSource","parenKey","newSource","ps","HORIZONTAL","title","length","fontSize","text","MapStillageType","Signature","parentSize","signatureForceUpdate","_x","_y","_width","_height","position","RIGHT","LEFT","TOP","BOTTOM","SMALL","block","cornerRadius","width","height","_fontSize","Vectors","LayerType","Position","StillageService","stillageSizeReducer","smallPlaceSignatures","bigPlaceSignatures","orientation","signature","points","pointerLength","pointerWidth","stroke","strokeWidth","emit","STILLAGES","Ñ‘","selectedLayer","coords","type","_key","_id","sort","stillages","asc","e","id","toString","NORMAL_BOTTOM","size","placeSignatures","viks","NORMAL_TOP","NORMAL_LEFT_VERT","NORMAL_RIGHT_VERT","SMALL_BOTTOM","SMALL_TOP","SMALL_LEFT_VERT","SMALL_RIGHT_VERT","parentExtremePSTitle","toMin","parsedTitle","parseInt","stillagesList","bs","search_in_associative","DeleteCircle","parentType","deleteShape","deleteCircle","deleteCross","fontStyle","LIGHTING","WALLS","startX","startY","LabelButtonMode","AddCircle","mapStillages","addCircleClickAction","fAddCircle","sAddCircle","fAddCircleText","sAddCircleText","firstSideCheck","secondSideCheck","i","Stillage","stillageService","handleDragStart","target","setAttrs","shadowOffset","shadowColor","scaleX","scaleY","handleDragEnd","to","duration","easing","Konva","Easings","ElasticEaseOut","isMoveEnabled","isAdding","setStillageMoveEnabled","setStillageMoveNow","isAddingChange","setIsAddingChange","placeSignaturesForceUpdate","signaturesForceUpdate","newPlaces","forceUpdate","newSignature","value","evt","which","shape","stillage","addCircles","stillageMoveArrows","getStillageArrows","undefined","forEach","element","push","onDblTap","onDblClick","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","GetSize","STILLAGE_NORMAL","STILLAGE_NORMAL_STROKE","onDragStart","onDragEnd","LabelButton","sourceKey","objectSource","labelMode","isStart","startLabelButton","endLabelButton","OnMouseHandler","console","log","Wall","cursorCoords","isDelete","isAddLabelButton","WallOnClickHandler","OnMouseHandlerValue","setShapeMoveNow","labelButton","ADD","draggable","AppState","State","MapIconsType","ElementsPanel","selectedCategory","isToggled","selectedElementIndex","categoryTitleClickHandler","num","el","selectedEl","index","content","categories","elements","className","style","elementMouseClickHandler","elementMouseDownHandler","alt","cursor","padding","border","borderRadius","src","photo","j","Images","stillage1","stillage2","stillage3","stillage4","stillage5","stillage6","stillage7","stillage8","lightbulb","idea","firewall","wallHor","wallVert","closeShape","ElementSource","stillageType","MapObject","image","window","Image","onload","DefectBrowsePanel","innerWidth","panelWidthPer","fullWidthPx","isResize","marginLeft","closePanel","background","WallService","walls","wall","upDownCoords","stageDeviation","Math","abs","down","up","list","_wall","moveStageParams","clientX","clientY","ObjectService","objects","shapesList","LayerService","selectedUnit","layers","getLayerNameByType","mapIconsType","getMapIconsTypeByLayerType","start","end","a","b","mid","floor","SIGNATURES","ABSTRACTS","DRAWING","IMAGE","selectedLayers","layersList","returnState","selected","is","created","object","item","search","badEls","k","includes","indexOf","splice","layer","selectedStillageToAdd","getStillageSourceItem","newSWidth","newSHeight","newSStartX","newSStartY","elStartX","elStartY","elEndX","elEndY","Map","objectService","layerService","wallService","handleWheel","preventDefault","stage","getStage","oldScale","mousePointTo","getPointerPosition","newScale","deltaY","scale","stageScale","stageX","stageY","isAddCircleAdding","isToggledToAdd","lastAddedItemType","lastAddedItem","isShapeMoveEnable","isShapeMovingNow","selectedShapeForMove","isWallUnderChild","wallLayerIndex","wallIndex","isMouseDown","isOnlyRed","isDrawing","cncFlag","isDefectBrowsePanel","layersSelected","isAddLayerModal","isIncreaseResizingLength","resizingWallIndex","isWallResizingNow","selectedWallToResize","resizeCursorCoordinates","actionEndX","actionEndY","filtersOnChangeAction","ElementOnDrop","MapWrapperOnMouseMove","deleteWall","cncFlagChange","addElement","selectLayerToList","StageOnMouseDownHandler","StageOnMouseUpHandler","StageOnMouseMoveHandler","defectBrowsePanelWorker","addLayerModalWorker","stageDragEnd","wallLabelButtonInteractionWayUp","wallLabelButtonInteractionWayDown","setIsShapeMoveEnable","moveShapeByStep","setIsShapeMovingNow","mapShapeClick","setAddCirclesVisibility","addSameShape","prevShape","layerIndex","getLayerIndexByTypeBinary","nextStillage","prevStillage","_layer","places","obj","stillageSearchByID","searchByID","getWallIndexByID","shapeType","shapeSource","vector","stillageLayerIndex","searchedObj","x0","y0","getStillagePlaceSignatures","lightingLayerIndex","light","wallsLayerIndex","resizeWall","found","deleteBadWalls","wallSource","_index","getLayerIndex","_source","getLayerSourceItem","modalMode","_length","hasUnderChild","getWallSourceItem","alert","_layerIndex","getObjectSourceItem","checkName","unitsTitles","layersTitles","innerHeight","fontWeight","blocks","filters","elementsPanel","defectBrowsePanel","onChange","outline","marginRight","checked","_mapStillages","layerNum","name","paddingLeft","display","check","keys","filter","onDragOver","stopPropagation","onDrop","stageOnClickHandler","onMouseMove","onTouchMove","onWheel","PureComponent","MapSource","MapView","Router","exact","path","component","App","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.70f0e342.chunk.js","sourcesContent":["\r\nenum Orientation {\r\n    HORIZONTAL = 'horizontal',\r\n    VERTICAL = 'vertical'\r\n}\r\n\r\nexport default Orientation;\r\n","import React from 'react';\r\nimport IIntroducingProps from '../model/Components/Introducing/IIntroducingProps';\r\nimport IIntroducingState from '../model/Components/Introducing/IIntroducingState';\r\n\r\n\r\nexport default class Introducing extends React.Component<IIntroducingProps, IIntroducingState> {\r\n\r\n    constructor(props: IIntroducingProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>Intro</div>\r\n        );\r\n    }\r\n\r\n}","\r\nenum StillageSize {\r\n    NORMAL = 'normal',\r\n    SMALL = 'small',\r\n}\r\n\r\nexport default StillageSize;\r\n","enum StillageColors {\r\n    STILLAGE_NORMAL = '#E2E6EA',\r\n    STILLAGE_NORMAL_STROKE = '#3E454D',\r\n}\r\n\r\nexport default StillageColors;\r\n","import StillageSizeReducerType from './StillageSizeReducerType';\r\nimport StillageSize from './StillageSize';\r\n\r\nexport default class StillageSizeReducer {\r\n    public GetSize(stillageSize: StillageSize): StillageSizeReducerType {\r\n        let size: StillageSizeReducerType = stillageSize === StillageSize.NORMAL ? (\r\n            {\r\n                firstSide: 75,\r\n                secondSide: 25,\r\n            }\r\n        ) : (\r\n                {\r\n                    firstSide: 50,\r\n                    secondSide: 25,\r\n                }\r\n            );\r\n        return size;\r\n    }\r\n}","enum DefectColors {\r\n    RED = '#FF003C',\r\n    YELLOW = '#FFBB00',\r\n    GREEN = '#06F107',\r\n    GREY = '',\r\n}\r\n\r\nexport default DefectColors;\r\n","\r\nenum DefectRadius {\r\n    // 12.5\r\n    RED = 10.5,\r\n    YELLOW = 10.5,\r\n    GREEN = 10.5,\r\n}\r\n\r\nexport default  DefectRadius;","import DefectColors from '../Colors/DefectColors';\r\nimport DefectRadius from './DefectRadius';\r\nimport DefectRadiusReducerType from './DefectRadiusReducerType';\r\n\r\nexport default class DefectRadiusReducer {\r\n    public GetRadius(color: DefectColors): DefectRadiusReducerType {\r\n        if (color === DefectColors.GREEN)\r\n            return {\r\n                radius: DefectRadius.GREEN,\r\n                centeringValue: (12.5 - DefectRadius.GREEN)\r\n            };\r\n        else if (color === DefectColors.YELLOW)\r\n            return {\r\n                radius: DefectRadius.YELLOW,\r\n                centeringValue: (12.5 - DefectRadius.YELLOW)\r\n            };\r\n        else if (color === DefectColors.RED)\r\n            return {\r\n                radius: DefectRadius.RED,\r\n                centeringValue: (12.5 - DefectRadius.RED)\r\n            };\r\n        return {\r\n            radius: 0,\r\n            centeringValue: 0,\r\n        }\r\n    }\r\n}","import events, { EventEmitter } from 'events';\r\n\r\nexport default class Emit {\r\n    public static Emitter: EventEmitter = new events.EventEmitter();\r\n}","enum SignaturePosition {\r\n    TOP = 'top',\r\n    LEFT = 'left',\r\n    RIGHT = 'right',\r\n    BOTTOM = 'bottom',\r\n}\r\n\r\nexport default SignaturePosition;\r\n","import React, { Component } from 'react';\r\nimport IDefectProps from './../Models/Components/Defect/IDefectProps';\r\nimport IDefectState from './../Models/Components/Defect/IDefectState';\r\nimport DefectRadiusReducer from '../Models/Enums/DefectRadius/DefectRadiusReducer';\r\nimport StillageSizeReducer from './../Models/Enums/StillageSize/StillageSizeReducer';\r\nimport DefectColors from './../Models/Enums/Colors/DefectColors';\r\nimport DefectRadius from '../Models/Enums/DefectRadius/DefectRadius';\r\nimport Orientation from './../Models/Enums/Orientation';\r\nimport { Circle } from 'react-konva';\r\nimport Emit from \"../Data/Emit\";\r\n\r\nexport default class Defect extends React.Component<IDefectProps, IDefectState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            parentKey: this.props.parentKey,\r\n            parentX: this.props.parentX,\r\n            parentY: this.props.parentY,\r\n            parentOrientation: this.props.parentOrientation,\r\n            source: this.props.source,\r\n        };\r\n\r\n        this.openModal = this.openModal.bind(this);\r\n        this.thisForceUpdate = this.thisForceUpdate.bind(this);\r\n\r\n        Emit.Emitter.addListener('defectsForceUpdate', this.thisForceUpdate);\r\n    }\r\n\r\n    public openModal() {\r\n        // Emit.Emitter.emit('defectBrowsePanelWorkerHandle', true);\r\n    }\r\n\r\n    public thisForceUpdate(parentKey: string, newParentX: number, newParentY: number) {\r\n        if (parentKey === this.state.parentKey) {\r\n            this.setState({parentX: newParentX, parentY: newParentY})\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { parentX, parentY, parentOrientation, source } = this.state;\r\n        const defectRadiusReducer = new DefectRadiusReducer();\r\n        let vik;\r\n\r\n        const defectOptions = defectRadiusReducer.GetRadius(source.color);\r\n        if (source.place === 1) {\r\n            vik =\r\n                <Circle\r\n                    key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n                    onTap={() => { this.openModal() }}\r\n                    onClick={() => { this.openModal() }}\r\n                    radius={defectOptions.radius}\r\n                    x={parentX + (defectOptions.radius + defectOptions.centeringValue)}\r\n                    y={parentY + (defectOptions.radius + defectOptions.centeringValue)}\r\n                    fill={source.color}\r\n                />\r\n                ;\r\n\r\n        } else if (source.place === 2) {\r\n            if (parentOrientation === Orientation.VERTICAL) {\r\n\r\n                // other colors\r\n                vik =\r\n                    <Circle\r\n                        key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n                        onTap={() => { this.openModal() }}\r\n                        onClick={() => { this.openModal() }}\r\n                        radius={defectOptions.radius}\r\n                        x={parentX + (defectOptions.radius + defectOptions.centeringValue)}\r\n                        y={parentY + (defectOptions.radius + defectOptions.centeringValue + 12.5 * 2)}\r\n                        fill={source.color}\r\n                    />\r\n                    ;\r\n\r\n\r\n            } else {\r\n                // place 2 and orientation is horizontal\r\n\r\n                vik =\r\n                    <Circle\r\n                        key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n                        onTap={() => { this.openModal() }}\r\n                        onClick={() => { this.openModal() }}\r\n                        radius={defectOptions.radius}\r\n                        x={parentX + (defectOptions.radius + defectOptions.centeringValue + 12.5 * 2)}\r\n                        y={parentY + (defectOptions.radius + defectOptions.centeringValue)}\r\n                        fill={source.color}\r\n                    />\r\n                    ;\r\n\r\n            }\r\n        } else if (source.place === 3) {\r\n            if (parentOrientation === Orientation.VERTICAL) {\r\n                // place 3 and orientation is vertical\r\n\r\n                // other colors\r\n                vik =\r\n                    <Circle\r\n                        key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n                        onTap={() => { this.openModal() }}\r\n                        onClick={() => { this.openModal() }}\r\n                        radius={defectOptions.radius}\r\n                        x={parentX + (defectOptions.radius + defectOptions.centeringValue)}\r\n                        y={parentY + (defectOptions.radius + defectOptions.centeringValue + 12.5 * 4)}\r\n                        fill={source.color}\r\n                    />\r\n                    ;\r\n\r\n            } else {\r\n                // place 3 and orientations is horizontal\r\n\r\n                // other color\r\n                vik =\r\n                    <Circle\r\n                        key={'defect_circle_' + '_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.level + '_' + source.color}\r\n                        onTap={() => { this.openModal() }}\r\n                        onClick={() => { this.openModal() }}\r\n                        radius={defectOptions.radius}\r\n                        x={parentX + (defectOptions.radius + defectOptions.centeringValue + 12.5 * 4)}\r\n                        y={parentY + (defectOptions.radius + defectOptions.centeringValue)}\r\n                        fill={source.color}\r\n                    />\r\n                    ;\r\n\r\n            }\r\n        }\r\n\r\n        return vik;\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Text } from 'react-konva';\r\nimport IPlaceSignatureProps from './../Models/Components/IPlaceSignature/IPlaceSignatureProps';\r\nimport IPlaceSignatureState from './../Models/Components/IPlaceSignature/IPlaceSignatureState';\r\nimport Orientation from './../Models/Enums/Orientation';\r\nimport Emit from \"../Data/Emit\";\r\nimport PlaceSignatureItem from \"../Models/ArrayItems/PlaceSignatureItem\";\r\n\r\nexport default class PlaceSignature extends Component<IPlaceSignatureProps, IPlaceSignatureState> {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            parentKey: this.props.parentKey,\r\n            parentX: this.props.parentX,\r\n            parentY: this.props.parentY,\r\n            parentOrientation: this.props.parentOrientation,\r\n            parentDefects: this.props.parentDefects,\r\n            source: this.props.source,\r\n        };\r\n\r\n        this.openModal = this.openModal.bind(this);\r\n        this.thisForceUpdate = this.thisForceUpdate.bind(this);\r\n        this.forceSource = this.forceSource.bind(this);\r\n\r\n        Emit.Emitter.addListener('placeSignaturesForceUpdate', this.thisForceUpdate);\r\n        Emit.Emitter.addListener('placeSignaturesForceSource', this.forceSource);\r\n    }\r\n\r\n    public forceSource(parenKey: string, place: number, newSource: PlaceSignatureItem) {\r\n        if (parenKey === this.state.parentKey && place === this.state.source.place) {\r\n            this.setState({source: newSource});\r\n        }\r\n    }\r\n\r\n    public openModal() {\r\n        // Emit.Emitter.emit('defectBrowsePanelWorkerHandle', true);\r\n    }\r\n\r\n    public thisForceUpdate(parentKey: string, newParentX: number, newParentY: number) {\r\n        if (parentKey === this.state.parentKey) {\r\n            this.setState({parentX: newParentX, parentY: newParentY})\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { parentX, parentY, parentOrientation, source } = this.state;\r\n        let ps;\r\n        if (parentOrientation === Orientation.HORIZONTAL) {\r\n            if (source.place === 1) {\r\n                if (source.title.length === 1) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 9.5}\r\n                            y={parentY + 8}\r\n                            fontSize={11} fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else if (source.title.length === 2) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 6}\r\n                            y={parentY + 8}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else if (source.title.length > 2) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 5}\r\n                            y={parentY + 9}\r\n                            fontSize={9}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                }\r\n            } else if (source.place === 2) {\r\n                if (source.title.length === 1) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 34.5}\r\n                            y={parentY + 8}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else if (source.title.length === 2) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 31.5}\r\n                            y={parentY + 8}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else if (source.title.length > 2) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 30}\r\n                            y={parentY + 9}\r\n                            fontSize={9}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                }\r\n            } else {\r\n                if (source.title.length === 1) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 59}\r\n                            y={parentY + 8}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else if (source.title.length === 2) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 56.25}\r\n                            y={parentY + 8}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 55}\r\n                            y={parentY + 9}\r\n                            fontSize={9}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                }\r\n            }\r\n        } else {\r\n            if (source.place === 1) {\r\n                if (source.title.length === 1) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 9}\r\n                            y={parentY + 8}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else if (source.title.length === 2) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 6.25}\r\n                            y={parentY + 8}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else if (source.title.length > 2) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 5}\r\n                            y={parentY + 8}\r\n                            fontSize={9}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                }\r\n            } else if (source.place === 2) {\r\n                if (source.title.length === 1) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 9}\r\n                            y={parentY + 33}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else if (source.title.length === 2) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 6}\r\n                            y={parentY + 32.5}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else if (source.title.length > 2) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 5}\r\n                            y={parentY + 33}\r\n                            fontSize={9}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                }\r\n            } else {\r\n                if (source.title.length === 1) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 9.5}\r\n                            y={parentY + 57.55}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else if (source.title.length === 2) {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 6.5}\r\n                            y={parentY + 57.55}\r\n                            fontSize={11}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                } else {\r\n                    ps = <Text\r\n                            key={'place_signature_text_' + parentX + '_' + parentY + '_' + parentOrientation + '_' + source.place + '_' + source.title + '_' + source.title.length}\r\n                            onTap={() => { this.openModal() }}\r\n                            onClick={() => { this.openModal() }}\r\n                            x={parentX + 5}\r\n                            y={parentY + 59}\r\n                            fontSize={9}\r\n                            fill={'white'}\r\n                            text={source.title}\r\n                    />;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n        return ps;\r\n    }\r\n}","enum MapStillageType {\r\n    NORMAL_TOP = 'NORMAL_TOP',\r\n    NORMAL_BOTTOM = 'NORMAL_BOTTOM',\r\n    NORMAL_LEFT_VERT = 'NORMAL_LEFT_VERT',\r\n    NORMAL_RIGHT_VERT = 'NORMAL_RIGHT_VERT',\r\n\r\n    SMALL_TOP = 'SMALL_TOP',\r\n    SMALL_BOTTOM = 'SMALL_BOTTOM',\r\n    SMALL_LEFT_VERT = 'SMALL_LEFT_VERT',\r\n    SMALL_RIGHT_VERT = 'SMALL_RIGHT_VERT',\r\n\r\n}\r\n\r\nexport default MapStillageType;","import React, { Component } from 'react';\r\nimport { Rect, Text } from 'react-konva';\r\nimport ISignatureProps from './../Models/Components/Signature/ISignatureProps';\r\nimport ISignatureState from './../Models/Components/Signature/ISignatureState';\r\nimport Orientation from './../Models/Enums/Orientation';\r\nimport SignaturePosition from './../Models/Enums/SignaturePosition';\r\nimport StillageSize from './../Models/Enums/StillageSize/StillageSize';\r\nimport Emit from \"../Data/Emit\";\r\nimport SignatureItem from \"../Models/ArrayItems/SignatureItem\";\r\n\r\nexport default class Signature extends Component<ISignatureProps, ISignatureState> {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            parentKey: this.props.parentKey,\r\n            parentX: this.props.parentX,\r\n            parentY: this.props.parentY,\r\n            parentOrientation: this.props.parentOrientation,\r\n            parentSize: this.props.parentSize,\r\n            source: this.props.source,\r\n        };\r\n\r\n        this.thisForceUpdate = this.thisForceUpdate.bind(this);\r\n        this.signatureForceUpdate = this.signatureForceUpdate.bind(this);\r\n\r\n        Emit.Emitter.addListener('stillageSignatureForceUpdate', this.thisForceUpdate);\r\n        Emit.Emitter.addListener('signatureForceUpdate', this.signatureForceUpdate);\r\n    }\r\n\r\n    public signatureForceUpdate(parentKey: string, newSource: SignatureItem) {\r\n        if (parentKey === this.state.parentKey) {\r\n            this.setState({source: newSource});\r\n        }\r\n    }\r\n\r\n    public thisForceUpdate(parentKey: string, newParentX: number, newParentY: number) {\r\n        if (parentKey === this.state.parentKey) {\r\n            this.setState({parentX: newParentX, parentY: newParentY})\r\n        }\r\n    };\r\n\r\n    // public setStillageMoveEnabled(e) {\r\n    //     Emit.Emitter.emit('setIsShapeMoving', !this.state.isMoveEnabled);\r\n    //     this.setState({isMoveEnabled: !this.state.isMoveEnabled})\r\n    // }\r\n\r\n    render() {\r\n        const { parentX, parentY, parentOrientation, parentSize, source } = this.state;\r\n\r\n        let _x, _y, _width, _height = 0;\r\n        if (parentSize === StillageSize.NORMAL) {\r\n            if (parentOrientation === Orientation.VERTICAL) {\r\n                _width = 40;\r\n                _height = 76;\r\n                if (source.position === SignaturePosition.RIGHT) {\r\n                    _x = parentX;\r\n                    _y = parentY - 0.5;\r\n                } else if (source.position === SignaturePosition.LEFT) {\r\n                    _x = parentX - 15.5;\r\n                    _y = parentY - 0.5;\r\n                }\r\n            } else {\r\n                _width = 76;\r\n                _height = 40;\r\n                if (source.position === SignaturePosition.TOP) {\r\n                    _x = parentX - 0.5;\r\n                    _y = parentY - 15.5;\r\n                } else if (source.position === SignaturePosition.BOTTOM) {\r\n                    _x = parentX - 0.5;\r\n                    _y = parentY;\r\n                }\r\n            }\r\n        } else if (parentSize === StillageSize.SMALL) {\r\n            if (parentOrientation === Orientation.VERTICAL) {\r\n                _width = 40;\r\n                _height = 50;\r\n                if (source.position === SignaturePosition.RIGHT) {\r\n                    _x = parentX;\r\n                    _y = parentY - 0.5;\r\n                } else if (source.position === SignaturePosition.LEFT) {\r\n                    _x = parentX - 15.5;\r\n                    _y = parentY - 0.5;\r\n                }\r\n            } else {\r\n                _width = 50;\r\n                _height = 40;\r\n                if (source.position === SignaturePosition.TOP) {\r\n                    _x = parentX - 0.5;\r\n                    _y = parentY - 15.5;\r\n                } else if (source.position === SignaturePosition.BOTTOM) {\r\n                    _x = parentX - 0.5;\r\n                    _y = parentY;\r\n                }\r\n            }\r\n        }\r\n\r\n        let block = (\r\n            <Rect\r\n                key={'signature_rect' + '_' + parentX + '_' + parentY + '_' + parentSize + '_' + parentOrientation + '_' + source.position + '_' + source.title}\r\n                cornerRadius={4}\r\n                x={_x}\r\n                y={_y}\r\n                width={_width}\r\n                height={_height}\r\n                fill={'#dcdcdc'}\r\n                // onDblTap={}\r\n            />\r\n        );\r\n\r\n        _x = 0; _y = 0;\r\n        let _fontSize = 11;\r\n        if (parentSize === StillageSize.NORMAL) {\r\n            if (parentOrientation === Orientation.HORIZONTAL) {\r\n                if (source.position === SignaturePosition.TOP) {\r\n                    if (source.title.length === 1) {\r\n                        _x = parentX + 34.5;\r\n                        _y = parentY - 13;\r\n                    } else if (source.title.length === 2) {\r\n                        _x = parentX + 31;\r\n                        _y = parentY - 13;\r\n                    } else if (source.title.length > 2) {\r\n                        _x = parentX + 28;\r\n                        _y = parentY - 13;\r\n                    }\r\n                } else if (source.position === SignaturePosition.BOTTOM) {\r\n                    if (source.title.length === 1) {\r\n                        _x = parentX + 34.5;\r\n                        _y = parentY + 28;\r\n                    } else if (source.title.length === 2) {\r\n                        _x = parentX + 31;\r\n                        _y = parentY + 28;\r\n                    } else if (source.title.length > 2) {\r\n                        _x = parentX + 28;\r\n                        _y = parentY + 28;\r\n                    }\r\n                }\r\n            } else if (parentOrientation === Orientation.VERTICAL) {\r\n                if (source.position === SignaturePosition.LEFT) {\r\n                    if (source.title.length === 1) {\r\n                        _x = parentX - 11;\r\n                        _y = parentY + 33;\r\n                    } else if (source.title.length === 2) {\r\n                        _x = parentX - 15;\r\n                        _y = parentY + 33;\r\n                    } else if (source.title.length > 2) {\r\n                        _x = parentX - 15;\r\n                        _y = parentY + 34;\r\n                        _fontSize = 8;\r\n                    }\r\n                } else if (source.position === SignaturePosition.RIGHT) {\r\n                    if (source.title.length === 1) {\r\n                        _x = parentX + 29;\r\n                        _y = parentY + 33;\r\n                    } else if (source.title.length === 2) {\r\n                        _x = parentX + 26.5;\r\n                        _y = parentY + 33;\r\n                    } else if (source.title.length > 2) {\r\n                        _x = parentX + 26;\r\n                        _y = parentY + 34;\r\n                        _fontSize = 8;\r\n                    }\r\n                }\r\n            }\r\n        } else if (parentSize === StillageSize.SMALL) {\r\n            if (parentOrientation === Orientation.HORIZONTAL) {\r\n                if (source.position === SignaturePosition.TOP) {\r\n                    if (source.title.length === 1) {\r\n                        _x = parentX + 22;\r\n                        _y = parentY - 13;\r\n                    } else if (source.title.length === 2) {\r\n                        _x = parentX + 20;\r\n                        _y = parentY - 13;\r\n                    } else if (source.title.length > 2) {\r\n                        _x = parentX + 16;\r\n                        _y = parentY - 13;\r\n                    }\r\n                } else if (source.position === SignaturePosition.BOTTOM) {\r\n                    if (source.title.length === 1) {\r\n                        _x = parentX + 22;\r\n                        _y = parentY + 28;\r\n                    } else if (source.title.length === 2) {\r\n                        _x = parentX + 20;\r\n                        _y = parentY + 28;\r\n                    } else if (source.title.length > 2) {\r\n                        _x = parentX + 16;\r\n                        _y = parentY + 28;\r\n                    }\r\n                }\r\n            } else if (parentOrientation === Orientation.VERTICAL) {\r\n                if (source.position === SignaturePosition.LEFT) {\r\n                    if (source.title.length === 1) {\r\n                        _x = parentX - 11;\r\n                        _y = parentY + 20;\r\n                    } else if (source.title.length === 2) {\r\n                        _x = parentX - 14;\r\n                        _y = parentY + 20;\r\n                    } else if (source.title.length > 2) {\r\n                        _x = parentX - 14.5;\r\n                        _y = parentY + 23;\r\n                        _fontSize = 8;\r\n                    }\r\n                } else if (source.position === SignaturePosition.RIGHT) {\r\n                    if (source.title.length === 1) {\r\n                        _x = parentX + 29;\r\n                        _y = parentY + 20;\r\n                    } else if (source.title.length === 2) {\r\n                        _x = parentX + 26.5;\r\n                        _y = parentY + 20;\r\n                    } else if (source.title.length > 2) {\r\n                        _x = parentX + 26;\r\n                        _y = parentY + 20;\r\n                        _fontSize = 8;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        let title = (\r\n            <Text\r\n                key={'signature_text' + '_' + parentX + '_' + parentY + '_' + parentSize + '_' + parentOrientation + '_' + source.position + '_' + source.title}\r\n                x={_x}\r\n                y={_y}\r\n                text={source.title}\r\n                fill={'#333333'}\r\n                fontSize={_fontSize}\r\n            />\r\n        );\r\n\r\n        let results = [block, title]\r\n\r\n        return results;\r\n    }\r\n}","enum Vectors {\r\n    TOP = 'TOP',\r\n    LEFT = 'LEFT',\r\n    RIGHT = 'RIGHT',\r\n    BOTTOM = 'BOTTOM',\r\n}\r\n\r\nexport default Vectors;\r\n","enum LayerType {\r\n    ABSTRACTS = 'abstract',\r\n    STILLAGES = 'stillages',\r\n    SIGNATURES = 'signatures',\r\n    WALLS = 'walls',\r\n    LIGHTING = 'lighting',\r\n}\r\n\r\nexport default LayerType;\r\n","enum Position {\r\n    TOP = 'TOP',\r\n    LEFT = 'LEFT',\r\n    RIGHT = 'RIGHT',\r\n    BOTTOM = 'BOTTOM',\r\n}\r\n\r\nexport default Position;\r\n","import sort from 'fast-sort';\r\nimport bs from 'js-binary-search';\r\n\r\nimport StillageSizeReducer from \"../Models/Enums/StillageSize/StillageSizeReducer\";\r\nimport MapStillageType from \"../Models/Enums/MapStillageType\";\r\nimport Orientation from \"../Models/Enums/Orientation\";\r\nimport SignaturePosition from \"../Models/Enums/SignaturePosition\";\r\nimport StillageSize from \"../Models/Enums/StillageSize/StillageSize\";\r\nimport StillageItem from \"../Models/ArrayItems/StillageItem\";\r\nimport MapSourceLayer from \"../Models/MapSourceLayer\";\r\nimport {Arrow} from \"react-konva\";\r\nimport React from \"react\";\r\nimport Emit from \"../Data/Emit\";\r\nimport Vectors from \"../Models/Enums/Vectors\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport PlaceSignatureItem from \"../Models/ArrayItems/PlaceSignatureItem\";\r\n\r\nexport default class StillageService {\r\n\r\n    public stillageSizeReducer!: StillageSizeReducer;\r\n\r\n    public smallPlaceSignatures = [\r\n        {\r\n            place: 1,\r\n            title: '1',\r\n        },\r\n        {\r\n            place: 2,\r\n            title: '2',\r\n        },\r\n    ];\r\n\r\n    public bigPlaceSignatures = [\r\n        {\r\n            place: 1,\r\n            title: '1',\r\n        },\r\n        {\r\n            place: 2,\r\n            title: '2',\r\n        },\r\n        {\r\n            place: 3,\r\n            title: '3',\r\n        },\r\n    ];\r\n\r\n    constructor() {\r\n        this.stillageSizeReducer = new StillageSizeReducer();\r\n    }\r\n\r\n    public getStillageArrows(source: StillageItem): Array<JSX.Element> {\r\n        let arrows: Array<JSX.Element> = [];\r\n        if (source.orientation === Orientation.HORIZONTAL) {\r\n            if (source.signature!.position === SignaturePosition.TOP) {\r\n                return [\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_left_arrow'}\r\n                            x={source.x - 30}\r\n                            y={source.y + 5}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={-20}\r\n                            pointerWidth={-40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.LEFT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_right_arrow'}\r\n                            x={source.x + 105}\r\n                            y={source.y + 5}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.RIGHT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_top_arrow'}\r\n                            x={source.x + 47}\r\n                            y={source.y - 27}\r\n                            points={[-10, -10, -10, -20]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n                            // onMouseDown={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.TOP)}\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.TOP)}Ñ‘\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_bottom_arrow'}\r\n                            x={source.x + 38}\r\n                            y={source.y + 57}\r\n                            points={[0, -10, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.BOTTOM)}\r\n                        />\r\n                    )\r\n                ];\r\n            } else if (source.signature!.position === SignaturePosition.BOTTOM) {\r\n                return [\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_left_arrow'}\r\n                            x={source.x - 30}\r\n                            y={source.y + 20}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={-20}\r\n                            pointerWidth={-40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.LEFT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_right_arrow'}\r\n                            x={source.x + 105}\r\n                            y={source.y + 20}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.RIGHT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_top_arrow'}\r\n                            x={source.x + 47}\r\n                            y={source.y - 10}\r\n                            points={[-10, -10, -10, -20]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.TOP)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_bottom_arrow'}\r\n                            x={source.x + 38}\r\n                            y={source.y + 70}\r\n                            points={[0, -10, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.BOTTOM)}\r\n                        />\r\n                    )\r\n                ];\r\n            }\r\n        } else {\r\n            if (source.signature!.position === SignaturePosition.LEFT) {\r\n                return [\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_left_arrow'}\r\n                            x={source.x - 50}\r\n                            y={source.y + 35}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={-20}\r\n                            pointerWidth={-40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.LEFT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_right_arrow'}\r\n                            x={source.x + 60}\r\n                            y={source.y + 35}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.RIGHT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_top_arrow'}\r\n                            x={source.x + 15}\r\n                            y={source.y - 10}\r\n                            points={[-10, -10, -10, -20]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.TOP)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_bottom_arrow'}\r\n                            x={source.x + 7}\r\n                            y={source.y + 105}\r\n                            points={[0, -10, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.BOTTOM)}\r\n                        />\r\n                    )\r\n                ];\r\n            } else if (source.signature!.position === SignaturePosition.RIGHT) {\r\n                return [\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_left_arrow'}\r\n                            x={source.x - 35}\r\n                            y={source.y + 35}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={-20}\r\n                            pointerWidth={-40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.LEFT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_right_arrow'}\r\n                            x={source.x + 75}\r\n                            y={source.y + 35}\r\n                            points={[0, 0, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.RIGHT)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_top_arrow'}\r\n                            x={source.x + 27}\r\n                            y={source.y - 10}\r\n                            points={[-10, -10, -10, -20]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.TOP)}\r\n                        />\r\n                    ),\r\n                    (\r\n                        <Arrow\r\n                            key={source.key + '_bottom_arrow'}\r\n                            x={source.x + 20}\r\n                            y={source.y + 105}\r\n                            points={[0, -10, 0, 0]}\r\n                            pointerLength={20}\r\n                            pointerWidth={40}\r\n                            fill={'#E0E0E0'}\r\n                            stroke={'#2f00ff'}\r\n                            strokeWidth={0.5}\r\n\r\n                            onClick={() => Emit.Emitter.emit('moveShapeByStep', source, LayerType.STILLAGES, Vectors.BOTTOM)}\r\n                        />\r\n                    )\r\n                ];\r\n            }\r\n        }\r\n        return [];\r\n    }\r\n\r\n    public getStillageSourceItem(selectedLayer: MapSourceLayer, coords: { x: number, y: number }, type: MapStillageType) {\r\n        let _id = 0; let _key = '';\r\n        sort(selectedLayer.stillages!).asc(e => e.id);\r\n        if (selectedLayer.stillages!.length !== 0) {\r\n            _id = selectedLayer.stillages![selectedLayer.stillages!.length - 1].id;\r\n        }\r\n        _id++;\r\n        _key = selectedLayer.key + '_stillage_' + _id.toString();\r\n        switch (type) {\r\n            case MapStillageType.NORMAL_BOTTOM: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 76,\r\n                    height: 49.5,\r\n                    orientation: Orientation.HORIZONTAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.BOTTOM,\r\n                    },\r\n                    size: StillageSize.NORMAL,\r\n                    placeSignatures: this.bigPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.NORMAL_TOP: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 76,\r\n                    height: 49.5,\r\n                    orientation: Orientation.HORIZONTAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.TOP,\r\n                    },\r\n                    size: StillageSize.NORMAL,\r\n                    placeSignatures: this.bigPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.NORMAL_LEFT_VERT: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 49.5,\r\n                    height: 76,\r\n                    orientation: Orientation.VERTICAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.LEFT,\r\n                    },\r\n                    size: StillageSize.NORMAL,\r\n                    placeSignatures: this.bigPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.NORMAL_RIGHT_VERT: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 49.5,\r\n                    height: 76,\r\n                    orientation: Orientation.VERTICAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.RIGHT,\r\n                    },\r\n                    size: StillageSize.NORMAL,\r\n                    placeSignatures: this.bigPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.SMALL_BOTTOM: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 50,\r\n                    height: 49.5,\r\n                    orientation: Orientation.HORIZONTAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.BOTTOM,\r\n                    },\r\n                    size: StillageSize.SMALL,\r\n                    placeSignatures: this.smallPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.SMALL_TOP: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 50,\r\n                    height: 49.5,\r\n                    orientation: Orientation.HORIZONTAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.TOP,\r\n                    },\r\n                    size: StillageSize.SMALL,\r\n                    placeSignatures: this.smallPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.SMALL_LEFT_VERT: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 49.5,\r\n                    height: 50,\r\n                    orientation: Orientation.VERTICAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.LEFT,\r\n                    },\r\n                    size: StillageSize.SMALL,\r\n                    placeSignatures: this.smallPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n            case MapStillageType.SMALL_RIGHT_VERT: {\r\n                return {\r\n                    id: _id,\r\n                    key: _key,\r\n                    x: coords.x,\r\n                    y: coords.y,\r\n                    width: 49.5,\r\n                    height: 50,\r\n                    orientation: Orientation.VERTICAL,\r\n                    signature: {\r\n                        title: '1',\r\n                        position: SignaturePosition.RIGHT,\r\n                    },\r\n                    size: StillageSize.SMALL,\r\n                    placeSignatures: this.smallPlaceSignatures,\r\n                    viks: []\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    public getStillagePlaceSignatures(stillageSize: StillageSize, parentExtremePSTitle: string, toMin: boolean): Array<PlaceSignatureItem> {\r\n        let parsedTitle = parseInt(parentExtremePSTitle);\r\n        if (stillageSize === StillageSize.NORMAL) {\r\n            if (toMin) {\r\n                return [\r\n                    {\r\n                        place: 1,\r\n                        title: (parsedTitle - 3).toString()\r\n                    },\r\n                    {\r\n                        place: 2,\r\n                        title: (parsedTitle - 2).toString()\r\n                    },\r\n                    {\r\n                        place: 3,\r\n                        title: (parsedTitle - 1).toString()\r\n                    }\r\n                ];\r\n            } else {\r\n                return [\r\n                    {\r\n                        place: 1,\r\n                        title: (parsedTitle + 1).toString()\r\n                    },\r\n                    {\r\n                        place: 2,\r\n                        title: (parsedTitle + 2).toString()\r\n                    },\r\n                    {\r\n                        place: 3,\r\n                        title: (parsedTitle + 3).toString()\r\n                    }\r\n                ];\r\n            }\r\n        } else if (stillageSize === StillageSize.SMALL) {\r\n            if (toMin) {\r\n\r\n            } else {\r\n\r\n            }\r\n        }\r\n        return [];\r\n    }\r\n\r\n    public stillageSearchByID(stillagesList: Array<StillageItem>, id: number) {\r\n        return bs.search_in_associative(stillagesList, 'id', id);\r\n    }\r\n\r\n    // public getStillageSize() {\r\n    //     let width, height = 0;\r\n    //     if (this.props.source.orientation === Orientation.HORIZONTAL) {\r\n    //         if (this.props.source.size === StillageSize.NORMAL) {\r\n    //             width = 76;\r\n    //             height = 49.5;\r\n    //         } else {\r\n    //             width = 50;\r\n    //             height = 49.5;\r\n    //         }\r\n    //     } else {\r\n    //         if (this.props.source.size === StillageSize.NORMAL) {\r\n    //             width = 49.5;\r\n    //             height = 76;\r\n    //         } else {\r\n    //             width = 49.5;\r\n    //             height = 50;\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n}","import React from 'react';\r\nimport IDeleteCircleProps from \"../../Models/Components/DeleteCircle/IDeleteCircleProps\";\r\nimport IDeleteCircleState from \"../../Models/Components/DeleteCircle/IDeleteCircleState\";\r\nimport {Circle, Text} from \"react-konva\";\r\nimport LayerType from \"../../Models/Enums/LayerType\";\r\nimport Orientation from \"../../Models/Enums/Orientation\";\r\nimport SignaturePosition from \"../../Models/Enums/SignaturePosition\";\r\nimport Emit from \"../../Data/Emit\";\r\n\r\nexport default class DeleteCircle extends React.Component<IDeleteCircleProps, IDeleteCircleState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source,\r\n            parentType: this.props.parentType,\r\n        };\r\n        this.deleteShape = this.deleteShape.bind(this);\r\n    }\r\n\r\n    public deleteShape(type: LayerType) {\r\n        Emit.Emitter.emit('deleteShapeFromLayer', type, this.state.source.id);\r\n    }\r\n\r\n    render() {\r\n        const { source, parentType } = this.state;\r\n        let deleteCircle;\r\n        let deleteCross;\r\n\r\n        if (parentType === LayerType.STILLAGES) {\r\n            if (source.signature.position === SignaturePosition.BOTTOM || source.signature.position === SignaturePosition.RIGHT) {\r\n                deleteCircle = (\r\n                    <Circle\r\n                        key={source.key + '_deleteCircle_circle'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        radius={10}\r\n                        x={source.x - 10}\r\n                        y={source.y - 20}\r\n                        fill={'#E0E0E0'}\r\n                    />\r\n                );\r\n                deleteCross = (\r\n                    <Text\r\n                        key={source.key + '_deleteCircle_deleteCross'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        text={'x'}\r\n                        x={source.x - 15}\r\n                        y={source.y - 27}\r\n                        fontSize={16}\r\n                        height={100}\r\n                        fontStyle={'bold'}\r\n                        fill={'red'}\r\n                    />\r\n                );\r\n            } else if (source.orientation === Orientation.HORIZONTAL && source.signature.position === SignaturePosition.TOP) {\r\n                deleteCircle = (\r\n                    <Circle\r\n                        key={source.key + '_deleteCircle_circle'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        radius={10}\r\n                        x={source.x - 10}\r\n                        y={source.y - 35}\r\n                        fill={'#E0E0E0'}\r\n                    />\r\n                );\r\n                deleteCross = (\r\n                    <Text\r\n                        key={source.key + '_deleteCircle_deleteCross'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        text={'x'}\r\n                        x={source.x - 15}\r\n                        y={source.y - 42}\r\n                        fontSize={16}\r\n                        height={100}\r\n                        fontStyle={'bold'}\r\n                        fill={'red'}\r\n                    />\r\n                );\r\n            } else if (source.orientation === Orientation.VERTICAL && source.signature.position === SignaturePosition.LEFT) {\r\n                deleteCircle = (\r\n                    <Circle\r\n                        key={source.key + '_deleteCircle_circle'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        radius={10}\r\n                        x={source.x - 35}\r\n                        y={source.y - 10}\r\n                        fill={'#E0E0E0'}\r\n                    />\r\n                );\r\n                deleteCross = (\r\n                    <Text\r\n                        key={source.key + '_deleteCircle_deleteCross'}\r\n                        onTap={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        onClick={() => { this.deleteShape(LayerType.STILLAGES) }}\r\n                        text={'x'}\r\n                        x={source.x - 40}\r\n                        y={source.y - 17}\r\n                        fontSize={16}\r\n                        height={100}\r\n                        fontStyle={'bold'}\r\n                        fill={'red'}\r\n                    />\r\n                );\r\n            }\r\n        } else if (parentType === LayerType.LIGHTING) {\r\n            deleteCircle = (\r\n                <Circle\r\n                    key={source.key + '_deleteCircle_circle'}\r\n                    onTap={() => { this.deleteShape(LayerType.LIGHTING) }}\r\n                    onClick={() => { this.deleteShape(LayerType.LIGHTING) }}\r\n                    radius={10}\r\n                    x={source.x - 10}\r\n                    y={source.y - 20}\r\n                    fill={'#E0E0E0'}\r\n                />\r\n            );\r\n            deleteCross = (\r\n                <Text\r\n                    key={source.key + '_deleteCircle_deleteCross'}\r\n                    onTap={() => { this.deleteShape(LayerType.LIGHTING) }}\r\n                    onClick={() => { this.deleteShape(LayerType.LIGHTING) }}\r\n                    text={'x'}\r\n                    x={source.x - 15}\r\n                    y={source.y - 27}\r\n                    fontSize={16}\r\n                    height={100}\r\n                    fontStyle={'bold'}\r\n                    fill={'red'}\r\n                />\r\n            );\r\n        } else if (parentType === LayerType.WALLS) {\r\n            deleteCircle = (\r\n                <Circle\r\n                    key={source.key + '_deleteCircle_circle'}\r\n                    onTap={() => { this.deleteShape(LayerType.WALLS) }}\r\n                    onClick={() => { this.deleteShape(LayerType.WALLS) }}\r\n                    radius={10}\r\n                    x={source.startX - 15}\r\n                    y={source.startY - 25}\r\n                    fill={'#E0E0E0'}\r\n                />\r\n            );\r\n            deleteCross = (\r\n                <Text\r\n                    key={source.key + '_deleteCircle_deleteCross'}\r\n                    onTap={() => { this.deleteShape(LayerType.WALLS) }}\r\n                    onClick={() => { this.deleteShape(LayerType.WALLS) }}\r\n                    text={'x'}\r\n                    x={source.startX - 20}\r\n                    y={source.startY - 32}\r\n                    fontSize={16}\r\n                    height={100}\r\n                    fontStyle={'bold'}\r\n                    fill={'red'}\r\n                />\r\n            );\r\n        }\r\n        return [deleteCircle, deleteCross];\r\n    }\r\n}","enum LabelButtonMode {\r\n    ADD = 'ADD',\r\n    DELETE = 'DELETE',\r\n}\r\n\r\nexport default LabelButtonMode;\r\n","import React from 'react';\r\nimport IAddCircleProps from \"../../Models/Components/AddCircle/IAddCircleProps\";\r\nimport IAddCircleState from \"../../Models/Components/AddCircle/IAddCircleState\";\r\nimport LayerType from \"../../Models/Enums/LayerType\";\r\nimport {Circle, Text} from \"react-konva\";\r\nimport Orientation from \"../../Models/Enums/Orientation\";\r\nimport SignaturePosition from \"../../Models/Enums/SignaturePosition\";\r\nimport Emit from \"../../Data/Emit\";\r\nimport Position from \"../../Models/Enums/Position\";\r\n\r\nexport default class AddCircle extends React.Component<IAddCircleProps, IAddCircleState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source,\r\n            mapStillages: this.props.mapStillages,\r\n            parentType: this.props.parentType\r\n        };\r\n        this.addCircleClickAction = this.addCircleClickAction.bind(this);\r\n    }\r\n\r\n    public addCircleClickAction(type: LayerType, position: Position) {\r\n        Emit.Emitter.emit('addSameShape', type, this.state.source, position);\r\n    }\r\n\r\n    render() {\r\n        const {source, mapStillages, parentType} = this.state;\r\n        let fAddCircle, sAddCircle, fAddCircleText, sAddCircleText;\r\n        // TODO: Small stillages\r\n        let firstSideCheck, secondSideCheck = false;\r\n        if (parentType === LayerType.STILLAGES) {\r\n            if (source.orientation === Orientation.HORIZONTAL) {\r\n                if (source.signature.position === SignaturePosition.TOP) {\r\n                    firstSideCheck = false;\r\n                    secondSideCheck = false;\r\n                    for (let i = 0; i < mapStillages.length; i++) {\r\n                        if ((mapStillages[i].x >= (source.x - 80) && mapStillages[i].x < source.x)\r\n                            && (mapStillages[i].y <= (source.y + 25) && mapStillages[i].y >= source.y)) {\r\n                            firstSideCheck = true;\r\n                        }\r\n                        if ((mapStillages[i].x > (source.x + 75) && mapStillages[i].x <= (source.x + 75 + 80))\r\n                            && (mapStillages[i].y <= (source.y + 25) && mapStillages[i].y >= source.y)) {\r\n                            secondSideCheck = true;\r\n                        }\r\n                    }\r\n                    if (!firstSideCheck) {\r\n                        fAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x - 20}\r\n                                y={source.y + 7}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        fAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x - 24.5}\r\n                                y={source.y + 1}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                    if (!secondSideCheck) {\r\n                        sAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 95}\r\n                                y={source.y + 7}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        sAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 90.5}\r\n                                y={source.y + 1}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                } else {\r\n                    firstSideCheck = false;\r\n                    secondSideCheck = false;\r\n                    for (let i = 0; i < mapStillages.length; i++) {\r\n                        if ((mapStillages[i].x >= (source.x - 80) && mapStillages[i].x < source.x)\r\n                            && (mapStillages[i].y <= (source.y + 25) && mapStillages[i].y >= source.y)) {\r\n                            firstSideCheck = true;\r\n                        }\r\n                        if ((mapStillages[i].x > (source.x + 75) && mapStillages[i].x <= (source.x + 75 + 80))\r\n                            && (mapStillages[i].y <= (source.y + 25) && mapStillages[i].y >= source.y)) {\r\n                            secondSideCheck = true;\r\n                        }\r\n                    }\r\n                    if (!firstSideCheck) {\r\n                        fAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x - 20}\r\n                                y={source.y + 15}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        fAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.LEFT)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x - 24.5}\r\n                                y={source.y + 9}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                    if (!secondSideCheck) {\r\n                        sAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 95}\r\n                                y={source.y + 15}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        sAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.RIGHT)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 90.5}\r\n                                y={source.y + 9}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                }\r\n            } else {\r\n                if (source.signature.position === SignaturePosition.LEFT) {\r\n                    firstSideCheck = false;\r\n                    secondSideCheck = false;\r\n                    for (let i = 0; i < mapStillages.length; i++) {\r\n                        if ((mapStillages[i].y >= (source.y - 80) && mapStillages[i].y < source.y)\r\n                            && (mapStillages[i].x <= (source.x + 25) && mapStillages[i].x >= source.x)) {\r\n                            firstSideCheck = true;\r\n                        }\r\n                        if ((mapStillages[i].y > (source.y + 75) && mapStillages[i].y <= (source.y + 75 + 80))\r\n                            && (mapStillages[i].x <= (source.x + 25) && mapStillages[i].x >= source.x)) {\r\n                            secondSideCheck = true;\r\n                        }\r\n                    }\r\n                    if (!firstSideCheck) {\r\n                        fAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 6}\r\n                                y={source.y - 20}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        fAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 1.05}\r\n                                y={source.y - 26}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n\r\n                    if (!secondSideCheck) {\r\n                        sAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 6}\r\n                                y={source.y + 95}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        sAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 1.05}\r\n                                y={source.y + 89}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                } else if (source.signature.position === SignaturePosition.RIGHT) {\r\n                    for (let i = 0; i < mapStillages.length; i++) {\r\n                        if ((mapStillages[i].y >= (source.y - 80) && mapStillages[i].y < source.y)\r\n                            && (mapStillages[i].x <= (source.x + 25) && mapStillages[i].x >= source.x)) {\r\n                            firstSideCheck = true;\r\n                        }\r\n                        if ((mapStillages[i].y > (source.y + 75) && mapStillages[i].y <= (source.y + 75 + 80))\r\n                            && (mapStillages[i].x <= (source.x + 25) && mapStillages[i].x >= source.x)) {\r\n                            secondSideCheck = true;\r\n                        }\r\n                    }\r\n                    if (!firstSideCheck) {\r\n                        fAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 15}\r\n                                y={source.y - 20}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        fAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_first'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.TOP)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 10.05}\r\n                                y={source.y - 26}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n\r\n                    if (!secondSideCheck) {\r\n                        sAddCircle = (\r\n                            <Circle\r\n                                key={source.key + '_addCircle_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                radius={10}\r\n                                x={source.x + 15}\r\n                                y={source.y + 95}\r\n                                fill={'#E0E0E0'}\r\n                            />\r\n                        );\r\n                        sAddCircleText = (\r\n                            <Text\r\n                                key={source.key + '_addCircle_plus_second'}\r\n                                onTap={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                onClick={() => {\r\n                                    this.addCircleClickAction(LayerType.STILLAGES, Position.BOTTOM)\r\n                                }}\r\n                                text={'+'}\r\n                                x={source.x + 10.05}\r\n                                y={source.y + 89}\r\n                                fontSize={16}\r\n                                height={100}\r\n                                fontStyle={'bold'}\r\n                                fill={'green'}\r\n                            />\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return [fAddCircle, sAddCircle, fAddCircleText, sAddCircleText];\r\n    }\r\n}","import React, {isValidElement} from 'react';\r\nimport Konva from 'konva';\r\nimport {Rect} from 'react-konva';\r\nimport IStillageProps from './../Models/Components/Stillage/IStillageProps';\r\nimport IStillageState from './../Models/Components/Stillage/IStillageState';\r\nimport Orientation from './../Models/Enums/Orientation';\r\nimport StillageSizeReducer from './../Models/Enums/StillageSize/StillageSizeReducer';\r\nimport StillageColors from '../Models/Enums/Colors/StillageColors';\r\nimport Defect from './Defect';\r\nimport PlaceSignature from './PlaceSignature';\r\nimport Signature from './SIgnature';\r\nimport StillageSize from \"../Models/Enums/StillageSize/StillageSize\";\r\nimport Emit from \"../Data/Emit\";\r\nimport StillageService from \"../Services/StillageService\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport DeleteCircle from \"./Stage/DeleteCircle\";\r\nimport AddCircle from \"./Stage/AddCircle\";\r\nimport PlaceSignatureItem from \"../Models/ArrayItems/PlaceSignatureItem\";\r\nimport SignatureItem from \"../Models/ArrayItems/SignatureItem\";\r\n\r\n\r\nexport default class Stillage extends React.Component<IStillageProps, IStillageState> {\r\n    public stillageService!: StillageService;\r\n    constructor(props) {\r\n        super(props);\r\n        this.stillageService = new StillageService();\r\n        let width, height = 0;\r\n        if (this.props.source.orientation === Orientation.HORIZONTAL) {\r\n            if (this.props.source.size === StillageSize.NORMAL) {\r\n                width = 76;\r\n                height = 49.5;\r\n            } else {\r\n                width = 50;\r\n                height = 49.5;\r\n            }\r\n        } else {\r\n            if (this.props.source.size === StillageSize.NORMAL) {\r\n                width = 49.5;\r\n                height = 76;\r\n            } else {\r\n                width = 49.5;\r\n                height = 50;\r\n            }\r\n        }\r\n        this.props.source.width = width;\r\n        this.props.source.height = height;\r\n        this.state = {\r\n            source: this.props.source,\r\n            mapStillages: this.props.mapStillages,\r\n            isMoveEnabled: false,\r\n            isAdding: false,\r\n        };\r\n        this.setStillageMoveEnabled = this.setStillageMoveEnabled.bind(this);\r\n        this.setStillageMoveNow = this.setStillageMoveNow.bind(this);\r\n        this.isAddingChange = this.isAddingChange.bind(this);\r\n        this.setIsAddingChange = this.setIsAddingChange.bind(this);\r\n        this.placeSignaturesForceUpdate = this.placeSignaturesForceUpdate.bind(this);\r\n        this.signaturesForceUpdate = this.signaturesForceUpdate.bind(this);\r\n\r\n        Emit.Emitter.addListener('stillageIsAddingChange', this.isAddingChange);\r\n        Emit.Emitter.addListener('forceSetIsAddingChange', this.setIsAddingChange);\r\n        Emit.Emitter.addListener('placeSignatureForceUpdate', this.placeSignaturesForceUpdate);\r\n        Emit.Emitter.addListener('signaturesForceUpdate', this.signaturesForceUpdate);\r\n    }\r\n\r\n    public placeSignaturesForceUpdate(key: string, newPlaces: Array<PlaceSignatureItem>) {\r\n        // Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¿Ð¾Ð´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð¼ÐµÑ€Ð¾Ð² Ð¼ÐµÑÑ‚ Ð¿Ñ€Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ð¸ ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð°\r\n        const {source} = this.state;\r\n        if (key === this.state.source.key) {\r\n            source.placeSignatures = newPlaces;\r\n            for (let i = 0; i < newPlaces.length; i++) {\r\n                Emit.Emitter.emit('placeSignaturesForceSource', source.key, newPlaces[i].place, newPlaces[i]);\r\n            }\r\n            this.forceUpdate(() => this.setState({source}));\r\n        }\r\n    }\r\n\r\n    public signaturesForceUpdate(key: string, newSignature: SignatureItem) {\r\n        const {source} = this.state;\r\n        if (key === this.state.source.key) {\r\n            source.signature = newSignature;\r\n            Emit.Emitter.emit('signatureForceUpdate', source.key, newSignature);\r\n            this.setState({source});\r\n        }\r\n    }\r\n\r\n    public setIsAddingChange(value: boolean) {\r\n        this.forceUpdate(() => this.setState({isAdding: value}));\r\n    }\r\n\r\n    public isAddingChange() {\r\n        this.setState({isAdding: !this.state.isAdding});\r\n    }\r\n\r\n    public setStillageMoveEnabled(e) {\r\n        Emit.Emitter.emit('setIsShapeMoving', !this.state.isMoveEnabled);\r\n        this.setState({isMoveEnabled: !this.state.isMoveEnabled})\r\n    }\r\n\r\n    public setStillageMoveNow(e, value: boolean) {\r\n        if (e.evt.which === 1) {\r\n            Emit.Emitter.emit('setIsShapeMovingNow', value, {\r\n                type: LayerType.STILLAGES,\r\n                shape: this.state.source\r\n            });\r\n        }\r\n    }\r\n\r\n    handleDragStart = e => {\r\n        e.target.setAttrs({\r\n            shadowOffset: {\r\n                x: 2,\r\n                y: 2\r\n            },\r\n            shadowColor: 'grey',\r\n            scaleX: 1.1,\r\n            scaleY: 1.1\r\n        });\r\n    };\r\n\r\n    handleDragEnd = e => {\r\n        e.target.to({\r\n            duration: 0.5,\r\n            easing: Konva.Easings.ElasticEaseOut,\r\n            scaleX: 1,\r\n            scaleY: 1,\r\n            shadowOffset: null,\r\n            shadowColor: 'white',\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { source } = this.state;\r\n        const stillageSizeReducer = new StillageSizeReducer();\r\n        let stillage;\r\n        let deleteCircle;\r\n        let addCircles;\r\n        let viks: Array<JSX.Element> = [];\r\n        let placeSignatures: Array<JSX.Element> = [];\r\n        let signature;\r\n        let stillageSR = new StillageSizeReducer();\r\n        let stillageMoveArrows: Array<JSX.Element> = [];\r\n\r\n        if (this.state.isAdding) {\r\n              addCircles = (\r\n                <AddCircle\r\n                    key={source.key + '_addCircle'}\r\n                    source={source}\r\n                    mapStillages={this.state.mapStillages}\r\n                    parentType={LayerType.STILLAGES}\r\n                />\r\n            );\r\n        }\r\n\r\n        if (this.state.isMoveEnabled) {\r\n            stillageMoveArrows = this.stillageService.getStillageArrows(this.state.source);\r\n            deleteCircle = (\r\n                <DeleteCircle\r\n                    key={source.key + '_deleteCircle'}\r\n                    source={source}\r\n                    parentType={LayerType.STILLAGES}\r\n                />\r\n            );\r\n        }\r\n\r\n        if (source.signature !== undefined) {\r\n            signature =\r\n                <Signature\r\n                    parentKey={source.key}\r\n                    key={source.key + '_signature'}\r\n                    parentX={source.x}\r\n                    parentY={source.y}\r\n                    parentOrientation={source.orientation}\r\n                    parentSize={source.size}\r\n                    source={source.signature}\r\n                />\r\n            ;\r\n        }\r\n\r\n        if (source.placeSignatures !== undefined) {\r\n            let i = 0;\r\n            source.placeSignatures.forEach(element => {\r\n                placeSignatures.push(\r\n                    <PlaceSignature\r\n                        parentKey={source.key}\r\n                        key={source.key + '_placeSignature_' + (i++)}\r\n                        parentX={source.x}\r\n                        parentY={source.y}\r\n                        parentDefects={source.viks!}\r\n                        parentOrientation={source.orientation}\r\n                        source={element}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n\r\n        if (source.viks !== undefined) {\r\n            let i = 0;\r\n            source.viks!.forEach(element => {\r\n                viks.push(\r\n                    <Defect\r\n                        parentKey={source.key}\r\n                        key={source.key + '_defect_' + (i++)}\r\n                        parentX={source.x}\r\n                        parentY={source.y}\r\n                        parentOrientation={source.orientation}\r\n                        source={element}\r\n                    />\r\n                );\r\n            });\r\n        }\r\n\r\n        if (source.orientation === Orientation.HORIZONTAL) {\r\n            stillage = (\r\n                <Rect\r\n                    key={source.key + '_rect'}\r\n                    // move actions\r\n                    onDblTap={(e) => this.setStillageMoveEnabled(e)}\r\n                    onDblClick={(e) => this.setStillageMoveEnabled(e)}\r\n                    onMouseDown={(e) => this.setStillageMoveNow(e, true)}\r\n                    onTouchStart={(e) => this.setStillageMoveNow(e, true)}\r\n                    onMouseUp={(e) => this.setStillageMoveNow(e, false)}\r\n                    onTouchEnd={(e) => this.setStillageMoveNow(e, false)}\r\n                    onClick={(e) => {\r\n                        Emit.Emitter.emit('mapShapeClickEmit', e.evt.which, e.evt, source.id, LayerType.STILLAGES);\r\n                        // console.error(e.evt.which);\r\n                    }}\r\n                    // ____\r\n                    x={source.x}\r\n                    y={source.y}\r\n                    width={stillageSizeReducer.GetSize(source.size).firstSide}\r\n                    height={stillageSizeReducer.GetSize(source.size).secondSide}\r\n                    fill={StillageColors.STILLAGE_NORMAL}\r\n                    strokeWidth={1} // border width\r\n                    stroke={StillageColors.STILLAGE_NORMAL_STROKE}\r\n                    onDragStart={this.handleDragStart}\r\n                    onDragEnd={this.handleDragEnd}\r\n                />\r\n            );\r\n        } else if (source.orientation === Orientation.VERTICAL) {\r\n            stillage = (\r\n                <Rect\r\n                    key={source.key + '_rect'}\r\n                    // move actions\r\n                    onDblTap={(e) => this.setStillageMoveEnabled(e)}\r\n                    onDblClick={(e) => this.setStillageMoveEnabled(e)}\r\n                    onMouseDown={(e) => this.setStillageMoveNow(e, true)}\r\n                    onTouchStart={(e) => this.setStillageMoveNow(e, true)}\r\n                    onMouseUp={(e) => this.setStillageMoveNow(e, false)}\r\n                    onTouchEnd={(e) => this.setStillageMoveNow(e, false)}\r\n                    // ____\r\n                    x={source.x}\r\n                    y={source.y}\r\n                    width={stillageSizeReducer.GetSize(source.size).secondSide}\r\n                    height={stillageSizeReducer.GetSize(source.size).firstSide}\r\n                    fill={StillageColors.STILLAGE_NORMAL}\r\n                    strokeWidth={1} // border width\r\n                    stroke={StillageColors.STILLAGE_NORMAL_STROKE}\r\n                    onDragStart={this.handleDragStart}\r\n                    onDragEnd={this.handleDragEnd}\r\n                />\r\n            );\r\n        }\r\n\r\n        return [\r\n            addCircles,\r\n            signature,\r\n            stillage,\r\n            viks,\r\n            placeSignatures,\r\n            stillageMoveArrows,\r\n            deleteCircle,\r\n\r\n        ];\r\n    }\r\n}\r\n","import React from 'react';\r\nimport {Circle} from \"react-konva\";\r\nimport ILabelButtonProps from \"../../Models/Components/LabelButton/ILabelButtonProps\";\r\nimport ILabelButtonState from \"../../Models/Components/LabelButton/ILabelButtonState\";\r\nimport Orientation from \"../../Models/Enums/Orientation\";\r\n// import AppState from \"../../Data/AppState\";\r\nimport Emit from \"../../Data/Emit\";\r\n\r\nexport default class LabelButton extends React.Component<ILabelButtonProps, ILabelButtonState> {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            sourceKey: this.props.sourceKey,\r\n            parentX: this.props.parentX,\r\n            parentY: this.props.parentY,\r\n            objectSource: this.props.objectSource,\r\n            labelMode: this.props.labelMode,\r\n        }\r\n    }\r\n\r\n    public OnMouseHandler(e, type, isStart: boolean) {\r\n        switch (type) {\r\n            case 'down': Emit.Emitter.emit('wallLabelButtonInteractionWayDown', e, this.state.objectSource, isStart); break;\r\n            case 'up': Emit.Emitter.emit('wallLabelButtonInteractionWayUp', e, this.state.objectSource, isStart); break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { sourceKey, parentX, parentY, objectSource, labelMode } = this.state;\r\n        let startLabelButton, endLabelButton;\r\n        if (objectSource !== undefined) {\r\n            if (objectSource.orientation === Orientation.HORIZONTAL) {\r\n                startLabelButton = (\r\n                    <Circle\r\n                        key={sourceKey + '_startLabelButton_horizontal'}\r\n                        radius={10.5}\r\n                        x={parentX}\r\n                        y={parentY + 5}\r\n                        strokeWidth={0.5}\r\n                        stroke={'#2f00ff'}\r\n                        fill={'#E0E0E0'}\r\n\r\n                        onMouseDown={(e) => {this.OnMouseHandler(e, 'down', true)}}\r\n                        onTouchStart={(e) => {this.OnMouseHandler(e, 'down', true)}}\r\n                        onMouseUp={(e) => {this.OnMouseHandler(e, 'up', true)}}\r\n                        onTouchEnd={(e) => {this.OnMouseHandler(e, 'up', true)}}\r\n                    />\r\n                );\r\n                endLabelButton = (\r\n                    <Circle\r\n                        key={sourceKey + '_endLabelButton_horizontal'}\r\n                        radius={10.5}\r\n                        x={parentX + objectSource.length}\r\n                        y={parentY + 5}\r\n                        strokeWidth={0.5}\r\n                        stroke={'#2f00ff'}\r\n                        fill={'#E0E0E0'}\r\n\r\n                        onMouseDown={(e) => {this.OnMouseHandler(e, 'down', false)}}\r\n                        onTouchStart={(e) => {this.OnMouseHandler(e, 'down', false)}}\r\n                        onMouseUp={(e) => {this.OnMouseHandler(e, 'up', false)}}\r\n                        onTouchEnd={(e) => {this.OnMouseHandler(e, 'up', false)}}\r\n                    />\r\n                );\r\n            } else if (objectSource.orientation === Orientation.VERTICAL) {\r\n                startLabelButton = (\r\n                    <Circle\r\n                        key={sourceKey + '_startLabelButton_vertical'}\r\n                        radius={10.5}\r\n                        x={parentX + 5}\r\n                        y={parentY - 8}\r\n                        strokeWidth={0.5}\r\n                        stroke={'#2f00ff'}\r\n                        fill={'#E0E0E0'}\r\n\r\n                        onMouseDown={(e) => {this.OnMouseHandler(e, 'down', true)}}\r\n                        onTouchStart={(e) => {this.OnMouseHandler(e, 'down', true)}}\r\n                        onMouseUp={(e) => {this.OnMouseHandler(e, 'up', true)}}\r\n                        onTouchEnd={(e) => {this.OnMouseHandler(e, 'up', true)}}\r\n                    />\r\n                );\r\n                endLabelButton = (\r\n                    <Circle\r\n                        key={sourceKey + '_endLabelButton_vertical'}\r\n                        radius={10.5}\r\n                        x={parentX + 5}\r\n                        y={parentY + objectSource.length + 8}\r\n                        strokeWidth={0.5}\r\n                        stroke={'#2f00ff'}\r\n                        fill={'#E0E0E0'}\r\n\r\n                        onMouseDown={(e) => {this.OnMouseHandler(e, 'down', false)}}\r\n                        onTouchStart={(e) => {this.OnMouseHandler(e, 'down', false)}}\r\n                        onMouseUp={(e) => {this.OnMouseHandler(e, 'up', false)}}\r\n                        onTouchEnd={(e) => {this.OnMouseHandler(e, 'up', false)}}\r\n                    />\r\n                );\r\n            }\r\n\r\n        }\r\n        console.log('\\tstartLabelKey: ' + startLabelButton.key);\r\n        console.log('\\tendLabelKey: ' + endLabelButton.key);\r\n        return [startLabelButton, endLabelButton];\r\n    }\r\n\r\n}","import React, {Component} from 'react';\r\nimport {Image, Line, Rect} from 'react-konva';\r\nimport IWallProps from './../Models/Components/Wall/IWallProps';\r\nimport IWallState from './../Models/Components/Wall/IWallState';\r\nimport Orientation from './../Models/Enums/Orientation';\r\nimport LabelButton from \"./Stage/LabelButton\";\r\nimport LabelButtonMode from \"../Models/Enums/LabelButtonMode\";\r\nimport AppState from \"../Data/AppState\";\r\nimport Emit from \"../Data/Emit\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport DeleteCircle from \"./Stage/DeleteCircle\";\r\n\r\nexport default class Wall extends Component<IWallProps, IWallState> {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source,\r\n            cursorCoords: {\r\n                x: 0,\r\n                y: 0,\r\n            },\r\n            isDelete: false,\r\n            isAddLabelButton: false,\r\n        };\r\n        this.WallOnClickHandler = this.WallOnClickHandler.bind(this);\r\n        this.OnMouseHandler = this.OnMouseHandler.bind(this);\r\n        this.OnMouseHandlerValue = this.OnMouseHandlerValue.bind(this);\r\n        this.setShapeMoveNow = this.setShapeMoveNow.bind(this);\r\n        Emit.Emitter.addListener('wallMouseDbl', this.OnMouseHandlerValue);\r\n    }\r\n\r\n    public OnMouseHandlerValue(value) {\r\n        this.setState({isAddLabelButton: value, isDelete: value});\r\n    }\r\n\r\n    public OnMouseHandler() {\r\n        this.setState({isAddLabelButton: !this.state.isAddLabelButton, isDelete: !this.state.isDelete});\r\n    }\r\n\r\n    public WallOnClickHandler() {\r\n        this.setState({isDelete: true});\r\n    }\r\n\r\n    public setShapeMoveNow(e, value: boolean) {\r\n        if (e.evt.which === 1) {\r\n            Emit.Emitter.emit('setIsShapeMovingNow', value, {\r\n                type: LayerType.WALLS,\r\n                shape: this.state.source\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { source, isAddLabelButton, isDelete } = this.state;\r\n        let labelButton;\r\n        let deleteCircle;\r\n        let triangle;\r\n\r\n        if (isDelete) {\r\n            deleteCircle = (\r\n                <DeleteCircle\r\n                    key={source.key + '_deleteCircle'}\r\n                    source={source}\r\n                    parentType={LayerType.WALLS}\r\n                />\r\n            );\r\n        }\r\n\r\n        if (isAddLabelButton) {\r\n            labelButton = (\r\n                <LabelButton\r\n                    key={source.key + '_labelButton'}\r\n                    sourceKey={source.key + '_labelButton'}\r\n                    parentX={source.startX}\r\n                    parentY={source.startY}\r\n                    objectSource={source}\r\n                    labelMode={LabelButtonMode.ADD}\r\n                />\r\n            );\r\n        }\r\n        let wall = (\r\n            <Rect\r\n                key={source.key + '_rect'}\r\n                onDblClick={() => { this.OnMouseHandler() }}\r\n                onDblTap={() => { this.OnMouseHandler() }}\r\n                draggable={false}\r\n                // onDragEnd={ () => this.forceUpdate() }\r\n                onMouseDown={(e) => this.setShapeMoveNow(e, true)}\r\n                onTouchStart={(e) => this.setShapeMoveNow(e, true)}\r\n                onMouseUp={(e) => this.setShapeMoveNow(e, false)}\r\n                onTouchEnd={(e) => this.setShapeMoveNow(e, false)}\r\n                x={source.startX}\r\n                y={source.startY}\r\n                cornerRadius={10}\r\n                width={source.orientation === Orientation.HORIZONTAL ? source.length : 10}\r\n                height={source.orientation === Orientation.VERTICAL ? source.length : 10}\r\n                fill={'#dcdcdc'}\r\n            />\r\n        );\r\n        return [wall, labelButton, deleteCircle];\r\n    }\r\n}\r\n","\r\nexport default class AppState {\r\n    public static State: any = {}\r\n}","enum MapIconsType {\r\n    DRAWING,\r\n    IMAGE,\r\n}\r\n\r\nexport default MapIconsType;\r\n","import React from 'react';\r\nimport IElementsPanelProps from \"../../../Models/Components/ElementsPanel/IElementsPanelProps\";\r\nimport IElementsPanelState from \"../../../Models/Components/ElementsPanel/IElementsPanelState\";\r\nimport '../../../Css/ElementsPanel.css'\r\nimport ElementItem from \"../../../Models/ArrayItems/ElementItem\";\r\nimport AppState from \"../../../Data/AppState\";\r\nimport Emit from \"../../../Data/Emit\";\r\nimport LayerType from \"../../../Models/Enums/LayerType\";\r\n\r\n\r\nexport default class ElementsPanel extends React.Component<IElementsPanelProps, IElementsPanelState> {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source,\r\n            selectedCategory: -1,\r\n            isToggled: true,\r\n            selectedElementIndex: '',\r\n        };\r\n\r\n        Emit.Emitter.addListener('borderCleanAction', () => { this.setState({selectedElementIndex: ''}) });\r\n        this.categoryTitleClickHandler = this.categoryTitleClickHandler.bind(this);\r\n\r\n    }\r\n\r\n    // Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ñ Ð½Ð° Ð²ÐºÐ»Ð°Ð´ÐºÑƒ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸\r\n    public categoryTitleClickHandler(num) {\r\n        this.setState(\r\n            { ...this.state, ...{ selectedCategory: num } }\r\n        );\r\n    }\r\n\r\n    // Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ mouseDown Ð¿Ð¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñƒ Ð² Ð¿Ð°Ð½ÐµÐ»Ðµ\r\n    public elementMouseDownHandler(el: ElementItem) {\r\n        AppState.State.selectedEl = el;\r\n    }\r\n\r\n    public elementMouseClickHandler(index: string, el: ElementItem) {\r\n        AppState.State.selectedEl = el;\r\n        if (el.type === LayerType.WALLS) {\r\n            Emit.Emitter.emit('checkWallLayer');\r\n        }\r\n        if (el.type !== LayerType.WALLS) {\r\n            Emit.Emitter.emit('setAddCirclesVisibility');\r\n        }\r\n        // let check = index === this.state.selectedElementIndex;\r\n        this.setState({selectedElementIndex: index});\r\n        // if (check) {\r\n            Emit.Emitter.emit('cncFlagChange');\r\n        // }\r\n    }\r\n\r\n    render() {\r\n        const { source, selectedCategory, isToggled } = this.state;\r\n        let content;\r\n        let categories: Array<JSX.Element> = [];\r\n        let elements: Array<JSX.Element> = [];\r\n\r\n        if (!isToggled) {\r\n            categories.push(\r\n                <div\r\n                    key={'category_title_all'}\r\n                    onClick={() => this.categoryTitleClickHandler(-1)}\r\n                     className={'category-tab-title' + (selectedCategory === -1 ? ' selected-text' : '')}>\r\n                    Ð²ÑÐµ\r\n                </div>\r\n            );\r\n\r\n            source.forEach((el, i) => {\r\n                categories.push(\r\n                    <div\r\n                        key={'category_title_' + el.title + '_' + i}\r\n                        onClick={() => this.categoryTitleClickHandler(i)}\r\n                         className={'category-tab-title' + (selectedCategory === i ? ' selected-text' : '')}>\r\n                        {el.title}\r\n                    </div>\r\n                );\r\n            });\r\n\r\n            if (selectedCategory !== -1) {\r\n                source[selectedCategory].elements.forEach((el, i) => {\r\n                    elements.push(\r\n                        <img\r\n                            key={\"el_img_\" + selectedCategory + \"_\" + i}\r\n                            onClick={() => {\r\n                                this.elementMouseClickHandler((\"el_img_\" + selectedCategory + \"_\" + i), el);\r\n                            }}\r\n                            onMouseDown={() => {\r\n                                this.elementMouseDownHandler(el)\r\n                            }}\r\n                            title={el.title!}\r\n                            alt={el.title!}\r\n                            draggable={true}\r\n                            style={{\r\n                                width: 'auto',\r\n                                height: '40px',\r\n                                cursor: 'pointer',\r\n                                padding: 2,\r\n                                border: this.state.selectedElementIndex === (\"el_img_\" + selectedCategory + \"_\" + i) ? '2px solid #ffa500' : '',\r\n                                borderRadius: 5\r\n                            }}\r\n                            src={el.photo}\r\n                        />\r\n                    );\r\n                });\r\n            } else {\r\n                // let _elements: Array<ElementItem> = [];\r\n                // for (let sourceEl of source) {\r\n                //     for (let el of sourceEl.elements) {\r\n                //         _elements.push(el);\r\n                //     }\r\n                // }\r\n\r\n                for (let i = 0; i < source.length; i++) {\r\n                    source[i].elements.forEach((el, j) => {\r\n                        elements.push(\r\n                            <img\r\n                                key={\"el_img_\" + i + \"_\" + j}\r\n                                onClick={() => {\r\n                                    this.elementMouseClickHandler((\"el_img_\" + i + \"_\" + j), el);\r\n                                }}\r\n                                onMouseDown={() => {\r\n                                    this.elementMouseDownHandler(el)\r\n                                }}\r\n                                title={el.title!}\r\n                                alt={el.title!}\r\n                                draggable={true}\r\n                                style={{\r\n                                    width: 'auto',\r\n                                    height: '40px',\r\n                                    cursor: 'pointer',\r\n                                    padding: 2,\r\n                                    border: this.state.selectedElementIndex === (\"el_img_\" + i + \"_\" + j) ? '2px solid #ffa500' : '',\r\n                                    borderRadius: 5\r\n                                }}\r\n                                src={el.photo}\r\n                            />\r\n                        );\r\n                    });\r\n                }\r\n            }\r\n\r\n            content = (\r\n                <div className={'elements-panel-wrapper'}>\r\n                    <div className={'inner-wrapper'}>\r\n                        <div className={'category-tabs-wrapper'}>\r\n                            {categories}\r\n                        </div>\r\n                        <div className={'category-elements-wrapper'}>\r\n                            {elements}\r\n                        </div>\r\n                        <div onClick={() => {\r\n                            this.setState({...this.state, ...{isToggled: true}})\r\n                        }} className={'category-elements-footer'}>\r\n                            <span style={{ cursor: 'pointer' }} className={'selected-text'}>ÑÐ²ÐµÑ€Ð½ÑƒÑ‚ÑŒ</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            content = (\r\n                <div onClick={() => {\r\n                    this.setState({...this.state, ...{isToggled: false}})\r\n                }} className={'elements-panel-wrapper-toggled'}>\r\n                    <div className={'inner-wrapper-toggled'}>\r\n                         <span style={{ height: '40%', }} className={'selected-text'}>Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ð½ÐµÐ»ÑŒ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²</span>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return content;\r\n    }\r\n}","import stillage1 from \"../Assets/compStillage.png\";\r\nimport stillage2 from \"../Assets/compStillageTop.png\";\r\nimport stillage3 from \"../Assets/compStillageVertLeft.png\";\r\nimport stillage4 from \"../Assets/compStillageVertRight.png\";\r\nimport stillage5 from \"../Assets/compStillageSmall.png\";\r\nimport stillage6 from \"../Assets/compStillageSmallTop.png\";\r\nimport stillage7 from \"../Assets/compStillageSmallVertLeft.png\";\r\nimport stillage8 from \"../Assets/compStillageSmallVertRight.png\";\r\n\r\nimport lightbulb from \"../Assets/lightbulb.png\";\r\nimport idea from \"../Assets/idea.png\";\r\n\r\nimport firewall from \"../Assets/firewall.png\";\r\nimport wallHor from \"../Assets/wallHor.png\";\r\nimport wallVert from \"../Assets/wallVert.png\";\r\n\r\nimport closeShape from \"../Assets/closeShape.png\";\r\n\r\nconst Images = {\r\n    stillage1,\r\n    stillage2,\r\n    stillage3,\r\n    stillage4,\r\n    stillage5,\r\n    stillage6,\r\n    stillage7,\r\n    stillage8,\r\n\r\n    lightbulb,\r\n    idea,\r\n\r\n    firewall,\r\n    wallHor,\r\n    wallVert,\r\n\r\n    closeShape\r\n};\r\n\r\n    export default Images;","import CategoryItem from \"../Models/ArrayItems/CategoryItem\";\r\nimport Images from \"./Images\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport MapStillageType from \"../Models/Enums/MapStillageType\";\r\nimport Orientation from \"../Models/Enums/Orientation\";\r\n\r\nconst ElementSource: Array<CategoryItem> = [\r\n    {\r\n        title: 'ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð¸',\r\n        elements: [\r\n            {\r\n                key: 'stillage_1',\r\n                title: 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶',\r\n                stillageType: MapStillageType.NORMAL_BOTTOM,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage1,\r\n            },\r\n            {\r\n                key: 'stillage_2',\r\n                title: 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶',\r\n                stillageType: MapStillageType.NORMAL_TOP,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage2,\r\n            },\r\n            {\r\n                key: 'stillage_3',\r\n                title: 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶',\r\n                stillageType: MapStillageType.NORMAL_LEFT_VERT,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage3,\r\n            },\r\n            {\r\n                key: 'stillage_4',\r\n                title: 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶',\r\n                stillageType: MapStillageType.NORMAL_RIGHT_VERT,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage4,\r\n            },\r\n            {\r\n                key: 'stillage_5',\r\n                title: 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶',\r\n                stillageType: MapStillageType.SMALL_BOTTOM,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage5,\r\n            },\r\n            {\r\n                key: 'stillage_6',\r\n                title: 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶',\r\n                stillageType: MapStillageType.SMALL_TOP,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage6\r\n            },\r\n            {\r\n                key: 'stillage_7',\r\n                title: 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶',\r\n                stillageType: MapStillageType.SMALL_LEFT_VERT,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage7,\r\n            },\r\n            {\r\n                key: 'stillage_8',\r\n                title: 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶',\r\n                stillageType: MapStillageType.SMALL_RIGHT_VERT,\r\n                type: LayerType.STILLAGES,\r\n                photo: Images.stillage8,\r\n            }\r\n        ],\r\n    },\r\n    {\r\n        title: 'ÑÑ‚ÐµÐ½Ñ‹',\r\n        elements: [\r\n            {\r\n                key: 'wall_hor',\r\n                title: 'Ð¡Ñ‚ÐµÐ½Ð° Ð³Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ð°Ñ',\r\n                type: LayerType.WALLS,\r\n                photo: Images.firewall,\r\n                orientation: Orientation.HORIZONTAL,\r\n            },\r\n            {\r\n                key: 'wall_vert',\r\n                title: 'Ð¡Ñ‚ÐµÐ½Ð° Ð²ÐµÑ€Ñ‚Ð¸ÐºÐ°Ð»ÑŒÐ½Ð°Ñ',\r\n                type: LayerType.WALLS,\r\n                photo: Images.firewall,\r\n                orientation: Orientation.VERTICAL,\r\n            }\r\n        ],\r\n    },\r\n    {\r\n        title: 'Ð¾ÑÐ²ÐµÑ‰ÐµÐ½Ð¸Ðµ',\r\n        elements: [\r\n            {\r\n                key: 'first_light',\r\n                title: 'Ð¡Ð²ÐµÑ‚Ð¸Ð»ÑŒÐ½Ð¸Ðº',\r\n                type: LayerType.LIGHTING,\r\n                photo: Images.lightbulb,\r\n            },\r\n            {\r\n                key: 'second_light',\r\n                title: 'Ð¡Ð²ÐµÑ‚Ð¸Ð»ÑŒÐ½Ð¸Ðº',\r\n                type: LayerType.LIGHTING,\r\n                photo: Images.idea,\r\n            },\r\n        ],\r\n    }\r\n];\r\n\r\nexport default ElementSource;","import React from 'react';\r\nimport {Image} from 'react-konva';\r\nimport IObjectProps from \"../Models/Components/Object/IObjectProps\";\r\nimport IObjectState from \"../Models/Components/Object/IObjectState\";\r\nimport Emit from \"../Data/Emit\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport DeleteCircle from \"./Stage/DeleteCircle\";\r\n\r\nexport default class MapObject extends React.Component<IObjectProps, IObjectState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            source: this.props.source,\r\n            image: null,\r\n            isDelete: false,\r\n        };\r\n        this.setShapeMoveNow = this.setShapeMoveNow.bind(this);\r\n    }\r\n\r\n    public setShapeMoveNow(e, value: boolean) {\r\n        if (e.evt.which === 1) {\r\n            Emit.Emitter.emit('setIsShapeMovingNow', value, {\r\n                type: LayerType.LIGHTING,\r\n                shape: this.state.source\r\n            });\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const image = new window.Image();\r\n        image.src = this.state.source.photo;\r\n        image.onload = () => {\r\n            this.setState({ image: image } );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { source } = this.state;\r\n        let mapObject;\r\n        let deleteCircle;\r\n        if (this.state.isDelete) {\r\n            deleteCircle = (\r\n                <DeleteCircle\r\n                    key={source.key + '_deleteCircle'}\r\n                    source={source}\r\n                    parentType={LayerType.LIGHTING}\r\n                />\r\n            );\r\n        }\r\n        mapObject = (\r\n            <Image\r\n                key={source.key + '_image'}\r\n                x={ this.state.source.x }\r\n                y={ this.state.source.y }\r\n                onMouseDown={(e) => this.setShapeMoveNow(e, true)}\r\n                onTouchStart={(e) => this.setShapeMoveNow(e, true)}\r\n                onMouseUp={(e) => this.setShapeMoveNow(e, false)}\r\n                onTouchEnd={(e) => this.setShapeMoveNow(e, false)}\r\n                onDblTap={() => this.setState({isDelete: !this.state.isDelete})}\r\n                onDblClick={() => this.setState({isDelete: !this.state.isDelete})}\r\n                width={ this.state.source.width ? this.state.source.width : 35 }\r\n                height={ this.state.source.height ? this.state.source.height : 35 }\r\n                image={ this.state.image }\r\n            />\r\n        );\r\n        return [mapObject, deleteCircle];\r\n    }\r\n\r\n}","import React from 'react';\r\nimport {IDefectBrowsePanelProps} from \"../../../Models/Components/DefectBrowsePanel/IDefectBrowsePanelProps\";\r\nimport IDefectBrowsePanelState from \"../../../Models/Components/DefectBrowsePanel/IDefectBrowsePanelState\";\r\nimport '../../../Css/DefectBrowsePanel.css';\r\nimport Emit from \"../../../Data/Emit\";\r\nimport DefectColors from \"../../../Models/Enums/Colors/DefectColors\";\r\nimport Images from \"../../../Data/Images\";\r\n\r\nexport default class DefectBrowsePanel extends React.Component<IDefectBrowsePanelProps, IDefectBrowsePanelState> {\r\n    constructor(props) {\r\n        super(props);\r\n        let width = window.innerWidth;\r\n        this.state = {\r\n            panelWidthPer: '0',\r\n            fullWidthPx: width,\r\n            isResize: false,\r\n        };\r\n\r\n    }\r\n\r\n    public closePanel() {\r\n        Emit.Emitter.emit('defectBrowsePanelWorkerHandle', false);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={'wrapper'}>\r\n                <div style={{ marginLeft: \"-\" + this.state.panelWidthPer + \"px\" }} className={'panel'}>\r\n                    <div className={'header'}>\r\n                        <div>\r\n                            <div><img onClick={() => { this.closePanel() }} src={Images.closeShape} alt=\"\"/></div>\r\n                            <div>ÐŸÐ¾Ð²Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ</div>\r\n                        </div>\r\n                        <div>\r\n                            Ð’ÑÐµÐ³Ð¾: 2\r\n                        </div>\r\n                        <div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className={'content'}>\r\n                            <div>\r\n                                <div className={'info-text info-title'}>Ð ÑÐ´</div>\r\n                                <div className={'info-text info-value'}>1</div>\r\n                            </div>\r\n                            <div>\r\n                                <div className={'info-text info-title'}>ÐœÐµÑÑ‚Ð¾</div>\r\n                                <div className={'info-text info-value'}>6</div>\r\n                            </div>\r\n                            <div>\r\n                                <div className={'info-text info-title'}>Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ</div>\r\n                                <div className={'info-text info-value'}>6</div>\r\n                            </div>\r\n                            <div className={'columned'}>\r\n                                <div className={'info-text info-title'}>Ð­Ð»ÐµÐ¼ÐµÐ½Ñ‚</div>\r\n                                <div className={'info-text info-value'}>Ð¡Ñ‚Ð¾Ð¹ÐºÐ°</div>\r\n                            </div>\r\n                            <div className={'columned'}>\r\n                                <div className={'info-text info-title'}>Ð Ð°Ð·Ð¼ÐµÑ€</div>\r\n                                <div className={'info-text info-value'}>100x70x5000</div>\r\n                            </div>\r\n                            <div className={'columned'}>\r\n                                <div className={'info-text info-title'}>Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ Ñ€Ð¸ÑÐºÐ°</div>\r\n                                <div style={{ background: DefectColors.GREEN }} className={'circle circle-text'}>Ð·ÐµÐ»ÐµÐ½Ñ‹Ð¹</div>\r\n                            </div>\r\n                            <div className={'columned'}>\r\n                                <div className={'info-text info-title'}>Ð¢Ð¸Ð¿ Ð´ÐµÑ„ÐµÐºÑ‚Ð°</div>\r\n                                <div className={'info-text info-value'}>ÐŸÐ¾Ð²Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ</div>\r\n                            </div>\r\n                            <div className={'columned'}>\r\n                                <div className={'info-text info-title'}>ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒ</div>\r\n                                <div className={'info-text info-value'}>ÐœÐµÑ‚ÐžÑ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€</div>\r\n                            </div>\r\n                            <div className={'columned'}>\r\n                                <div className={'info-text info-title'}>Ð”Ð°Ñ‚Ð° Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ð¸Ñ</div>\r\n                                <div className={'info-text info-value'}>10.12.2019</div>\r\n                            </div>\r\n                            <div className={'columned'}>\r\n                                <div className={'info-text info-title'}>Ð­Ð»ÐµÐ¼ÐµÐ½Ñ‚ Ð·Ð°Ð¼ÐµÐ½ÐµÐ½</div>\r\n                                <div className={'info-text info-value'}>\r\n                                    Ð”Ð°\r\n                                </div>\r\n                            </div>\r\n                            <div className={'columned'}>\r\n                                <div className={'info-text info-title'}>Ð”Ð°Ñ‚Ð° Ð·Ð°Ð¼ÐµÐ½Ñ‹</div>\r\n                                <div className={'info-text info-value'}>10.12.2019</div>\r\n                            </div>\r\n                            <div className={'columned'}>\r\n                                <div className={'info-text info-title'}>ÐžÑÑ‚Ð°Ñ‚Ð¾Ðº ÐºÐ¾Ð¼Ð¿Ð»ÐµÐºÑ‚ÑƒÑŽÑ‰Ð¸Ñ… Ð´Ð»Ñ Ð·Ð°Ð¼ÐµÐ½Ñ‹</div>\r\n                                <div className={'info-text info-value'}>0</div>\r\n                            </div>\r\n                            <div className={'columned comment-block'}>\r\n                                <div style={{ width: '95%' }} className={'info-text info-title'}>ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¹</div>\r\n                                <div style={{ width: '95%' }} className={'info-text info-value'}>Ryan Adams, whose new album Prisoner is out this Friday, was the latest guest on Marc Maronâ€™s podcast â€œWTF.â€ Adams discussed encountering the Rolling Stones early in his career (and talking penny</div>\r\n                            </div>\r\n                    </div>\r\n                    <div className={'content-second'}>\r\n                        <div>\r\n                            <div>\r\n                                <div className={'info-text info-title'}>ÐŸÐ¾Ð²Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ Ð´Ð¾ Ñ€ÐµÐ¼Ð¾Ð½Ñ‚Ð°</div>\r\n                                <div>\r\n                                    <div></div>\r\n                                    <div></div>\r\n                                    <div></div>\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <div className={'info-text info-title'}>ÐŸÐ¾Ð²Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ Ð¿Ð¾ÑÐ»Ðµ Ñ€ÐµÐ¼Ð¾Ð½Ñ‚Ð°</div>\r\n                                <div>\r\n                                    <div></div>\r\n                                    <div></div>\r\n                                    <div></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={'footer'}>\r\n                        <div className={'footer-left label'}>\r\n                            <div>Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð²Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ</div>\r\n                        </div>\r\n                        <div className={'footer-right'}>\r\n                            <div className={'button button-label'}>\r\n                                <button className={'button-label'}>Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð²Ñ€ÐµÐ¶Ð´ÐµÐ½Ð½Ñ‹Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div onClick={() => { this.closePanel() }} className={'close-block'}></div>\r\n            </div>\r\n        );\r\n    }\r\n}","import WallItem from \"../Models/ArrayItems/WallIem\";\r\nimport MapSourceUnit from \"../Models/MapSourceUnit\";\r\nimport Orientation from \"../Models/Enums/Orientation\";\r\nimport AppState from \"../Data/AppState\";\r\nimport MapSourceLayer from \"../Models/MapSourceLayer\";\r\nimport {NodeWorker} from \"inspector\";\r\nimport bs from 'js-binary-search';\r\nimport sort from 'fast-sort';\r\n\r\nexport default class WallService {\r\n    public getWallSourceItem(selectedLayer: MapSourceLayer,\r\n                              startX: number,\r\n                              startY: number,\r\n                              length: number,\r\n                              orientation: Orientation\r\n    ): WallItem {\r\n        let newWall;\r\n        let _id = 0; let _key = '';\r\n        sort(selectedLayer.walls!).asc(e => e.id);\r\n        if (selectedLayer.walls!.length !== 0) {\r\n            _id = selectedLayer.walls![selectedLayer.walls!.length - 1].id;\r\n        }\r\n        _id++;\r\n        _key = selectedLayer.key + '_wall_' + _id.toString();\r\n\r\n        newWall = {\r\n            id: _id,\r\n            key: 'wall_for_move_' + _key,\r\n            startX: startX,\r\n            startY: startY,\r\n            length: length,\r\n            // orientation: AppState.State.selectedEl.orientation\r\n            orientation: orientation\r\n        };\r\n\r\n\r\n        return newWall;\r\n    }\r\n\r\n    public setSourceWallParams(wall: WallItem, cursorCoords, upDownCoords, stageDeviation) {\r\n        if (wall.orientation === Orientation.HORIZONTAL) {\r\n            wall.length = Math.abs(cursorCoords.startX - cursorCoords.x) + 25;\r\n        } else {\r\n            wall.length = Math.abs(cursorCoords.startY - cursorCoords.y) + 25;\r\n        }\r\n\r\n        if (wall.orientation === Orientation.HORIZONTAL) {\r\n\r\n            if (upDownCoords.down.x <= upDownCoords.up.x) {\r\n                if (upDownCoords.down.x < upDownCoords.up.x) {\r\n                    wall.startX = upDownCoords.down.x - stageDeviation.x;\r\n                }\r\n            } else {\r\n                wall.startX = upDownCoords.up.x - stageDeviation.x;\r\n            }\r\n\r\n        } else {\r\n\r\n            if (upDownCoords.down.y <= upDownCoords.up.y) {\r\n                if (upDownCoords.down.y < upDownCoords.up.y) {\r\n                    wall.startY = upDownCoords.down.y - stageDeviation.y;\r\n                }\r\n            } else {\r\n                wall.startY = upDownCoords.up.y - stageDeviation.y;\r\n            }\r\n\r\n        }\r\n        return wall;\r\n    }\r\n\r\n    public getWallIndexByID(list: Array<WallItem>, id) {\r\n        return bs.search_in_associative(list, 'id', id);\r\n    }\r\n\r\n    public resizeWall(e, _wall: WallItem, isStart: boolean, moveStageParams): WallItem {\r\n        if (_wall.orientation === Orientation.HORIZONTAL) {\r\n            if (isStart) {\r\n                if (e.clientX > _wall.startX) {\r\n                    _wall.length -= (e.clientX - moveStageParams.x) - _wall.startX;\r\n                    _wall.startX = e.clientX - moveStageParams.x;\r\n                } else {\r\n                    _wall.length += Math.abs((e.clientX - moveStageParams.x) - _wall.startX);\r\n                    _wall.startX = e.clientX - moveStageParams.x;\r\n                }\r\n            } else {\r\n                _wall.length += (e.clientX - moveStageParams.x) - (_wall.startX + _wall.length);\r\n            }\r\n        } else if (_wall.orientation === Orientation.VERTICAL) {\r\n            if (isStart) {\r\n                if (e.clientY > _wall.startY) {\r\n                    _wall.length -= (e.clientY - moveStageParams.y) - _wall.startY;\r\n                    _wall.startY = e.clientY - moveStageParams.y;\r\n                } else {\r\n                    _wall.length += Math.abs((e.clientY - moveStageParams.y) - _wall.startY);\r\n                    _wall.startY = e.clientY - moveStageParams.y;\r\n                }\r\n            } else {\r\n                _wall.length += (e.clientY - moveStageParams.y) - (_wall.startY + _wall.length);\r\n            }\r\n        }\r\n        return _wall;\r\n    }\r\n\r\n}","import sort from 'fast-sort';\r\nimport bs from 'js-binary-search';\r\n\r\nimport MapSourceLayer from \"../Models/MapSourceLayer\";\r\nimport StillageItem from \"../Models/ArrayItems/StillageItem\";\r\nimport ObjectItem from \"../Models/ArrayItems/ObjectItem\";\r\n\r\nexport default class ObjectService {\r\n    public getObjectSourceItem(selectedLayer: MapSourceLayer, coords: { x: number, y: number }, photo: any) {\r\n        let _id = 0; let _key = '';\r\n        sort(selectedLayer.objects!).asc(e => e.id);\r\n        if (selectedLayer.objects!.length !== 0) {\r\n            _id = selectedLayer.objects![selectedLayer.objects!.length - 1].id;\r\n        }\r\n        _id++;\r\n        _key = selectedLayer.key + '_object_' + _id.toString();\r\n        return {\r\n            id: _id,\r\n            key: _key,\r\n            x: coords.x,\r\n            y: coords.y,\r\n            photo: photo,\r\n        }\r\n    }\r\n\r\n    public searchByID(shapesList: Array<ObjectItem>, id: number) {\r\n        return bs.search_in_associative(shapesList, 'id', id);\r\n    }\r\n}","import sort from 'fast-sort';\r\nimport bs from 'js-binary-search';\r\n\r\nimport StillageSizeReducer from \"../Models/Enums/StillageSize/StillageSizeReducer\";\r\nimport MapSourceLayer from \"../Models/MapSourceLayer\";\r\nimport LayerType from \"../Models/Enums/LayerType\";\r\nimport MapIconsType from \"../Models/Enums/MapIconsType\";\r\nimport MapSourceUnit from \"../Models/MapSourceUnit\";\r\nimport LayerIndexByType from \"../Models/LayerIndexByType\";\r\nimport WallItem from \"../Models/ArrayItems/WallIem\";\r\nimport Orientation from \"../Models/Enums/Orientation\";\r\nimport SignaturePosition from \"../Models/Enums/SignaturePosition\";\r\nimport ElementItem from \"../Models/ArrayItems/ElementItem\";\r\nimport StillageService from \"./StillageService\";\r\n\r\nexport default class LayerService {\r\n\r\n    private stillageSizeReducer!: StillageSizeReducer;\r\n    private stillageService!: StillageService;\r\n\r\n    constructor() {\r\n        this.stillageSizeReducer = new StillageSizeReducer();\r\n        this.stillageService = new StillageService();\r\n    }\r\n\r\n    public getLayerSourceItem(selectedUnit: MapSourceUnit, type: LayerType) {\r\n        let _id = 0; let _key = '';\r\n        sort(selectedUnit.layers).asc(e => e.id); // ÑÐ¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð¼Ð°ÑÑÐ¸Ð² ÑÐ»Ð¾ÐµÐ² Ð´Ð»Ñ Ð´Ð¾Ð»Ð½ÐµÐ¹ÑˆÐµÐ³Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ°\r\n        if (selectedUnit.layers.length !== 0) { // ÐµÑÐ»Ð¸ Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ ÐµÑÑ‚ÑŒ, Ñ‚Ð¾ Ð±ÐµÑ€ÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¾Ð½ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¾ id\r\n            _id = selectedUnit.layers[selectedUnit.layers.length - 1].id; // Ð±ÐµÑ€ÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ id\r\n        }\r\n        _id++; // Ð¿Ñ€Ð¸Ð±Ð°Ð²Ð»ÑÐµÐ¼ 1 Ðº Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ id\r\n        _key = selectedUnit.key + '_layer_' + _id.toString(); // Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÐ¼ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ key Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð° Ð² Ñ†Ð¸ÐºÐ»Ðµ\r\n        return { // Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ð¹ ÑÐ»Ð¾Ð¹\r\n            id: _id,\r\n            key: _key,\r\n            title:  this.getLayerNameByType(type),\r\n            type: type,\r\n            mapIconsType: this.getMapIconsTypeByLayerType(type),\r\n            walls: [],\r\n            stillages: [],\r\n            objects: [],\r\n        }\r\n    }\r\n\r\n    // Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¸Ð½Ð´ÐµÐºÑÐ° ÑÐ»Ð¾Ñ Ð¿Ð¾ ÐµÐ³Ð¾ Ñ‚Ð¸Ð¿Ñƒ\r\n    public getLayerIndexByTypeBinary(list: Array<MapSourceLayer>, type: LayerType) {\r\n        let start = 0; let end = list.length - 1;\r\n        // ÑƒÐ±Ñ€Ð°Ñ‚ÑŒ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÑƒ, ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²ÑÐµ ÑÑ€Ð°Ð·Ñƒ Ð½Ð° Ð±ÐµÐºÐµÐ½Ð´Ðµ\r\n        list.sort((a, b) => {\r\n            if (a.type > b.type) {\r\n                return 1;\r\n            }\r\n            if (a.type < b.type) {\r\n                return -1;\r\n            }\r\n            // a Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ñ€Ð°Ð²Ð½Ñ‹Ð¼ b\r\n            return 0;\r\n        });\r\n        // Ñ…Ð· Ð·Ð°Ñ‡ÐµÐ¼ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð±Ð¸Ð½Ð°Ñ€Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ. Ð¡Ð°Ð¼ Ð¿Ð¾Ð¸ÑÐº Ð¸Ð½Ð´ÐµÐºÑÐ°)\r\n        while (start <= end) {\r\n            let mid = Math.floor((start + end)/2);\r\n            if (list[mid].type === type) {\r\n                return mid;\r\n            } else if (list[mid].type < type) {\r\n                start = mid + 1;\r\n            } else {\r\n                end = mid - 1;\r\n            }\r\n        }\r\n        return -1; // ÐµÑÐ»Ð¸ Ð½Ðµ Ð½Ð°ÑˆÐ»Ð¸, Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ -1\r\n    }\r\n\r\n    // Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¸Ð¼ÐµÐ½Ð¸ ÑÐ»Ð¾Ñ Ð¿Ð¾ ÐµÐ³Ð¾ Ñ‚Ð¸Ð¿Ñƒ\r\n    private getLayerNameByType(type: LayerType): string {\r\n        switch (type) {\r\n            case LayerType.STILLAGES: return 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶Ð¸';\r\n            case LayerType.WALLS: return 'Ð¡Ñ‚ÐµÐ½Ñ‹';\r\n            case LayerType.LIGHTING: return 'ÐžÑÐ²ÐµÑ‰ÐµÐ½Ð¸Ðµ';\r\n            case LayerType.SIGNATURES: return 'ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ¸';\r\n            case LayerType.ABSTRACTS: return 'ÐÐ±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¸';\r\n            default: return '';\r\n        }\r\n    }\r\n\r\n    // Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¼ÐµÑ‚Ð¾Ð´Ð° Ð¾Ñ‚Ñ€Ð¸ÑÐ¾Ð²ÐºÐ¸ Ð¿Ð¾ Ñ‚Ð¸Ð¿Ñƒ Ñ„Ð¸Ð³ÑƒÑ€Ñ‹\r\n    private getMapIconsTypeByLayerType(type: LayerType): MapIconsType {\r\n        switch (type) {\r\n            case LayerType.STILLAGES: return MapIconsType.DRAWING;\r\n            case LayerType.WALLS: return MapIconsType.DRAWING;\r\n            case LayerType.LIGHTING: return MapIconsType.IMAGE;\r\n            case LayerType.SIGNATURES: return MapIconsType.DRAWING;\r\n            case LayerType.ABSTRACTS: return MapIconsType.IMAGE;\r\n        }\r\n    }\r\n\r\n    // Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð±ÑƒÐ´ÐµÑ‚ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ñ‚Ð¾Ð¼,\r\n    // ÐµÑÑ‚ÑŒ Ð»Ð¸ ÑÐ»Ð¾Ð¹ Ð² Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ñ… ÑÐ»Ð¾ÑÑ… Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½ Ð»Ð¸ Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ð´Ð°Ð½Ð½Ñ‹Ð¹ ÑÐ»Ð¾Ð¹,\r\n    // Ð¿Ð¾ Ñ‚Ð¸Ð¿Ñƒ ÑÐ»Ð¾Ñ\r\n    public getLayerIndex(selectedLayers: Array<number>, layersList: Array<MapSourceLayer>, type: LayerType): LayerIndexByType{\r\n        let returnState = {\r\n            selected: {\r\n                is: false,\r\n                index: -1,\r\n            },\r\n            created: {\r\n                is: false,\r\n                index: -1,\r\n            }\r\n        };\r\n        let object = bs.search_in_associative(layersList, 'type', type);\r\n        returnState.created.index = object.index;\r\n        object = object.item;\r\n\r\n        if (returnState.created.index !== -1) {\r\n            returnState.created.is = true;\r\n            returnState.selected.index = bs.search(selectedLayers, returnState.created.index).index;\r\n            if (returnState.selected.index !== -1 && returnState.selected.index !== undefined) {\r\n                returnState.selected.is = true;\r\n            } else {\r\n                returnState.selected.is = false;\r\n                returnState.selected.index = -1;\r\n            }\r\n        }\r\n        return returnState;\r\n    }\r\n\r\n    // ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð¼ÐµÐ¶ÑƒÑ‚Ð¾Ñ‡Ð½Ñ‹Ð¹Ñ… ÑÑ‚ÐµÐ½. Ð’Ñ€Ð¾Ð´Ðµ Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾\r\n    public deleteBadWalls(list: Array<WallItem>): Array<WallItem> {\r\n        let count = 0;\r\n        let badEls: WallItem[] = [];\r\n\r\n        for (let k = 0; k < list.length; k++) {\r\n            if (list[k].key.includes('wall_for_move')) {\r\n                badEls.push(list[k]);\r\n                count++;\r\n            }\r\n        }\r\n\r\n        if (badEls.length !== 0) {\r\n            for (let k = 0; k < badEls.length; k++) {\r\n                let index = list.indexOf(badEls[k]);\r\n                list.splice(index, 1);\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    // Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð° Ð½Ð°Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¿Ñ€Ð¸ Ð´Ð¾Ð±Ð°Ð»ÐµÐ½Ð¸Ð¸. Ð•ÑÐ»Ð¸ ÐµÑÑ‚ÑŒ, Ñ‚Ð¾ true\r\n    public hasUnderChild(layersList: Array<MapSourceLayer>, type: LayerType, x: number, y: number, selected: ElementItem): boolean {\r\n        let object = bs.search_in_associative(layersList, 'type', LayerType.STILLAGES); // Ð¿Ð¾Ð¸ÑÐº Ð½ÑƒÐ¶Ð½Ð¾Ð³Ð¾ ÑÐ»Ð¾Ñ Ð¿Ð¾ Ñ‚Ð¸Ð¿Ñƒ\r\n        let layer = layersList[object.index]; // ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ÑÐ»Ð¾Ñ Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½ÑƒÑŽ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ Ð´Ð»Ñ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð° Ð¾Ð±Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ñ\r\n        if (type === LayerType.STILLAGES) {\r\n            let selectedStillageToAdd = this.stillageService.getStillageSourceItem(layer, { x, y }, selected.stillageType!); // Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼Ð¾Ð¼ ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ðµ\r\n            const newSWidth = selectedStillageToAdd.width; // ÑˆÐ¸Ñ€Ð¸Ð½Ð° Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼Ð¾Ð³Ð¾ ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð°\r\n            const newSHeight = selectedStillageToAdd.height; // Ð²Ñ‹ÑÐ¾Ñ‚Ð° Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼Ð¾Ð³Ð¾ ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð°\r\n            const newSStartX = selectedStillageToAdd.x; // Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð°Ñ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð° ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð° Ð¿Ð¾ x\r\n            const newSStartY = selectedStillageToAdd.y; // Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð°Ñ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð° ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð° Ð¿Ð¾ y\r\n            const newSEndX = newSStartX + selectedStillageToAdd.width; // ÐºÐ¾Ð½ÐµÑ‡Ð½Ð°Ñ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð° ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð° Ð¿Ð¾ x\r\n            const newSEndY = newSStartY + selectedStillageToAdd.height; // ÐºÐ¾Ð½ÐµÑ‡Ð½Ð°Ñ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð° ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð° Ð¿Ð¾ y\r\n\r\n\r\n            // Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð° Ð½Ð°Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ÑÑ‚ÐµÐ»Ð»Ð°Ð¶ÐµÐ¹ Ð½Ð° ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð¸\r\n            let stillagesList = layer.stillages!; // ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¼Ð°ÑÑÐ¸Ð²Ð° ÑÑ‚ÐµÐ»Ð»Ð°Ð¶ÐµÐ¹ Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½ÑƒÑŽ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ Ð´Ð»Ñ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð° Ð¾Ð±Ñ€Ð°Ñ‰ÐµÐ½Ð¸Ñ\r\n            for (let i = 0; i < stillagesList.length; i++) { // Ñ†Ð¸ÐºÐ» Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð½Ð°Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚ÐµÐ»Ð»Ð°Ð¶ÐµÐ¹ Ð½Ð° ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð¸\r\n                const el = stillagesList[i];\r\n                    if (el.orientation === Orientation.HORIZONTAL) {\r\n                        if (el.signature!.position === SignaturePosition.TOP) {\r\n                            if (((x >= (el.x - newSWidth)) && (x <= (el.x + el.width!))) && ((y >= (el.y - newSHeight! - 24.5)) && (y <= (el.y + el.height!)))) {\r\n                                return true;\r\n                            }\r\n                        } else if (el.signature!.position === SignaturePosition.BOTTOM) {\r\n                            if (((x >= (el.x - newSWidth!)) && (x <= (el.x + el.width!))) && ((y >= (el.y - newSHeight!)) && (y <= (el.y + el.height!)))) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (el.signature!.position === SignaturePosition.LEFT) {\r\n                            if (((x >= (el.x - 24.5)) && (x <= (el.x + el.width!))) && ((y >= el.y) && (y <= (el.y + el.height!)))) {\r\n                                return true;\r\n                            }\r\n                        } else if (el.signature!.position === SignaturePosition.RIGHT) {\r\n                            if (((x >= el.x) && (x <= (el.x + el.width!))) && ((y >= el.y) && (y <= (el.y + el.height!)))) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n            }\r\n            // Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð° Ð½Ð°Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ÑÑ‚ÐµÐ»Ð»Ð°Ð¶ÐµÐ¹ Ð½Ð° ÑÑ‚ÐµÐ½Ñ‹\r\n            object = bs.search_in_associative(layersList, 'type', LayerType.WALLS);\r\n            let walls = layersList[object.index].walls!;\r\n            let elStartX, elStartY, elEndX, elEndY = 0;\r\n            for (let i = 0; i < walls.length; i++) {\r\n                const el = walls[i];\r\n                    elStartX = el.startX;\r\n                    elStartY = el.startY;\r\n                    if (el.orientation === Orientation.HORIZONTAL) {\r\n                        elEndX = elStartX + el.length;\r\n                        elEndY = elStartY + 10;\r\n                    } else {\r\n                        elEndX = elStartX + 10;\r\n                        elEndY = elStartY + el.length;\r\n                    }\r\n\r\n                    if ((newSStartX > (elStartX - newSWidth) && newSStartX < elEndX) && (newSStartY > (elStartY - newSHeight) && newSStartY < elEndY)) {\r\n                        return true;\r\n                    }\r\n            }\r\n        } else if (type === LayerType.WALLS) {\r\n            // Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð°Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚ÐµÐ½ Ð½Ð° Ñ‡Ñ‚Ð¾-Ð»Ð¸Ð±Ð¾\r\n        } else if (type === LayerType.ABSTRACTS) {\r\n            // Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð°Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÐ½Ñ‹Ñ… Ñ„Ð¸Ð³ÑƒÑ€ Ð½Ð° Ñ‡Ñ‚Ð¾-Ð»Ð¸Ð±Ð¾\r\n            return true;\r\n        }\r\n\r\n        // sort(stillagesList).asc([\r\n        //     e => e.x,\r\n        //     e => e.y\r\n        // ]);\r\n\r\n\r\n\r\n        return false;\r\n    }\r\n\r\n}","import React from 'react';\r\nimport { Layer, Stage } from 'react-konva';\r\n\r\nimport IMapProps from './Models/Components/Map/IMapProps';\r\nimport IMapState from './Models/Components/Map/IMapState';\r\nimport Stillage from './Components/Stillage';\r\nimport LayerType from './Models/Enums/LayerType';\r\nimport Wall from './Components/Wall';\r\nimport AppState from './Data/AppState';\r\nimport Orientation from \"./Models/Enums/Orientation\";\r\nimport Emit from \"./Data/Emit\";\r\nimport ElementsPanel from \"./Components/Page/Panels/ElementsPanel\";\r\nimport ElementSource from \"./Data/ElementsSource\";\r\nimport StillageService from \"./Services/StillageService\";\r\nimport ElementItem from \"./Models/ArrayItems/ElementItem\";\r\nimport MapObject from \"./Components/MapObject\";\r\nimport WallItem from \"./Models/ArrayItems/WallIem\";\r\nimport DefectBrowsePanel from \"./Components/Page/Panels/DefectBrowsePanel\";\r\nimport MapSourceLayer from \"./Models/MapSourceLayer\";\r\nimport MapIconsType from \"./Models/Enums/MapIconsType\";\r\nimport sort from 'fast-sort';\r\n\r\nimport './Css/Map.css';\r\nimport './Css/LayerPanel.css';\r\nimport WallService from \"./Services/WallService\";\r\nimport ObjectService from \"./Services/ObjectService\";\r\nimport LayerService from \"./Services/LayerService\";\r\nimport Vectors from \"./Models/Enums/Vectors\";\r\nimport StillageItem from \"./Models/ArrayItems/StillageItem\";\r\nimport Position from \"./Models/Enums/Position\";\r\nimport StillageSize from \"./Models/Enums/StillageSize/StillageSize\";\r\nimport { findRenderedComponentWithType } from \"react-dom/test-utils\";\r\n\r\n\r\nexport default class Map extends React.PureComponent<IMapProps, IMapState> {\r\n\r\n  public stillageService!: StillageService;\r\n  public objectService!: ObjectService;\r\n  public layerService!: LayerService;\r\n  public wallService!: WallService;\r\n\r\n  constructor(props: IMapProps) {\r\n    super(props);\r\n\r\n    this.stillageService = new StillageService();\r\n    this.objectService = new ObjectService();\r\n    this.layerService = new LayerService();\r\n    this.wallService = new WallService();\r\n\r\n\r\n\r\n    this.state = {\r\n      parentKey: this.props.parentKey,\r\n\r\n      isAddCircleAdding: false,\r\n      isToggledToAdd: false,\r\n      lastAddedItemType: undefined,\r\n      lastAddedItem: undefined,\r\n      isShapeMoveEnable: false,\r\n      isShapeMovingNow: false,\r\n      selectedShapeForMove: {},\r\n\r\n      isWallUnderChild: false,\r\n      wallLayerIndex: -1,\r\n      wallIndex: -1,\r\n      selectedUnit: 0,\r\n      selectedLayer: -1,\r\n      stageScale: 1,\r\n      stageX: 0,\r\n      stageY: 0,\r\n      isMouseDown: false,\r\n      source: this.props.source,\r\n      isOnlyRed: true,\r\n      cursorCoords: {\r\n        startX: 0,\r\n        startY: 0,\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      isDrawing: false,\r\n      cncFlag: false,\r\n      isDefectBrowsePanel: false,\r\n      layersSelected: [],\r\n      isAddLayerModal: false,\r\n      moveStageParams: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      upDownCoords: {\r\n        up: {\r\n          x: 0,\r\n          y: 0,\r\n        },\r\n        down: {\r\n          x: 0,\r\n          y: 0,\r\n        }\r\n      },\r\n\r\n      // resizing\r\n      isIncreaseResizingLength: false,\r\n      resizingWallIndex: 0,\r\n      isStart: false,\r\n      isWallResizingNow: false,\r\n      selectedWallToResize: undefined,\r\n      resizeCursorCoordinates: {\r\n        startX: 0, startY: 0,\r\n        actionEndX: 0, actionEndY: 0,\r\n      }\r\n    };\r\n\r\n    this.filtersOnChangeAction = this.filtersOnChangeAction.bind(this);\r\n    this.ElementOnDrop = this.ElementOnDrop.bind(this);\r\n    this.MapWrapperOnMouseMove = this.MapWrapperOnMouseMove.bind(this);\r\n    this.deleteWall = this.deleteWall.bind(this);\r\n    this.cncFlagChange = this.cncFlagChange.bind(this);\r\n    this.addElement = this.addElement.bind(this);\r\n    this.selectLayerToList = this.selectLayerToList.bind(this);\r\n    this.StageOnMouseDownHandler = this.StageOnMouseDownHandler.bind(this);\r\n    this.StageOnMouseUpHandler = this.StageOnMouseUpHandler.bind(this);\r\n    this.StageOnMouseMoveHandler = this.StageOnMouseMoveHandler.bind(this);\r\n    this.defectBrowsePanelWorker = this.defectBrowsePanelWorker.bind(this);\r\n    this.addLayerModalWorker = this.addLayerModalWorker.bind(this);\r\n    this.stageDragEnd = this.stageDragEnd.bind(this);\r\n    this.wallLabelButtonInteractionWayUp = this.wallLabelButtonInteractionWayUp.bind(this);\r\n    this.wallLabelButtonInteractionWayDown = this.wallLabelButtonInteractionWayDown.bind(this);\r\n    this.setIsShapeMoveEnable = this.setIsShapeMoveEnable.bind(this);\r\n    this.moveShapeByStep = this.moveShapeByStep.bind(this);\r\n    this.setIsShapeMovingNow = this.setIsShapeMovingNow.bind(this);\r\n    this.mapShapeClick = this.mapShapeClick.bind(this);\r\n    this.deleteShape = this.deleteShape.bind(this);\r\n    this.setAddCirclesVisibility = this.setAddCirclesVisibility.bind(this);\r\n    this.addSameShape = this.addSameShape.bind(this);\r\n\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð´Ð»Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ ÑÑ‚ÐµÐ½Ñ‹\r\n    Emit.Emitter.addListener('deleteWall', this.deleteWall);\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð´Ð»Ñ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ñ/Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ñ Ð¾ÐºÐ½Ð° Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° Ð¿Ð¾Ð²Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ð¹\r\n    Emit.Emitter.addListener('defectBrowsePanelWorkerHandle', this.defectBrowsePanelWorker);\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð´Ð»Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ cncFlag\r\n    Emit.Emitter.addListener('cncFlagChange', this.cncFlagChange);\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð·Ð°Ð¶Ð°Ñ‚Ð¸Ñ Ð»ÐµÐ²Ð¾Ð¹ ÐºÐ½Ð¾ÐºÐ¸ Ð¸Ð»Ð¸ Ð¿Ð°Ð»ÑŒÑ†Ð° Ð´Ð»Ñ Ð´Ð¾Ñ€Ð¸ÑÐ¾Ð²ÐºÐ¸ ÑÑ‚ÐµÐ½Ñ‹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¿Ð¾Ð»Ð·ÑƒÐ½ÐºÐ°\r\n    Emit.Emitter.addListener('wallLabelButtonInteractionWayUp', this.wallLabelButtonInteractionWayUp);\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð¾Ñ‚Ð¿ÑƒÑÐºÐ°Ð½Ð¸Ñ Ð»ÐµÐ²Ð¾Ð¹ ÐºÐ½Ð¾ÐºÐ¸ Ð¸Ð»Ð¸ Ð¿Ð°Ð»ÑŒÑ†Ð° Ð´Ð»Ñ Ð´Ð¾Ñ€Ð¸ÑÐ¾Ð²ÐºÐ¸ ÑÑ‚ÐµÐ½Ñ‹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¿Ð¾Ð»Ð·ÑƒÐ½ÐºÐ°\r\n    Emit.Emitter.addListener('wallLabelButtonInteractionWayDown', this.wallLabelButtonInteractionWayDown);\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ñ„Ð»Ð°Ð³Ð°\r\n    Emit.Emitter.addListener('setIsShapeMoving', this.setIsShapeMoveEnable);\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð¿ÐµÑ€ÐµÐ´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ñ„Ð¸Ð³ÑƒÑ€Ñ‹ Ñ ÑˆÐ°Ð³Ð¾Ð¼\r\n    Emit.Emitter.addListener('moveShapeByStep', this.moveShapeByStep);\r\n    //\r\n    Emit.Emitter.addListener('setIsShapeMovingNow', this.setIsShapeMovingNow);\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸, Ñ‡Ñ‚Ð¾ Ð±Ñ‹Ð»Ð¾ ÐºÐ»Ð¸ÐºÐ½ÑƒÑ‚Ð¾\r\n    Emit.Emitter.addListener('mapShapeClickEmit', this.mapShapeClick);\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ñ„Ð¸Ð³ÑƒÑ€Ñ‹ Ð¸Ð· state\r\n    Emit.Emitter.addListener('deleteShapeFromLayer', this.deleteShape);\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ÐºÐ½Ð¾Ð¿ÐºÐ°Ð¼Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¸Ð´ÐµÐ½ Ñ‚Ð¸Ñ‡Ð½Ñ‹Ñ… Ñ„Ð¸Ð³ÑƒÑ€\r\n    Emit.Emitter.addListener('setAddCirclesVisibility', this.setAddCirclesVisibility);\r\n    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð´Ð»Ñ Ð´Ð¾Ð±Ð°Ð»ÐµÐ½Ð¸Ñ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ‡Ð½Ð¾Ð¹ Ñ„Ð¸Ð³ÑƒÑ€Ñ‹ Ð¿Ñ€Ð¸ Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ð¸ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð¿Ð»ÑŽÑÐ°\r\n    Emit.Emitter.addListener('addSameShape', this.addSameShape);\r\n  }\r\n\r\n  public addSameShape(type: LayerType, prevShape: any, position: Position) {\r\n    this.setState({ isAddCircleAdding: true });\r\n    const { source, selectedUnit } = this.state;\r\n    let toMin = position === Position.TOP || position === Position.LEFT;\r\n    let layerIndex;\r\n    if (type !== undefined && prevShape !== undefined) {\r\n      if (type === LayerType.STILLAGES) {\r\n        layerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, type);\r\n        let prevStillage: StillageItem = prevShape;\r\n        let nextStillage: StillageItem;\r\n        let _layer = source[selectedUnit].layers[layerIndex];\r\n        let _id = 0; let _key = '';\r\n        sort(_layer.stillages!).asc(e => e.id);\r\n        if (_layer.stillages!.length !== 0) {\r\n          _id = _layer.stillages![_layer.stillages!.length - 1].id;\r\n        }\r\n        _id++;\r\n        _key = _layer.key + '_stillage_' + _id.toString();\r\n\r\n        let places = prevStillage.placeSignatures;\r\n        if (prevStillage.size === StillageSize.NORMAL) {\r\n          if (!toMin) {\r\n            places = [\r\n              {\r\n                place: 1,\r\n                title: (parseInt(places![2].title) + 1).toString()\r\n              },\r\n              {\r\n                place: 2,\r\n                title: (parseInt(places![2].title) + 2).toString()\r\n              },\r\n              {\r\n                place: 3,\r\n                title: (parseInt(places![2].title) + 3).toString()\r\n              }\r\n            ];\r\n          } else {\r\n            if (parseInt(places![0].title) > 3) {\r\n              places = [\r\n                {\r\n                  place: 1,\r\n                  title: (parseInt(places![0].title) - 3).toString()\r\n                },\r\n                {\r\n                  place: 2,\r\n                  title: (parseInt(places![0].title) - 2).toString()\r\n                },\r\n                {\r\n                  place: 3,\r\n                  title: (parseInt(places![0].title) - 1).toString()\r\n                }\r\n              ];\r\n            } else {\r\n              places = prevStillage.placeSignatures;\r\n            }\r\n          }\r\n        }\r\n        nextStillage = {\r\n          id: _id,\r\n          key: _key,\r\n          x: prevStillage.orientation === Orientation.HORIZONTAL ? 0 : prevStillage.x,\r\n          y: prevStillage.orientation === Orientation.VERTICAL ? 0 : prevStillage.y,\r\n          orientation: prevStillage.orientation,\r\n          signature: prevStillage.signature,\r\n          size: prevStillage.size,\r\n          placeSignatures: places,\r\n          viks: [],\r\n        };\r\n\r\n        // TODO: Add small stillage checks\r\n        if (position === Position.RIGHT)\r\n          nextStillage!.x = prevStillage.x + 80;\r\n        else if (position === Position.LEFT)\r\n          nextStillage!.x = prevStillage.x - 80;\r\n        else if (position === Position.BOTTOM)\r\n          nextStillage!.y = prevStillage.y + 80;\r\n        else if (position === Position.TOP)\r\n          nextStillage!.y = prevStillage.y - 80;\r\n\r\n        source[selectedUnit].layers[layerIndex].stillages!.push(nextStillage);\r\n        // this.setAddCirclesVisibility();\r\n        console.log(nextStillage);\r\n        this.forceUpdate(() => this.setState({ source }));\r\n        // Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ ÐºÐ½Ð¾Ð¿Ð¾Ðº Ð¿Ð»ÑŽÑ Ñƒ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð½Ð¾Ð³Ð¾ ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð°\r\n        Emit.Emitter.emit('forceSetIsAddingChange', true);\r\n      }\r\n    }\r\n  }\r\n\r\n  public setAddCirclesVisibility() {\r\n    Emit.Emitter.emit('stillageIsAddingChange');\r\n  }\r\n\r\n  public deleteShape(type: LayerType, id) {\r\n    const { source, selectedUnit } = this.state;\r\n    let layerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, type);\r\n    if (type === LayerType.STILLAGES) {\r\n      let obj = this.stillageService.stillageSearchByID(source[selectedUnit].layers[layerIndex].stillages!, id);\r\n      source[selectedUnit].layers[layerIndex].stillages!.splice(obj.index, 1);\r\n    } else if (type === LayerType.LIGHTING) {\r\n      let obj = this.objectService.searchByID(source[selectedUnit].layers[layerIndex].objects!, id);\r\n      source[selectedUnit].layers[layerIndex].objects!.splice(obj.index, 1);\r\n    } else if (type === LayerType.WALLS) {\r\n      let obj = this.wallService.getWallIndexByID(source[selectedUnit].layers[layerIndex].walls!, id);\r\n      source[selectedUnit].layers[layerIndex].walls!.splice(obj.index, 1);\r\n    }\r\n    this.forceUpdate(() => this.setState({ source }));\r\n  }\r\n\r\n  public mapShapeClick(which: number, e: any, id: number, shapeType: LayerType) {\r\n\r\n  }\r\n\r\n  // Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸Ðµ Ñ„Ð¸Ð³ÑƒÑ€ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÑÑ‚Ñ€ÐµÐ»Ð¾Ñ‡ÐµÐº\r\n  public moveShapeByStep(shapeSource, type: LayerType, vector: Vectors) {\r\n    const { source, selectedUnit } = this.state;\r\n    const step = 1;\r\n    if (type === LayerType.STILLAGES) {\r\n      let stillageLayerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.STILLAGES);\r\n      let searchedObj = this.stillageService.stillageSearchByID(source[selectedUnit].layers[stillageLayerIndex].stillages!, shapeSource.id);\r\n      let stillage = source[selectedUnit].layers[stillageLayerIndex].stillages![searchedObj.index];\r\n      if (vector === Vectors.TOP) {\r\n        stillage.y -= step;\r\n      } else if (vector === Vectors.BOTTOM) {\r\n        stillage.y += step;\r\n      } else if (vector === Vectors.LEFT) {\r\n        stillage.x -= step;\r\n      } else if (vector === Vectors.RIGHT) {\r\n        stillage.x += step;\r\n      }\r\n      source[selectedUnit].layers[stillageLayerIndex].stillages![searchedObj.index] = stillage;\r\n\r\n      Emit.Emitter.emit('stillageSignatureForceUpdate', stillage.key, stillage.x, stillage.y);\r\n      Emit.Emitter.emit('placeSignaturesForceUpdate', stillage.key, stillage.x, stillage.y);\r\n      Emit.Emitter.emit('defectsForceUpdate', stillage.key, stillage.x, stillage.y);\r\n\r\n      this.forceUpdate(() => this.setState({ source }));\r\n    }\r\n\r\n  }\r\n\r\n  public setIsShapeMoveEnable(value) {\r\n    this.setState({ isShapeMoveEnable: value });\r\n  }\r\n\r\n  public setIsShapeMovingNow(value, shape) {\r\n    if (shape !== undefined) {\r\n      this.setState({ isShapeMovingNow: value, selectedShapeForMove: shape });\r\n    } else {\r\n      this.setState({ isShapeMovingNow: value });\r\n    }\r\n  }\r\n\r\n  // saving cur pos and wall resizing move rendering\r\n  public MapWrapperOnMouseMove(e) {\r\n    const { source, selectedUnit, layersSelected, selectedWallToResize, wallLayerIndex, resizingWallIndex, isStart } = this.state;\r\n    let { selectedLayer } = this.state;\r\n    // TODO: rows and columns checks\r\n    // TODO: small stillages checks\r\n    // Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸Ðµ Ñ„Ð¸Ð³ÑƒÑ€Ñ‹\r\n    if (this.state.isShapeMovingNow) {\r\n      if (this.state.selectedShapeForMove !== undefined) {\r\n        if (this.state.selectedShapeForMove!.type === LayerType.STILLAGES) {\r\n          let stillageLayerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.STILLAGES);\r\n          let searchedObj = this.stillageService.stillageSearchByID(source[selectedUnit].layers[stillageLayerIndex].stillages!, this.state.selectedShapeForMove.shape.id);\r\n          let stillage = source[selectedUnit].layers[stillageLayerIndex].stillages![searchedObj.index];\r\n          // rows and columns checks for auto completes\r\n          let stillagesList = source[selectedUnit].layers[stillageLayerIndex].stillages;\r\n          for (let i = 0; i < stillagesList!.length; i++) {\r\n            const el = stillagesList![i];\r\n            if (stillage.key !== el.key) {\r\n              // TODO: add scaling\r\n              let x0 = el.x;\r\n              let y0 = el.y;\r\n              let x = e.clientX - this.state.moveStageParams.x;\r\n              let y = e.clientY - this.state.moveStageParams.y;\r\n              let fSide = 75;\r\n              let sSide = 25;\r\n              // stillages auto rows and cols titles by row\r\n              if (el.orientation === stillage.orientation) {\r\n                if (stillage.orientation === Orientation.HORIZONTAL) {\r\n                  if (x > x0) {\r\n                    if (x > x0 && (x <= (x0 + 80 + 75)) && (y > (y0 - 10) && y <= y0 + 35)) {\r\n                      stillage.signature = el.signature;\r\n                      stillage.placeSignatures = this.stillageService.getStillagePlaceSignatures(stillage.size, el.placeSignatures![2].title, false);\r\n                      Emit.Emitter.emit('placeSignatureForceUpdate', stillage.key, stillage.placeSignatures);\r\n                    }\r\n                  } else if (x < x0) {\r\n                    if ((x > (x0 - 100) && x < x0) && (y > (y0 - 10) && y <= (y0 + 35))) {\r\n                      stillage.signature = el.signature;\r\n                      stillage.placeSignatures = this.stillageService.getStillagePlaceSignatures(stillage.size, el.placeSignatures![0].title, true);\r\n                      Emit.Emitter.emit('placeSignatureForceUpdate', stillage.key, stillage.placeSignatures);\r\n                    }\r\n                  }\r\n                  Emit.Emitter.emit('signaturesForceUpdate', stillage.key, stillage.signature);\r\n                } else if (stillage.orientation === Orientation.VERTICAL) {\r\n                  if (y > y0) {\r\n                    if (y > y0 && (y <= (y0 + 80 + 75)) && (x > (x0 - 10) && x <= x0 + 35)) {\r\n                      stillage.signature = el.signature;\r\n                      stillage.placeSignatures = this.stillageService.getStillagePlaceSignatures(stillage.size, el.placeSignatures![2].title, false);\r\n                      Emit.Emitter.emit('placeSignatureForceUpdate', stillage.key, stillage.placeSignatures);\r\n                    }\r\n                  } else if (y < y0) {\r\n                    if ((y > (y0 - 100) && y < y0) && (x > (x0 - 10) && x <= (x0 + 35))) {\r\n                      stillage.signature = el.signature;\r\n                      stillage.placeSignatures = this.stillageService.getStillagePlaceSignatures(stillage.size, el.placeSignatures![0].title, true);\r\n                      Emit.Emitter.emit('placeSignatureForceUpdate', stillage.key, stillage.placeSignatures);\r\n                    }\r\n                  }\r\n                  Emit.Emitter.emit('signaturesForceUpdate', stillage.key, stillage.signature);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          // TODO: add scaling\r\n          stillage.x = e.clientX - this.state.moveStageParams.x;\r\n          stillage.y = e.clientY - this.state.moveStageParams.y;\r\n          source[selectedUnit].layers[stillageLayerIndex].stillages![searchedObj.index] = stillage;\r\n          Emit.Emitter.emit('stillageSignatureForceUpdate', stillage.key, stillage.x, stillage.y);\r\n          Emit.Emitter.emit('placeSignaturesForceUpdate', stillage.key, stillage.x, stillage.y);\r\n          Emit.Emitter.emit('defectsForceUpdate', stillage.key, stillage.x, stillage.y);\r\n          this.forceUpdate(() => this.setState({ source }));\r\n        } else if (this.state.selectedShapeForMove!.type === LayerType.LIGHTING) {\r\n          let lightingLayerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.LIGHTING);\r\n          let searchedObj = this.objectService.searchByID(source[selectedUnit].layers[lightingLayerIndex].objects!, this.state.selectedShapeForMove.shape.id);\r\n          let light = source[selectedUnit].layers[lightingLayerIndex].objects![searchedObj.index];\r\n          // TODO: add scaling\r\n          light.x = e.clientX - this.state.moveStageParams.x;\r\n          light.y = e.clientY - this.state.moveStageParams.y;\r\n          source[selectedUnit].layers[lightingLayerIndex].objects![searchedObj.index] = light;\r\n          this.forceUpdate(() => this.setState({ source }))\r\n        } else if (this.state.selectedShapeForMove!.type === LayerType.WALLS) {\r\n          let wallsLayerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.WALLS);\r\n          let searchedObj = this.wallService.getWallIndexByID(source[selectedUnit].layers[wallsLayerIndex].walls!, this.state.selectedShapeForMove.shape.id);\r\n          let wall = source[selectedUnit].layers[wallsLayerIndex].walls![searchedObj.index];\r\n          // TODO: add scaling\r\n          wall.startX = e.clientX - this.state.moveStageParams.x;\r\n          wall.startY = e.clientY - this.state.moveStageParams.y;\r\n          source[selectedUnit].layers[wallsLayerIndex].walls![searchedObj.index] = wall;\r\n          this.forceUpdate(() => this.setState({ source }));\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    // move_resizing\r\n    if (this.state.isWallResizingNow) {\r\n\r\n      Emit.Emitter.emit('wallMouseDbl', false);\r\n\r\n      let _wall = source[selectedUnit].layers[wallLayerIndex].walls![resizingWallIndex];\r\n\r\n      _wall = this.wallService.resizeWall(e, _wall, isStart, this.state.moveStageParams);\r\n\r\n      source[selectedUnit].layers[wallLayerIndex].walls![resizingWallIndex] = _wall;\r\n\r\n      this.setState({ source });\r\n\r\n    }\r\n    if (this.state.isDrawing) {\r\n      this.setState({\r\n        cursorCoords: {\r\n          startX: this.state.cursorCoords.startX,\r\n          startY: this.state.cursorCoords.startY,\r\n          x: e.clientX,\r\n          y: e.clientY,\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð¾Ñ‚Ð¿ÑƒÑÐºÐ°Ð½Ð¸Ñ Ð»ÐµÐ²Ð¾Ð¹ ÐºÐ½Ð¾ÐºÐ¸ Ð¸Ð»Ð¸ Ð¿Ð°Ð»ÑŒÑ†Ð° Ð´Ð»Ñ Ð´Ð¾Ñ€Ð¸ÑÐ¾Ð²ÐºÐ¸ ÑÑ‚ÐµÐ½Ñ‹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¿Ð¾Ð»Ð·ÑƒÐ½ÐºÐ°\r\n  // PAGE MOUSE UP\r\n  private wallLabelButtonInteractionWayUp(e) {\r\n    const { source, isStart, selectedUnit, layersSelected, isWallResizingNow, selectedWallToResize, wallLayerIndex } = this.state;\r\n    let { selectedLayer } = this.state;\r\n    this.setState({ isShapeMovingNow: false });\r\n    if (isWallResizingNow && selectedWallToResize) {\r\n      let found = this.wallService.getWallIndexByID(source[selectedUnit].layers[wallLayerIndex].walls!, selectedWallToResize.id);\r\n      let _wall: WallItem = found.item;\r\n      _wall = this.wallService.resizeWall(e, _wall, isStart, this.state.moveStageParams);\r\n      source[selectedUnit].layers[wallLayerIndex].walls![found.index] = _wall;\r\n\r\n      source[selectedUnit].layers[wallLayerIndex].walls = this.layerService.deleteBadWalls(\r\n        source[selectedUnit].layers[wallLayerIndex].walls!\r\n      );\r\n\r\n      this.setState({ resizingWallIndex: found.index, source, isWallResizingNow: false, isDrawing: false, layersSelected: layersSelected });\r\n      Emit.Emitter.emit('wallMouseDbl', false);\r\n    }\r\n  }\r\n\r\n  // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð·Ð°Ð¶Ð°Ñ‚Ð¸Ñ Ð»ÐµÐ²Ð¾Ð¹ ÐºÐ½Ð¾ÐºÐ¸ Ð¸Ð»Ð¸ Ð¿Ð°Ð»ÑŒÑ†Ð° Ð´Ð»Ñ Ð´Ð¾Ñ€Ð¸ÑÐ¾Ð²ÐºÐ¸ ÑÑ‚ÐµÐ½Ñ‹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¿Ð¾Ð»Ð·ÑƒÐ½ÐºÐ°\r\n  private wallLabelButtonInteractionWayDown(e, wallSource: WallItem, isStart: boolean) {\r\n    Emit.Emitter.emit('wallMouseDbl', false);\r\n    const { source, layersSelected, selectedUnit } = this.state; let selectedLayer = -1;\r\n    let layerFlag = this.layerService.getLayerIndex(layersSelected, source[selectedUnit].layers, LayerType.WALLS);\r\n\r\n\r\n    let _index = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.WALLS);\r\n    let _source = source[selectedUnit];\r\n\r\n    if (_index === -1) {\r\n      _source.layers.push(\r\n        this.layerService.getLayerSourceItem(source[selectedUnit], LayerType.WALLS)\r\n      );\r\n    }\r\n\r\n    _index = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.WALLS);\r\n    if (selectedLayer === -1) {\r\n      this.setState({ wallLayerIndex: _index, selectedLayer: -1 });\r\n    } else {\r\n      layersSelected.push(_index);\r\n      this.setState({ layersSelected, selectedLayer: _index, wallLayerIndex: _index });\r\n    }\r\n    let found = this.wallService.getWallIndexByID(source[selectedUnit].layers[_index].walls!, wallSource.id);\r\n    this.setState({ resizingWallIndex: found.index, isStart, selectedWallToResize: wallSource, isWallResizingNow: true, isDrawing: true });\r\n  }\r\n\r\n\r\n\r\n  private stageDragEnd(x: number, y: number) {\r\n    this.setState({\r\n      moveStageParams: {\r\n        x: x,\r\n        y: y,\r\n      },\r\n    });\r\n  }\r\n\r\n  private addLayerModalWorker(modalMode: boolean) {\r\n    this.setState({ isAddLayerModal: modalMode });\r\n  }\r\n\r\n  public defectBrowsePanelWorker(value: boolean) {\r\n    this.setState({\r\n      isDefectBrowsePanel: value\r\n    });\r\n  }\r\n\r\n\r\n  private StageOnMouseMoveHandler(e) {\r\n    const { source, selectedUnit, selectedLayer, isDrawing, wallIndex, moveStageParams, cursorCoords, wallLayerIndex } = this.state;\r\n\r\n    if (this.state.cncFlag) {\r\n      if (isDrawing) {\r\n        let _wall = source[selectedUnit].layers[wallLayerIndex].walls![wallIndex];\r\n        if (_wall.orientation === Orientation.HORIZONTAL) {\r\n          if (_wall.startX < (e.evt.clientX - moveStageParams.x)) {\r\n            let _length = Math.abs(_wall.startX - (e.evt.clientX - moveStageParams.x));\r\n            _wall.length += _length - _wall.length;\r\n          } else if (_wall.startX > (e.evt.clientX - moveStageParams.x)) {\r\n            _wall.startX = (e.evt.clientX - moveStageParams.x);\r\n            _wall.length = Math.abs(_wall.startX - cursorCoords.startX);\r\n          }\r\n        } else {\r\n          if (_wall.startY < (e.evt.clientY - moveStageParams.y)) {\r\n            let _length = Math.abs(_wall.startY - (e.evt.clientY - moveStageParams.y));\r\n            _wall.length += _length - _wall.length;\r\n          } else if (_wall.startY > (e.evt.clientY - moveStageParams.y)) {\r\n            _wall.startY = (e.evt.clientY - moveStageParams.y);\r\n            _wall.length = Math.abs(_wall.startY - cursorCoords.startY);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private StageOnMouseDownHandler(e) {\r\n    const { source, selectedUnit, selectedLayer, layersSelected } = this.state;\r\n    if (this.state.cncFlag) {\r\n      let selected: ElementItem = AppState.State.selectedEl;\r\n      if (selected !== undefined) {\r\n        this.setState({\r\n          isDrawing: true,\r\n          cursorCoords: {\r\n            startX: e.evt.clientX,\r\n            startY: e.evt.clientY,\r\n            x: 0,\r\n            y: 0,\r\n          },\r\n          upDownCoords: {\r\n            up: this.state.upDownCoords.up,\r\n            down: {\r\n              x: e.evt.clientX,\r\n              y: e.evt.clientY,\r\n            },\r\n          }\r\n        });\r\n        // wall layer checking\r\n        let index = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.WALLS);\r\n        let _source = source[selectedUnit];\r\n\r\n        if (index === -1) {\r\n          _source.layers.push(\r\n            this.layerService.getLayerSourceItem(source[selectedUnit], LayerType.WALLS)\r\n          );\r\n        }\r\n\r\n        index = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, LayerType.WALLS);\r\n        if (selectedLayer === -1) {\r\n          this.setState({ wallLayerIndex: index, selectedLayer: -1 });\r\n        } else {\r\n          layersSelected.push(index);\r\n          this.setState({ layersSelected, selectedLayer: index, wallLayerIndex: index });\r\n        }\r\n\r\n        let clientX = e.evt.clientX - this.state.moveStageParams.x;\r\n        let clientY = e.evt.clientY - this.state.moveStageParams.y;\r\n\r\n        if (this.layerService.hasUnderChild(source[selectedUnit].layers!, selected.type!, clientX, clientY, selected)) return;\r\n        // addWall\r\n        // adding new wall for resizing in the future moving\r\n\r\n        if (source[selectedUnit].layers[index].type === LayerType.WALLS) {\r\n\r\n          source[selectedUnit].layers[index].walls!.push(\r\n            this.wallService.getWallSourceItem(\r\n              source[selectedUnit].layers[index],\r\n              clientX,\r\n              clientY,\r\n              25,\r\n              AppState.State.selectedEl.orientation\r\n            )\r\n          );\r\n\r\n          let walls = source[selectedUnit].layers[index].walls!;\r\n          let wallIndex = this.wallService.getWallIndexByID(walls, walls[walls.length - 1].id).index;\r\n          source[selectedUnit].layers[index].walls = walls;\r\n          this.setState({ wallIndex, source });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private StageOnMouseUpHandler(e) {\r\n    if (this.state.isWallResizingNow) {\r\n      this.setState({ isWallResizingNow: false, isDrawing: false })\r\n    }\r\n    if (this.state.cncFlag) {\r\n      this.setState({\r\n        // cncFlag: false,\r\n        isDrawing: false,\r\n        cursorCoords: {\r\n          startX: this.state.cursorCoords.startX,\r\n          startY: this.state.cursorCoords.startY,\r\n          x: e.evt.clientX,\r\n          y: e.evt.clientY,\r\n        },\r\n        upDownCoords: {\r\n          up: {\r\n            x: e.evt.clientX,\r\n            y: e.evt.clientY,\r\n          },\r\n          down: this.state.upDownCoords.down,\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public selectLayerToList(i) {\r\n    const { source, layersSelected } = this.state;\r\n    if (layersSelected.includes(i)) {\r\n      let index = layersSelected.indexOf(i);\r\n      layersSelected.splice(index, 1);\r\n    } else {\r\n      layersSelected.push(i);\r\n    }\r\n    if (source.length + 1 === layersSelected.length) {\r\n      this.setState({\r\n        layersSelected,\r\n        selectedLayer: -1,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        layersSelected,\r\n        selectedLayer: layersSelected.length === 0 ? -1 : i,\r\n      });\r\n    }\r\n  }\r\n\r\n  // need\r\n  public deleteWall() {\r\n    alert('DELETING');\r\n  }\r\n\r\n  // cnc flag changing (need)\r\n  public cncFlagChange() {\r\n    if (this.state.cncFlag) {\r\n      Emit.Emitter.emit('borderCleanAction');\r\n    }\r\n    this.setState({\r\n      cncFlag: !this.state.cncFlag\r\n    });\r\n  }\r\n\r\n\r\n\r\n  public addElement(clientX: number, clientY: number) {\r\n    const { source, selectedUnit, selectedLayer, layersSelected, cncFlag } = this.state;\r\n    let selected: ElementItem = AppState.State.selectedEl;\r\n\r\n\r\n    if (selected !== undefined) {\r\n      let _layerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, selected.type!);\r\n      let layer: MapSourceLayer;\r\n      if (_layerIndex === -1) {\r\n        source[selectedUnit].layers.push(\r\n          this.layerService.getLayerSourceItem(source[selectedUnit], selected.type!)\r\n        );\r\n        _layerIndex = this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers, selected.type!);\r\n      }\r\n\r\n      layer = source[selectedUnit].layers[_layerIndex];\r\n\r\n      if (layer.mapIconsType === MapIconsType.DRAWING) {\r\n        if (layer.type === LayerType.STILLAGES) {\r\n          if (this.layerService.hasUnderChild(source[selectedUnit].layers!, selected.type!, (clientX - this.state.moveStageParams.x), (clientY - this.state.moveStageParams.y), selected)) return;\r\n          if (layer.stillages === undefined) {\r\n            source[selectedUnit].layers[selectedLayer].stillages = [];\r\n          }\r\n          layer.stillages!.push(\r\n            this.stillageService.getStillageSourceItem(\r\n              source[selectedUnit].layers[_layerIndex],\r\n              { x: (clientX - this.state.moveStageParams.x), y: (clientY - this.state.moveStageParams.y) },\r\n              selected.stillageType!\r\n            )\r\n          );\r\n        }\r\n      } else {\r\n        if (layer.type === LayerType.LIGHTING) {\r\n          layer.objects!.push(\r\n            this.objectService.getObjectSourceItem(\r\n              source[selectedUnit].layers[_layerIndex],\r\n              { x: (clientX - this.state.moveStageParams.x), y: (clientY - this.state.moveStageParams.y) },\r\n              selected.photo\r\n            )\r\n          );\r\n        }\r\n      }\r\n      if (selectedLayer !== -1) {\r\n        layersSelected.push(_layerIndex);\r\n        source[selectedUnit].layers[_layerIndex] = layer;\r\n        this.forceUpdate(() => this.setState({ source, selectedLayer: _layerIndex }));\r\n      } else {\r\n        source[selectedUnit].layers[_layerIndex] = layer;\r\n        this.forceUpdate(() => this.setState({ source, selectedLayer: -1 }));\r\n      }\r\n      // Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ ÐºÐ½Ð¾Ð¿Ð¾Ðº Ð¿Ð»ÑŽÑ Ñƒ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð½Ð¾Ð³Ð¾ ÑÑ‚ÐµÐ»Ð»Ð°Ð¶Ð°\r\n      this.forceUpdate(() => Emit.Emitter.emit('forceSetIsAddingChange', true));\r\n    }\r\n  }\r\n\r\n  public stageOnClickHandler(e) {\r\n    if (this.state.isAddCircleAdding) {\r\n      this.setState({ isAddCircleAdding: false });\r\n      return;\r\n    }\r\n    // cnc element adding\r\n    if (this.state.cncFlag) {\r\n      let selected: ElementItem = AppState.State.selectedEl;\r\n      if (selected !== undefined) {\r\n        this.addElement(e.clientX, e.clientY);\r\n        // Emit.Emitter.emit('borderCleanAction');\r\n        // this.setState({cncFlag: false});\r\n      }\r\n    }\r\n  }\r\n\r\n  public ElementOnDrop(e) {\r\n    this.addElement(e.clientX, e.clientY);\r\n  };\r\n\r\n  public filtersOnChangeAction(checkName) {\r\n\r\n  }\r\n\r\n\r\n  handleWheel = e => {\r\n    e.evt.preventDefault();\r\n\r\n    const scaleBy = 1.025;\r\n    const stage = e.target.getStage();\r\n    const oldScale = stage.scaleX();\r\n    const mousePointTo = {\r\n      x: stage.getPointerPosition().x / oldScale - stage.x() / oldScale,\r\n      y: stage.getPointerPosition().y / oldScale - stage.y() / oldScale\r\n    };\r\n\r\n    const newScale = e.evt.deltaY > 0 ? oldScale * scaleBy : oldScale / scaleBy;\r\n\r\n    stage.scale({ x: (newScale * -1), y: (newScale * -1) });\r\n\r\n    this.setState({\r\n      stageScale: newScale,\r\n      stageX:\r\n        -(mousePointTo.x - stage.getPointerPosition().x / newScale) * newScale,\r\n      stageY:\r\n        -(mousePointTo.y - stage.getPointerPosition().y / newScale) * newScale\r\n    });\r\n  };\r\n\r\n\r\n\r\n\r\n  render() {\r\n    const { source, selectedLayer, selectedUnit, layersSelected, isDefectBrowsePanel, isWallResizingNow } = this.state;\r\n\r\n    let unitsTitles: Array<JSX.Element> = [];\r\n    let layersTitles: Array<JSX.Element> = [];\r\n    let objects: Array<JSX.Element> = [];\r\n    let stillages: Array<JSX.Element> = [];\r\n    let signatures: Array<JSX.Element> = [];\r\n    let layers: Array<JSX.Element> = [];\r\n    let walls: Array<JSX.Element> = [];\r\n\r\n\r\n\r\n    let height = window.innerHeight;\r\n\r\n    // Ð²Ñ‹Ð²Ð¾Ð´ ÑÐ¿Ð¸ÑÐºÐ° Ð±Ð»Ð¾ÐºÐ¾Ð²\r\n    for (let i = 0; i < source.length; i++) {\r\n      unitsTitles.push(\r\n        <div\r\n          key={source[i].key + '_unitNameDiv_' + i}\r\n          onClick={() => {\r\n            this.setState({ ...this.state, ...{ selectedUnit: i, selectedLayer: -1, layersSelected: [] } });\r\n          }} className=\"unit-title\">\r\n          <span\r\n            key={source[i].key + '_unitNameDivSpan_' + i}\r\n            style={{\r\n              fontWeight: selectedUnit === i ? 'bold' : 'normal',\r\n              color: selectedUnit === i ? '#2f00ff' : 'black'\r\n            }}>{source[i].title}</span>\r\n        </div>\r\n      );\r\n    }\r\n    layersTitles = [];\r\n    /* Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ÑÐ»Ð¾Ñ Ð´Ð»Ñ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð²ÑÐµÑ… ÑÐ»Ð¾ÐµÐ² */\r\n    layersTitles.push(\r\n      <div key={source[selectedUnit].key + '_layerNameDiv_-1'} style={{\r\n        fontWeight: selectedLayer === -1 ? 'bold' : 'normal',\r\n        color: selectedLayer === -1 ? '#2f00ff' : 'black'\r\n      }} className=\"layer-title\" onClick={() => {\r\n        this.setState({ layersSelected, selectedLayer: -1 })\r\n      }}>\r\n        Ð²ÑÐµ ÑÐ»Ð¾Ð¸\r\n      </div>\r\n    );\r\n    /* Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð² ÑÐ»Ð¾ÐµÐ² */\r\n    for (let i = 0; i < source[selectedUnit].layers.length; i++) {\r\n      layersTitles.push(\r\n        <div key={source[selectedUnit].layers[i].key + '_layerNameDiv_' + i} style={{\r\n          fontWeight: layersSelected.includes(i, 0) ? 'bold' : 'normal',\r\n          color: layersSelected.includes(i, 0) ? '#2f00ff' : 'black'\r\n        }} onClick={() => {\r\n          this.selectLayerToList(i);\r\n        }} className=\"layer-title\">\r\n          <input\r\n            key={source[selectedUnit].layers[i].key + '_layerNameDivInput_' + i}\r\n            onChange={() => { console.log(i) }}\r\n            style={{ outline: 'none', marginRight: 5 }}\r\n            checked={layersSelected.includes(i, 0)}\r\n            type={'checkbox'} />\r\n          {source[selectedUnit].layers[i].title}</div>\r\n      );\r\n    }\r\n\r\n\r\n    if (selectedLayer === -1) {\r\n      let layerNum = 0;\r\n      source[selectedUnit].layers.forEach(element => {\r\n        if (element.objects !== undefined) {\r\n          for (let i = 0; i < element.objects!.length; i++) {\r\n            objects.push(\r\n              <MapObject\r\n                key={element.objects[i].key}\r\n                source={element.objects![i]}\r\n              />\r\n            );\r\n          }\r\n        }\r\n        if (element.stillages !== undefined) {\r\n          let _mapStillages = source[selectedUnit].layers[this.layerService.getLayerIndexByTypeBinary(source[selectedUnit].layers!, LayerType.STILLAGES)].stillages;\r\n          for (let i = 0; i < element.stillages!.length; i++) {\r\n            stillages.push(\r\n              <Stillage\r\n                key={element.stillages[i].key}\r\n                source={element.stillages![i]}\r\n                mapStillages={_mapStillages!}\r\n              />\r\n            );\r\n          }\r\n        }\r\n        if (element.walls !== undefined) {\r\n          for (let i = 0; i < element.walls!.length; i++) {\r\n            walls.push(\r\n              <Wall\r\n                key={element.walls[i].key}\r\n                source={element.walls[i]}\r\n              />\r\n            );\r\n          }\r\n        }\r\n        layerNum++;\r\n      });\r\n    } else {\r\n      if (this.state.layersSelected.length !== 0) {\r\n        layersSelected.forEach(el => {\r\n          if (source[selectedUnit].layers[el] !== undefined) {\r\n            if (source[selectedUnit].layers[el].stillages !== undefined) {\r\n              for (let i = 0; i < source[selectedUnit].layers[el].stillages!.length; i++) {\r\n                stillages.push(\r\n                  <Stillage\r\n                    key={source[selectedUnit].layers[el].stillages![i].key}\r\n                    source={source[selectedUnit].layers[el].stillages![i]}\r\n                    mapStillages={source[selectedUnit].layers[el].stillages!}\r\n                  />\r\n                );\r\n              }\r\n            }\r\n            if (source[selectedUnit].layers[el].walls !== undefined) {\r\n              for (let i = 0; i < source[selectedUnit].layers[el].walls!.length; i++) {\r\n                let element = source[selectedUnit].layers[el].walls![i];\r\n                walls.push(\r\n                  <Wall\r\n                    key={element.key}\r\n                    source={source[selectedUnit].layers[el].walls![i]}\r\n                  />\r\n                );\r\n              }\r\n            }\r\n            if (source[selectedUnit].layers[el].objects !== undefined) {\r\n              for (let i = 0; i < source[selectedUnit].layers[el].objects!.length; i++) {\r\n                walls.push(\r\n                  <MapObject\r\n                    key={source[selectedUnit].layers[el].objects![i].key}\r\n                    source={source[selectedUnit].layers[el].objects![i]}\r\n                  />\r\n                );\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n    let main, blocks, filters, elementsPanel, defectBrowsePanel, addLayerSubModal;\r\n\r\n    blocks = (\r\n      <div style={{ background: '#E0E0E0' }} className=\"units-selector\">\r\n        <div style={{ background: '' }} className=\"unit-header-title\">\r\n          <span style={{ height: '50%' }}>Ð²Ñ‹Ð±Ð¾Ñ€ Ð±Ð»Ð¾ÐºÐ°</span>\r\n        </div>\r\n        <div style={{ background: '' }} className=\"unit-content\">\r\n          {unitsTitles}\r\n        </div>\r\n      </div>\r\n    );\r\n    filters = (\r\n      <div className=\"filters-selector\" style={{ background: '#E0E0E0' }}>\r\n        <div style={{ background: '' }} className=\"filter-header-title\">\r\n          <span style={{ height: '50%' }}>Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹</span>\r\n        </div>\r\n        <div style={{ background: '' }} className=\"filter-content\">\r\n          <div className=\"input-checkbox\">\r\n            <div style={{}}><input onChange={() => this.filtersOnChangeAction('onlyRed')} style={{ height: '50%' }} type=\"checkbox\" name=\"option2\" value=\"a2\" /></div>\r\n            <div style={{ height: '100%', fontSize: '0.9vw', paddingLeft: '2%', display: 'flex' }}>\r\n              Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð¿Ð°ÑÐ½Ñ‹Ðµ\r\n            </div>\r\n          </div>\r\n          <div className=\"input-checkbox\">\r\n            <div style={{}}><input onChange={() => this.filtersOnChangeAction('onlyRed')} style={{ height: '50%' }} type=\"checkbox\" name=\"option2\" value=\"a2\" /></div>\r\n            <div style={{ height: '100%', fontSize: '0.9vw', paddingLeft: '2%', display: 'flex' }}>\r\n              ÑƒÐ±Ñ€Ð°Ñ‚ÑŒ Ð¿Ð¾Ð²Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    elementsPanel = <ElementsPanel source={ElementSource} />;\r\n\r\n    if (isDefectBrowsePanel) {\r\n      defectBrowsePanel = <DefectBrowsePanel />;\r\n    }\r\n\r\n    let check = false;\r\n    if (AppState.State.selectedEl !== undefined) {\r\n      if (AppState.State.selectedEl.type !== undefined && AppState.State.selectedEl.type === LayerType.WALLS) {\r\n        check = true;\r\n      }\r\n    }\r\n\r\n    /* Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ° ÑÐ¿Ð¸ÑÐºÐ° ÑÑ‚ÐµÐ½ Ð¾Ñ‚ Ð´ÑƒÐ±Ð»ÐµÐ¹ Ñ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ñ‹Ð¼Ð¸ key */\r\n    let keys: string[] = [];\r\n    walls.forEach((el) => {\r\n      if (keys.indexOf(el.key!.toString()) === -1) {\r\n        keys.push(el.key!.toString());\r\n      }\r\n    });\r\n    walls = walls.filter((item, index) => {\r\n      return index === keys.indexOf(item.key!.toString());\r\n    });\r\n\r\n\r\n    main = (\r\n      <div\r\n        key={this.state.parentKey + '_mapWrapper_div'}\r\n        className=\"map-wrapper\"\r\n        onDragOver={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }}\r\n\r\n      >\r\n\r\n        <div className=\"stage-wrapper\"\r\n          key={this.state.parentKey + '_stageWrapper_div'}\r\n          onDrop={(e) => { this.ElementOnDrop(e) }}\r\n          onClick={(e) => { this.stageOnClickHandler(e) }}\r\n          onMouseMove={(e) => { this.MapWrapperOnMouseMove(e) }}\r\n          onTouchMove={(e) => { this.MapWrapperOnMouseMove(e) }}\r\n          onMouseUp={(e) => { this.wallLabelButtonInteractionWayUp(e) }}\r\n          id={\"stageWrapper\"}\r\n        >\r\n          <Stage\r\n            key={this.state.parentKey + '_mapStage_stage'}\r\n            draggable={!this.state.isDrawing && !this.state.isShapeMovingNow}\r\n\r\n            onTouchMove={check ? (e) => { this.StageOnMouseMoveHandler(e) } : () => { }}\r\n            onTouchStart={check ? (e) => { this.StageOnMouseDownHandler(e) } : () => { }}\r\n            onTouchEnd={check ? (e) => { this.StageOnMouseUpHandler(e) } : () => { }}\r\n\r\n            onDragEnd={e => { this.stageDragEnd(e.target.x(), e.target.y()) }}\r\n\r\n            onMouseMove={check ? (e) => { this.StageOnMouseMoveHandler(e) } : () => { }}\r\n            onMouseDown={check ? (e) => { this.StageOnMouseDownHandler(e) } : () => { }}\r\n            onMouseUp={check ? (e) => { this.StageOnMouseUpHandler(e) } : () => { }}\r\n\r\n            style={{ cursor: 'pointer' }}\r\n            width={window.innerWidth}\r\n            height={height}\r\n            onWheel={this.handleWheel}\r\n\r\n            scaleX={this.state.stageScale}\r\n            scaleY={this.state.stageScale}\r\n            x={this.state.stageX}\r\n            y={this.state.stageY}>\r\n            <Layer>\r\n              {walls}\r\n              {stillages}\r\n              {objects}\r\n            </Layer>\r\n          </Stage>\r\n        </div>\r\n        {elementsPanel}\r\n\r\n        <div key={this.state.parentKey + '_rightBarsWrapper_div'} className={\"right-bars-wrapper\"}>\r\n          {blocks}\r\n          {filters}\r\n        </div>\r\n        <div key={this.state.parentKey + '_layersSelectorWrapper_div'} style={{ background: '#E0E0E0' }} className=\"layers-selector-wrapper\">\r\n          {layersTitles}\r\n        </div>\r\n        {defectBrowsePanel}\r\n      </div>);\r\n    return [main];\r\n  }\r\n}\r\n","import LayerType from '../../MapCore/Models/Enums/LayerType';\r\nimport Orientation from '../../MapCore/Models/Enums/Orientation';\r\nimport StillageSize from '../../MapCore/Models/Enums/StillageSize/StillageSize';\r\nimport MapSourceUnit from '../../MapCore/Models/MapSourceUnit';\r\nimport DefectColors from '../../MapCore/Models/Enums/Colors/DefectColors';\r\nimport SignaturePosition from './../../MapCore/Models/Enums/SignaturePosition';\r\nimport Images from \"../../MapCore/Data/Images\";\r\nimport MapIconsType from \"../../MapCore/Models/Enums/MapIconsType\";\r\n\r\nconst MapSource: Array<MapSourceUnit> = [\r\n    {\r\n        id: 0,\r\n        key: 'unit_0',\r\n        title: 'Ð‘Ð»Ð¾Ðº 1',\r\n        layers: [\r\n            {\r\n                id: 1,\r\n                key: 'unit_0_layer_1',\r\n                title: 'ÐžÑÐ²ÐµÑ‰ÐµÐ½Ð¸Ðµ',\r\n                type: LayerType.LIGHTING,\r\n                mapIconsType: MapIconsType.IMAGE,\r\n                objects: [\r\n                    {\r\n                        id: 0,\r\n                        key: 'unit_0_layer_1_object_0',\r\n                        x: 450,\r\n                        y: 150,\r\n                        photo: Images.lightbulb,\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                id: 0,\r\n                key: 'unit_0_layer_0',\r\n                title: 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶Ð¸',\r\n                type: LayerType.STILLAGES,\r\n                mapIconsType: MapIconsType.DRAWING,\r\n                stillages: [\r\n                    {\r\n                        id: 0,\r\n                        key: 'unit_0_layer_0_stillage_0',\r\n                        x: 250,\r\n                        y: 600,\r\n                        orientation: Orientation.HORIZONTAL,\r\n                        signature: {\r\n                            title: '12',\r\n                            position: SignaturePosition.TOP,\r\n                        },\r\n                        size: StillageSize.NORMAL,\r\n                        placeSignatures: [\r\n                            {\r\n                                place: 1,\r\n                                title: '12',\r\n                            },\r\n                            {\r\n                                place: 2,\r\n                                title: '112',\r\n                            },\r\n                            {\r\n                                place: 3,\r\n                                title: '6',\r\n                            },\r\n                        ],\r\n                        viks: [\r\n                            // {\r\n                            //     place: 1,\r\n                            //     level: 2,\r\n                            //     color: DefectColors.YELLOW\r\n                            // },\r\n                            // {\r\n                            //     place: 2,\r\n                            //     level: 3,\r\n                            //     color: DefectColors.GREEN,\r\n                            // },\r\n                            // {\r\n                            //     place: 3,\r\n                            //     level: 3,\r\n                            //     color: DefectColors.RED\r\n                            // }\r\n                        ]\r\n                    },\r\n                    {\r\n                        id: 1,\r\n                        key: 'unit_0_layer_0_stillage_1',\r\n                        x: 600,\r\n                        y: 456,\r\n                        orientation: Orientation.VERTICAL,\r\n                        signature: {\r\n                            title: '15',\r\n                            position: SignaturePosition.LEFT,\r\n                        },\r\n                        size: StillageSize.NORMAL,\r\n                        placeSignatures: [\r\n                            {\r\n                                place: 1,\r\n                                title: '12',\r\n                            },\r\n                            {\r\n                                place: 2,\r\n                                title: '112',\r\n                            },\r\n                            {\r\n                                place: 3,\r\n                                title: '6',\r\n                            },\r\n                        ],\r\n                        viks: [\r\n\r\n                        ]\r\n                    },\r\n                    {\r\n                        id: 2,\r\n                        key: 'unit_0_layer_0_stillage_2',\r\n                        x: 250,\r\n                        y: 456,\r\n                        orientation: Orientation.HORIZONTAL,\r\n                        signature: {\r\n                            title: '15',\r\n                            position: SignaturePosition.BOTTOM,\r\n                        },\r\n                        size: StillageSize.NORMAL,\r\n                        placeSignatures: [\r\n                            {\r\n                                place: 1,\r\n                                title: '10',\r\n                            },\r\n                            {\r\n                                place: 2,\r\n                                title: '11',\r\n                            },\r\n                            {\r\n                                place: 3,\r\n                                title: '12',\r\n                            },\r\n                        ],\r\n                        viks: [\r\n\r\n                        ]\r\n                    },\r\n                    {\r\n                        id: 3,\r\n                        key: 'unit_0_layer_0_stillage_3',\r\n                        x: 330,\r\n                        y: 456,\r\n                        orientation: Orientation.HORIZONTAL,\r\n                        signature: {\r\n                            title: '15',\r\n                            position: SignaturePosition.BOTTOM,\r\n                        },\r\n                        size: StillageSize.NORMAL,\r\n                        placeSignatures: [\r\n                            {\r\n                                place: 1,\r\n                                title: '13',\r\n                            },\r\n                            {\r\n                                place: 2,\r\n                                title: '14',\r\n                            },\r\n                            {\r\n                                place: 3,\r\n                                title: '15',\r\n                            },\r\n                        ],\r\n                        viks: [\r\n\r\n                        ]\r\n                    },\r\n                    {\r\n                        id: 4,\r\n                        key: 'unit_0_layer_0_stillage_4',\r\n                        x: 1000,\r\n                        y: 200,\r\n                        orientation: Orientation.HORIZONTAL,\r\n                        signature: {\r\n                            title: '25',\r\n                            position: SignaturePosition.BOTTOM,\r\n                        },\r\n                        size: StillageSize.NORMAL,\r\n                        placeSignatures: [\r\n                            {\r\n                                place: 1,\r\n                                title: '24',\r\n                            },\r\n                            {\r\n                                place: 2,\r\n                                title: '25',\r\n                            },\r\n                            {\r\n                                place: 3,\r\n                                title: '26',\r\n                            },\r\n                        ],\r\n                        viks: [\r\n\r\n                        ]\r\n                    },\r\n                    {\r\n                        id: 5,\r\n                        key: 'unit_0_layer_0_stillage_5',\r\n                        x: 600,\r\n                        y: 700,\r\n                        orientation: Orientation.VERTICAL,\r\n                        signature: {\r\n                            title: '15',\r\n                            position: SignaturePosition.RIGHT,\r\n                        },\r\n                        size: StillageSize.NORMAL,\r\n                        placeSignatures: [\r\n                            {\r\n                                place: 1,\r\n                                title: '12',\r\n                            },\r\n                            {\r\n                                place: 2,\r\n                                title: '112',\r\n                            },\r\n                            {\r\n                                place: 3,\r\n                                title: '6',\r\n                            },\r\n                        ],\r\n                        viks: [\r\n\r\n                        ]\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                id: 2,\r\n                key: 'unit_0_layer_2',\r\n                title: 'Ð¡Ñ‚ÐµÐ½Ñ‹',\r\n                type: LayerType.WALLS,\r\n                mapIconsType: MapIconsType.DRAWING,\r\n                walls: [\r\n                    {\r\n                        id: 0,\r\n                        key: 'unit_0_layer_2_wall_0',\r\n                        startX: 100,\r\n                        startY: 250,\r\n                        length: 950,\r\n                        orientation: Orientation.HORIZONTAL,\r\n                    },\r\n                ]\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: 1,\r\n        key: 'unit_1',\r\n        title: 'Ð¡ÐºÐ»Ð°Ð´',\r\n        layers: [\r\n            {\r\n                id: 0,\r\n                key: 'unit_1_layer_0',\r\n                title: 'Ð¡Ñ‚ÐµÐ»Ð»Ð°Ð¶Ð¸',\r\n                type: LayerType.STILLAGES,\r\n                mapIconsType: MapIconsType.DRAWING,\r\n                stillages: [\r\n\r\n                ],\r\n            },\r\n            {\r\n                id: 1,\r\n                key: 'unit_1_layer_0',\r\n                title: 'Ð¡Ñ‚ÐµÐ½Ñ‹',\r\n                type: LayerType.WALLS,\r\n                mapIconsType: MapIconsType.DRAWING,\r\n                walls: [\r\n                    {\r\n                        id: 0,\r\n                        key: 'unit_1_layer_0_wall_0',\r\n                        startX: 500,\r\n                        startY: 300,\r\n                        length: 400,\r\n                        orientation: Orientation.HORIZONTAL,\r\n                    },\r\n                    {\r\n                        id: 1,\r\n                        key: 'unit_1_layer_0_wall_1',\r\n                        startX: 500,\r\n                        startY: 400,\r\n                        length: 400,\r\n                        orientation: Orientation.HORIZONTAL,\r\n                    },\r\n                    {\r\n                        id: 2,\r\n                        key: 'unit_1_layer_0_wall_2',\r\n                        startX: 300,\r\n                        startY: 400,\r\n                        length: 200,\r\n                        orientation: Orientation.VERTICAL,\r\n                    },\r\n                ],\r\n            }\r\n        ]\r\n    },\r\n\r\n\r\n\r\n];\r\n\r\nexport default MapSource;\r\n","import React from 'react';\r\nimport IMapViewProps from '../model/Components/MapView/IMapViewProps';\r\nimport IMapViewState from '../model/Components/MapView/IMapViewState';\r\nimport Map from '../../MapCore/Map';\r\nimport MapSource from './../data/MapSource';\r\nimport {useParams} from \"react-router\";\r\n\r\nexport default class MapView extends React.Component<IMapViewProps, IMapViewState> {\r\n\r\n    constructor(props: IMapViewProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        // console.log(this.props.match.params);\r\n        // let {id} = useParams();\r\n        // console.log(id);\r\n        return (\r\n            <Map\r\n                key={'MapView_component'}\r\n                parentKey={'MapView_component'}\r\n                source={MapSource}\r\n            />\r\n        );\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport {Switch, Route, Redirect, Link} from 'react-router-dom';\r\nimport IRouterState from '../model/Components/Router/IRouterState';\r\nimport IRouterProps from '../model/Components/Router/IRouterProps';\r\nimport Introducing from '../view/Introducing';\r\nimport MapView from '../view/MapView';\r\n\r\n\r\nexport default class Router extends React.Component<IRouterProps, IRouterState> {\r\n    constructor(props: IRouterProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Switch>\r\n                <Route exact path='/' component={Introducing}>\r\n                    <Redirect to=\"/map\" />\r\n                </Route>\r\n                <Route path='/map/:id?' component={MapView} />\r\n            </Switch>\r\n        );\r\n    }\r\n}\r\n\r\n","import React from 'react';\nimport './css/App.css';\nimport Router from './components/Router';\n\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <div className=\"Router-wrapper\">\n        <Router />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './A100/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render((\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/compStillage.846f1a4d.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageTop.f39afa71.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageVertLeft.b6a5bf51.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageVertRight.6a9ab3df.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageSmall.1a2e3295.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageSmallTop.c48e2b42.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageSmallVertLeft.1dd7fb81.png\";","module.exports = __webpack_public_path__ + \"static/media/compStillageSmallVertRight.8df13d91.png\";","module.exports = __webpack_public_path__ + \"static/media/lightbulb.0d6c72e2.png\";","module.exports = __webpack_public_path__ + \"static/media/idea.dc28b75b.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAQAAABecRxxAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjDAIKBg0WgbjrAAAVmElEQVR42u3ceXTV5Z3H8XduQHZUVBYVlKosarWlBRVxx1FblalLraiVOtPR2mlPT3vsWHtO57SnM12sPbO11dNpFe1onS7aWu2GdRRQAUFq2ZciILKIogmoEODOH9cYuJqQ5Pf88iS/5/16/smi33y/z+/5fXJvcgNIkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkqQsapr9TF/ez1EMit2g9mEH61jMQnZ38NctcRyjOYz9Ym+A9mEjK3mWre/+yXcLgH5MZjLj6Ra7c7XaKzzCXTzaIV+rhnOYwgUMiD20Wq2BJ7mXe5uLgSY9+TIvU3Z1yTWXc3M/SucxL/qcrvatzXyJHntfzr0fAXyQezmmY6NJgf2EG6nPqXZ/fsDk2AMqk6VMZl7Tu3sGwNX8yGd0BbCEC3g+h7rD+R0jYg+nzLZzHfc2vtMUAJ/kjhZ+JKiuZB2nsDZwzaN4gkNjD6YgdvMJ7q682XjLX8QD1MbuS8HM4zReD1hvALM5KvZQCmY7Z/MkQAmAYUz19i+UMfw4aL0fe/sXSg9+yWHQGAD/yYGxO1JgV3BJsFofZVLscRTYIP4DKk8BTufx2N0oBysZxc4AdbqxjOGxh1EOJjCzBHwxdh/KxVFcFqTO5d7+BXUz1HAoa3z+X1C/5/wAVaZxTuxBlIudDC1xkbd/YZ1D/8w19ufM2GMoJ934cInTY3eh3HRjfOYap/oNosDOLHF87B6Uo+MyV/B8FNlxJYbG7kE5Gpa5guejyIaV6Bu7B+Uo+88A+sUeQTnqX6J77B6Uo+xX138Vosi6l2J3ICkeA0BKmAEgJcwAkBJmAEgJMwCkhBkAUsIMAClhBoCUMANASpgBICXMAJASZgBICTMApIQZAFLCDAApYQaAlDADQEqYASAlzACQEmYASAkzAKSEGQBSwgwAKWEGgJQwA0BKmAEgJcwAkBJmAEgJMwCkhBkAUsIMAClhBoCUMANASpgBICXMAJASZgBICTMApIQZAFLCDAApYQaAlDADQEqYASAlzACQEmYASAkzAKSEGQBSwgwAKWEGgJQwA0BKmAEgJcwAkBJmAEgJMwCkhBkAUsJK7IrdgnK0uxNUUOe1q8TrsXtQjuoyV9gWewTlqL7E+tg9KEfZr67no8jWl1gcuwflaEnmCp6PIltSYmbsHpSbcoCrOyP2EMrR9BIPx+5BuZnLhsw11vNs7DGUm0dKLGJO7C6Uk3uCVJkaewzlZDZLS8B3Y/ehXLzCnUHq/JgtsUdRLr5TeSHQz5gXuxPl4F+oD1Knnm/EHkU5eIZfQA0AY5lJ99j9KKhnOIWdgWp1Zw4nxh5IQW1nPPMaXwo8h1ti96OgNnBJsNsfGrgiwEuK1JlcX3ncX/vWu08yiLGxe1Igb/IhFgat+DJzuIJusQdTILdxa+WN2rc/9AhvcPZbTwnUlW1mUg6/vV/Fn7iQvrGHU2Zlvs3NlCvv7H3DX85d9I7dnzKZzyTW5FT7CH7lzwK6uG1M4edN79bu9clF3MeRjPRxQBdVz9e4jldyq/8ad7KdsfSIPajapcyDTOLJPT/0brf6GP6RS+kfu1u1yVLu5vYcb/4mA7iBaxkRe2C1yWv8nP9ifvWHm/tevx8nMY5jGMCBsTtXC3ZQz1qW8ATLO/grj+A0RjGUfuwXexPUgi28wnJmMYuG2K1IkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJktRV1bTwuf05mREMoQ89Y7f5tjq2sZoFPMvODv7KB3ASIxncqXZD1d5kG+tZxixe7eCv3I0xHM8w+tA/9iZU7cZSZvFa2/7HPlzPDHZS7rTrNX7COR20jX25gZmdejdc1WsnM7iBPh10QibyP9RFn7ml3ZjOP9C7dcN05/O8FL3l1q3ZnJ7zpe3OTWyOPqerfeslvkD3nE/IGTwTfc7WrU18jm77GmcUz0ZvtC1rNz/I8SH5sTwXfUJXtjWfUbmdj17cwe7oE7ZlzWNESwP9DfXRW2z7msPAXC7vh9gafTZX9lXPebmcj4HMjT5b21cdE5s/8Nujt9e+tZADgl/ei9kRfS5XmLWDc4Ofj0NYEn2u9q3tnN00RtNvAcYwvbU/JuiEfseF7ApYbyyP0yv2UApmCyezLGC9HkxnbOyh2u1lTmJl5c3SWx/qy/1d+PaH8/lGwGr9ud/bv1AO5Ff0DVjv21349oeD+HXj3V771oe+zkWxu8roFH7PukC1vskFscdRYAfTnT8GqvVBftjiK2g6v0Mo8Sg0PgU4nBX0iN1TZtMCPdMbygr2iz2MgmvgGFYHqfQYZ8YeJrPtHMW6xqcAny3A7Q8T+UCQOp/39i+k7nw2SJ2xBbj9oUdlN0pAN66J3U0gUwLU6M5VscdQTq7a9wthWmFK7DECuZraSgCMY3DsXgK5OECN8RwSewzlZBDjAlQJcco6g0P5QCUATovdSTDDOCJzjeLsht7pjMwV3sPhsYcI5oxKABwbu4+Ass9SpN1QtdGZKxTpfIyuBEBxEg2GZq5QpN1QtWGZKxwWe4SAhlUCIOQLJGLrl7lCkXZD1bKfj+wVOo9+jb8FKI7sf/xZpN1QtexXt0jno1vTS4ElJcgAkBJmAEgJMwCkhBkAUsIMAClhBoCUMANASpgBICXMAJASZgBICTMApIQZAFLCDAApYQaAlDADQEqYASAlzACQEmYASAkzAKSEGQBSwgwAKWEGgJQwA0BKmAEgJcwAkBJmAEgJMwCkhBkAUsIMAClhBoCUMANASpgBICXMAJASZgBICTMApIQZAFLCDAApYQaAlDADQEqYASAlzACQEmYASAkzAKSEGQBSwgwAKWEGgJQwA0BKmAEgJcwAkBJmAEgJMwCkhBkAUsIMAClhBoCUsBKwK3YTAe3MXKFIu6Fq2a9u9hPWeeyqBMDW2H0EVJ+5QpF2Q9U8H3uqrwTAi7H7COiFzBWKtBuq5vnY0wuVAFgUu4+AlmSuUKTdULXFnaBC57G4EgAzYvcRzIuszFyjOLuhd3oic4XlBXoM8EQlAJ5ic+xOAnkoQI0ZbIk9hnLyMk8HqPJI7DEC2cTsSgA0cG/sXgK5O0CN7fw09hjKyX3sCFDlrthjBHIvO6EGgGGsoHvsfjJ7ivFB6hzFErrFHkbB7WI0y4NUmsGpsYfJrIERPN/4QqA13BG7n8zKfDFQpZX8KPYwysHtgW5/uIVy7GEy+z7PQ+MjADiA5xgau6eMA306WK0BPMdhsQdSUM/zfl4NVu2/+bvYA2WykjHUQVMAwHgeY7/YfbXbdCYGeX7X6HSmFeBJkRpt5VSeC1ivD09zfOyh2q2eU1hYebPpbwGe5ONd9mWwq7g06O0PTzCF3bHHUiC7uCbo7Q/buIA1scdq925c1Xj7VzuPLZS73Jqb05OX83k1+myu7KuOi3M5H0N4Ovps7dmNi1oaajRLo7fYtnUXPXO5vADHsTz6fK5saymjczsfPbkn+nxtW4sZua+hevE16qM32tpxLszt4lb05utsjT6nq32rnq/SK+cTMoll0eds3arjn1v7zfIgvsTC6A23tHbwGy7roH/N4GC+xKLoE7vathZwMwd1yPmo5aM8QkP0iVtaf+GfGPBuzde0MNgwxjOSQ+nbiX4evpV6VrOAmWzr4K98BOMZyRD6+SKhTmwH9axnGTNZ28FfuS8TOI4j6Ufv2JtQtRtLmRngryAlSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSUpYTbMfP55xjOAADmj2v1F829nGWpYwnU0d/JUHMYFRDKUPPWJvgppV5lVeZRmzWEj53f6Dd7u5j+ZTXMmQ2L2rDcrMZipTeb0DvlYfruVaxvqNoUt5kfv4ASv39Z8NZio7Kbu65NrEp6nN9RjV8hk2RZ/T1b7VwJ0M2vuC7p3il/FDDujwbFJIT3Elq3OqfSQ/5aTYAyqTLfw9v2x6d8/vF1/le/SM3Z8yGsrVPMG6HCqfzOMcE3s8ZdSLj1Lm8cZ3mwLgm3w5dm8Kojcf4xE2Bq56MtPYP/ZoCqCGs5oioPEpwKf4fuy+FNBqxgX9vcCRzGVA7KEUTJnL+QU0BsAJzPaXOQUznbPYFahWLTN97l8w2ziJhVACarjd279wTuP6YLVu9PYvnD7cTk3lEcDf8kDsbpSDTQwP8rqA3qxiYOxhlIOLeagEfCF2H8rFQK4JUudab/+CuglqOIalvqaroJ5ifIAqT/sEoKDKHF3iQm//wjqZgzPXGMi42GMoJzV8uMSE2F0oNzUBru4Ev0EU2GklRsfuQTkalbmC56PIRpc4LHYPylH2q+v5KLLDSvSJ3YNy1D9zBc9HkfUv5fzno4or+9X1fBRZbSl2B5LiMQCkhBkAUsIMAClhBoCUMANASpgBICXMAJASZgBICTMApIQZAFLCDAApYQaAlDADQEqYASAlzACQEmYASAkzAKSEGQBSwgwAKWEGgJQwA0BKmAEgJcwAkBJmAEgJMwCkhBkAUsIMAClhBoCUMANASpgBICXMAJASZgBICTMApIQZAFLCDAApYQaAlDADQEqYASAlzACQEmYASAkzAKSEGQBSwgwAKWEGgJQwA0BKmAEgJcwAkBJmAEgJMwCkhBkAUsIMAClhBoCUMANASpgBICWsxM7YLShH2a/urtgjKEc7S2yN3YNyVN8JKqjzqivxQuwelKM1mSt4PopsbYmFsXtQjhZnrrAo9gjK0aIS02P3oNzsYmbmGjPYHXsM5ebxEg95gQvrCbZkrvEKM2KPoZzs5uESa/hT7D6Uk6lBqtwZewzlZBov1ADn8ofYnSgHazmaHQHqdGcFw2IPoxxM5NES8Ed+G7sT5eCWILc/NPCV2KMoB3/gUagB4Gjm0S92PwrqN1xMOVCtGn7PubEHUlCv8EFWNb4UeAWfDHZY1Bks5qqAV7TMNb4eoFB2cgWroOlvAe7nptg9KZjNXExd0IobOZ/NscdSIGU+x7TKm01/DHQbH+ON2J0pgGVMYEXwqgs5yReNFcJ2pvC9xndq9vrUSfycw2P3p0we5OO5vX6/P/dwcewBlclaLmVO07t7/znwLI7lVl6P3aPaaTmX85Ec/3ynjklckcOjC3WMbXyLY/e8/asfAVQM5BNM5oTY3aoN3mAad/NAh/zxbi0f4Vom0jP20Gq1Ms9xL3fyUvUnapr9XwYzlqMZSD+6x+5ezdpGPetYzBze7OCv3JOxjOYw+tEn9iaoWQ3Us4nlzGFj7FYkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSeq6apr9TIn3MZ7RHEJ/amO3+bY32MbzLOD/WNehX7eW93MKozrZbqjaLup4icU8xbPs7tCvfDhnchxH0odesTdhr93YxGKeYn7bdmM4t7Gecqdes/lUB231e/guG6LP62rbWs93Gd4h56MXNzIn+rwtrxf5Dke2bpwB3E5D9IZbtzZwXQuPYUI4mB92md1wVa8G7mBAruejxCfZGH3O1q0dfJ8D9zXQxC73ve6PDMrt8p7XZS6uq7m1gYm5nY8hPBp9vratFzm7pYGmdMnvdut4by6X90Z2RZ/NlX3t5IZczsdo1kSfrT27cX1zA90Qvbn2rg0MC355PxN9Kle4NSX4+RjJpuhTtW/t5pqmMZqeQZ/Pw5SCb1NHmc8EtgWsdxEPduHdULXtnMPMgPUOZG4H/YgxD29yFk9X3mwMgIEs4JDYfWVyH5OD1RrCgpx/eKSOtpET2Ris2s+4LPZAmaznRF4C3v4ud2sXv/3hSs4PVus2b//CGcStwWp9uIvf/jCEb1XeqDwCGMXCAjzgnc8YygHqHMtfCrAbqlbmBBYEqTSXMbGHyWw3J7Cw8RHA5wtx4N/HWUHq3FSI3VC1Gj4XpM7EAtz+UOIzUHkE0JMN7B+7nyCmBvhpb2820jf2IMpFHYN5I3OVu/f8KXoX9iqD2V4CJhTk9ocLArwu8Axv/8Lqz6mZa9RwQewxAjmAUypPAbJvSmcxkBGZaxRnN/ROEzJXGMXBsYcI5rRKAIyK3UdA2Wcp0m6o2ujMFYp0PkZVAmBI7D4Cyj5LkXZD1QZnrlCk8zG4EgB9YvcRUL/MFYq0G6rm+dhTv0oAFOmXXtn/sY4i7YaqZT8fRfrnYGo97lLSDAApYQaAlDADQEqYASAlzACQEmYASAkzAKSEGQBSwgwAKWEGgJQwA0BKmAEgJcwAkBJmAEgJMwCkhBkAUsIMAClhBoCUMANASpgBICXMAJASZgBICTMApIQZAFLCDAApYQaAlDADQEqYASAlzACQEmYASAkzAKSEGQBSwgwAKWEGgJQwA0BKmAEgJcwAkBJmAEgJMwCkhBkAUsIMAClhBoCUMANASpgBICXMAJASZgBICTMApIQZAFLCDAApYQaAlDADQEqYASAlzACQEmYASAkrATtjNxHQjswVirQbqtbQCSp0Hg2VAKiP3UdAdZkrFGk3VM3zsae6SgCsid1HQKszVyjSbqia52NPqysBsDB2HwEtylyhSLuhap6PPS2qBMDjsfsIZjnrMtcozm7onR7LXGEtf409RDCPVQJgLs/H7iSQBwPUmMULscdQTtbxbIAqD8YeI5DV/LkSAGXujt1LEGWmBqiym3tiD6Kc3MWuAFXupBx7kCDuogw1ABzCKvrE7iezXzMpSJ3B/JVesYdRcK8znE1BKj3EhbGHyWwrw9nc+EKgl/hW7H4y28HNgSpt4Duxh1EOvhno9oebC/BqgH9l857v9mA+5S69bgm4Ob34S/R5XGHXM/QIeEK+Gn2ebGsW+1UGqXl7pBE8zYE5Jk6+7udKQj4zG81T7B97KAWznnFBf7hby++YGHuodlvHOF6svNn0twDLuKjLvsppFtcFvf1hMZPYFnssBbKVSwL/bmcXlzIn9ljtVM9HGm//asfz1+gPTtq+/pfeuWzUCayKPpsr+1rLB3I5Hz35SfTZ2r5WcnxLQx3MtOgttmXt4Mt7PI0JbSCPRZ/QlW09yiG5nY8avkJD9Anbsv7AQfse6mpWRm+0devhltMsyCW+tks+KnKVKbOSq3P89lDxXn4bfc7WrRVMbu1udOMSHqA+esvNr+f5N07M+dI27cZlPNipd8NVvep5gEvp1kEn5H38O6ujz9z8quOXXPLuu9FSInTjREYymH6d6GUxr1HPahawqsO/cndOZEQn2w1Ve4N6NrCMP0f4Tf17OI4j6NeJfnv0BvWsZxl/9l+5kCRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiQpL/8POdDDiNJ+trkAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMDJUMTA6MDY6MTMrMDA6MDAvMo7pAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTAyVDEwOjA2OjEzKzAwOjAwXm82VQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAASCAYAAADCKCelAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAQElEQVRIie3WwQkAIBADQU/sv8PUElvQRzgOdipY8krZ9hpidwf8IDblSOpueDZqWWJTiE0hNoXYlOJ1hRCbcgGgSgq0krAfQgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAArCAAAAABQ0IfuAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4wsdDTQXuYaYvAAAACNJREFUKM9j/M/AwHCXAQaUGRgYmBgwwKjQqNCoEAMDAwMDAOQ4AlV10vM8AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTExLTI5VDEzOjUyOjIzKzAwOjAwSXrULwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMS0yOVQxMzo1MjoyMyswMDowMDgnbJMAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABYSURBVHgBrZLdCQAgCISlSdp/CUdplKvAl8Kfsg6iiPtE9AhAHYfnTYEWrzymmgcL1MTL+4cKmx4PDgtrhpNuLDiGDNiECv1QqtXUcFLrAJIBwGPkGJch72suiwSbLEBAAAAAAElFTkSuQmCC\""],"sourceRoot":""}