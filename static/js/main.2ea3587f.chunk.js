(this.webpackJsonpa100=this.webpackJsonpa100||[]).push([[0],{123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var i,n=a(0),r=a.n(n),l=a(49),s=a.n(l),o=(a(73),a(74),a(2)),c=a(4),u=a(10),d=a(9),p=a(11),h=a(20),y=function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"go to https://url/map?resoultID=...")}}]),t}(r.a.Component),S=a(3),g=a(1),f=a(33),A=a.n(f);!function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(i||(i={}));var E,m=i;!function(e){e.NORMAL="normal",e.SMALL="small"}(E||(E={}));var k,v=E,L=function(){function e(){Object(o.a)(this,e),this.A100SizeK=30}return Object(c.a)(e,[{key:"GetSize",value:function(e){return e===v.NORMAL?{firstSide:75,secondSide:25}:{firstSide:50,secondSide:25}}},{key:"GetA100Size",value:function(e,t,a,i){return a>1&&i?t===m.HORIZONTAL?{firstSide:this.A100SizeK*e*a,secondSide:this.A100SizeK*a*2}:t===m.VERTICAL?{firstSide:this.A100SizeK*a*2,secondSide:this.A100SizeK*e*a}:{firstSide:0,secondSide:0}:1===a&&i?t===m.HORIZONTAL?{firstSide:this.A100SizeK*e*2,secondSide:this.A100SizeK*a*2}:t===m.VERTICAL?{firstSide:this.A100SizeK*a*2,secondSide:this.A100SizeK*e*2}:{firstSide:0,secondSide:0}:t===m.HORIZONTAL?{firstSide:this.A100SizeK*e*a,secondSide:this.A100SizeK*a}:t===m.VERTICAL?{firstSide:this.A100SizeK*a,secondSide:this.A100SizeK*e*a}:{firstSide:0,secondSide:0}}}]),e}();!function(e){e.STILLAGE_NORMAL="#E2E6EA",e.STILLAGE_NORMAL_STROKE="#3E454D"}(k||(k={}));var T,O=k;!function(e){e.RED="#FF003C",e.YELLOW="#FFBB00",e.GREEN="#06F107",e.GREY=""}(T||(T={}));var I,C=T;!function(e){e[e.RED=12]="RED",e[e.YELLOW=12]="YELLOW",e[e.GREEN=12]="GREEN"}(I||(I={}));var b=I,x=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"GetRadius",value:function(e){return e===C.GREEN?{radius:b.GREEN,centeringValue:12.5-b.GREEN}:e===C.YELLOW?{radius:b.YELLOW,centeringValue:12.5-b.YELLOW}:e===C.RED?{radius:b.RED,centeringValue:12.5-b.RED}:{radius:0,centeringValue:0}}}]),e}(),w=a(50),M=function e(){Object(o.a)(this,e)};M.Emitter=new(a.n(w).a.EventEmitter);var B,R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={parentSource:a.props.parentSource,parentScale:a.props.parentScale,isBlockScaling:a.props.isBlockScaling,parentKey:a.props.parentKey,parentX:a.props.parentX,parentY:a.props.parentY,parentOrientation:a.props.parentOrientation,source:a.props.source},a.openModal=a.openModal.bind(Object(S.a)(a)),a.thisForceUpdate=a.thisForceUpdate.bind(Object(S.a)(a)),M.Emitter.addListener("defectsForceUpdate",a.thisForceUpdate),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"openModal",value:function(){console.log(this.state.source),M.Emitter.emit("setSelectedVik",this.state.source,this.state.parentSource),M.Emitter.emit("defectBrowsePanelWorkerHandle",!0)}},{key:"thisForceUpdate",value:function(e,t,a){e===this.state.parentKey&&this.setState({parentX:t,parentY:a})}},{key:"render",value:function(){var e,t=this,a=this.state,i=a.parentX,n=a.parentY,l=a.parentOrientation,s=a.source,o=(a.parentScale,a.isBlockScaling,(new x).GetRadius(s.color)),c=0,u=0;return l===m.HORIZONTAL?(c=15+30*(s.place-1),u=15,e=r.a.createElement(g.Circle,{key:"defect_circle__"+i+"_"+n+"_"+l+"_"+s.place+"_"+s.level+"_"+s.color,onTap:function(){t.openModal()},onClick:function(){t.openModal()},radius:o.radius,x:i+c,y:n+u,fill:s.color})):l===m.VERTICAL&&(c=15,u=15+30*(s.place-1),e=r.a.createElement(g.Circle,{key:"defect_circle__"+i+"_"+n+"_"+l+"_"+s.place+"_"+s.level+"_"+s.color,onTap:function(){t.openModal()},onClick:function(){t.openModal()},radius:o.radius,x:i+c,y:n+u,fill:s.color})),e}}]),t}(r.a.Component),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={parentPlaceSignatures:a.props.parentPlaceSignatures,isBlockScaling:a.props.isBlockScaling,parentScale:a.props.parentScale,pmCount:a.props.pmCount,parentKey:a.props.parentKey,parentX:a.props.parentX,parentY:a.props.parentY,parentOrientation:a.props.parentOrientation,parentDefects:a.props.parentDefects,source:a.props.source},a.openModal=a.openModal.bind(Object(S.a)(a)),a.thisForceUpdate=a.thisForceUpdate.bind(Object(S.a)(a)),a.forceSource=a.forceSource.bind(Object(S.a)(a)),M.Emitter.addListener("placeSignaturesForceUpdate",a.thisForceUpdate),M.Emitter.addListener("placeSignaturesForceSource",a.forceSource),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"forceSource",value:function(e,t,a){e===this.state.parentKey&&t===this.state.source.place&&this.setState({source:a})}},{key:"openModal",value:function(){console.log(this.state)}},{key:"thisForceUpdate",value:function(e,t,a){e===this.state.parentKey&&this.setState({parentX:t,parentY:a})}},{key:"render",value:function(){var e,t=this,a=this.state,i=a.parentX,n=a.parentY,l=a.parentOrientation,s=a.source,o=(a.parentPlaceSignatures,a.pmCount,a.isBlockScaling),c=a.parentScale,u=0;return l===m.HORIZONTAL?(u=(30*s.place-(15+4*s.title.length))*c*(o?2:1),e=r.a.createElement(g.Text,{key:"place_signature_text_"+i+"_"+n+"_"+l+"_"+s.place+"_"+s.title+"_"+s.title.length,onTap:function(){t.openModal()},onClick:function(){t.openModal()},x:i+u,y:n+9+this.getScaleK,fontSize:this.fontSize,fill:"white",text:s.title})):o?(u=(30*s.place-15)*c*(o?2:1)-10,e=r.a.createElement(g.Text,{key:"place_signature_text_"+i+"_"+n+"_"+l+"_"+s.place+"_"+s.title+"_"+s.title.length,onTap:function(){t.openModal()},onClick:function(){t.openModal()},x:i+(30*c-10*s.title.length),y:n+u,fontSize:this.fontSize,fill:"white",text:s.title})):(u=(30*s.place-(15+this.fontSize/2))*c*(o?2:1),e=r.a.createElement(g.Text,{key:"place_signature_text_"+i+"_"+n+"_"+l+"_"+s.place+"_"+s.title+"_"+s.title.length,onTap:function(){t.openModal()},onClick:function(){t.openModal()},x:i+10.5+this.getScaleK-(s.title.length>1?2*s.title.length:0),y:n+u,fontSize:this.fontSize,fill:"white",text:s.title})),e}},{key:"getScaleK",get:function(){var e=this.state,t=e.parentScale,a=e.parentOrientation,i=e.isBlockScaling,n=e.source,r=20*t,l=20*t,s=13*t,o=13*t;if(t>1&&i){if(a===m.VERTICAL)return r;if(a===m.HORIZONTAL)return l}else if(1===t&&i){if(a===m.VERTICAL){if(1===n.title.length)return s;if(2===n.title.length)return s-5}if(a===m.HORIZONTAL)return o}return 0}},{key:"fontSize",get:function(){var e=this.state,t=e.parentScale,a=(e.parentOrientation,e.isBlockScaling);return t>1?35:1===t&&a?25:a?0:14}}]),t}(n.Component);!function(e){e.TOP="top",e.LEFT="left",e.RIGHT="right",e.BOTTOM="bottom"}(B||(B={}));var G,_=B,j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getSignatureSize=function(){var e=a.state,t=e.pmCount,i=e.parentScale,n=e.isBlockScaling,r=e.parentOrientation,l=e.source;if(1===i&&n){if(r===m.HORIZONTAL){if(l.position===_.BOTTOM)return{width:30*t*2+1,height:80};if(l.position===_.TOP)return{width:30*t*2+1,height:80-10*i}}else if(r===m.VERTICAL){if(l.position===_.LEFT)return{width:40,height:30*t*2+1};if(l.position===_.RIGHT)return{width:40*i*2-5,height:30*t*2}}}else if(i>1)if(r===m.HORIZONTAL){if(l.position===_.BOTTOM)return{width:30*t*2+1,height:40*i*2-10};if(l.position===_.TOP)return{width:30*t*2+1,height:30*i*2}}else{if(l.position===_.LEFT)return{width:30*i*2,height:30*t*2+1};if(l.position===_.RIGHT)return{width:40*i*2-10,height:30*t*2+1}}else if(!n)return r===m.HORIZONTAL?{width:30*t+1,height:40}:{width:40,height:30*t+1};return{width:0,height:0}},a.state={isBlockScaling:a.props.isBlockScaling,parentScale:a.props.parentScale,pmCount:a.props.pmCount,parentKey:a.props.parentKey,parentX:a.props.parentX,parentY:a.props.parentY,parentOrientation:a.props.parentOrientation,parentSize:a.props.parentSize,source:a.props.source},a.thisForceUpdate=a.thisForceUpdate.bind(Object(S.a)(a)),a.signatureForceUpdate=a.signatureForceUpdate.bind(Object(S.a)(a)),M.Emitter.addListener("stillageSignatureForceUpdate",a.thisForceUpdate),M.Emitter.addListener("signatureForceUpdate",a.signatureForceUpdate),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"signatureForceUpdate",value:function(e,t){e===this.state.parentKey&&this.setState({source:t})}},{key:"thisForceUpdate",value:function(e,t,a){e===this.state.parentKey&&this.setState({parentX:t,parentY:a})}},{key:"render",value:function(){var e,t,a,i=this.state,n=i.parentX,l=i.parentY,s=i.parentOrientation,o=(i.parentSize,i.source),c=i.pmCount,u=i.isBlockScaling,d=i.parentScale,p=0;s===m.VERTICAL?(a=this.getSignatureSize().width,p=this.getSignatureSize().height,o.position===_.RIGHT?(a+=u?0:5,e=n+(u?5*d:0),t=l-.5):o.position===_.LEFT&&(e=n-(u?20*d:15.5),t=l-.5)):(a=this.getSignatureSize().width,p=this.getSignatureSize().height,o.position===_.TOP?(e=n-.5,t=l-(u?20*d:15.5)):o.position===_.BOTTOM&&(p+=u?0:5,e=n-.5,t=l));var h=r.a.createElement(g.Rect,{key:this.state.parentKey+"_signature_rect",cornerRadius:4,x:e,y:t,width:a,height:p,fill:"#dcdcdc"}),y=this.signatureFont;if(u){var S=7*(3-o.title.length);1===d?s===m.VERTICAL?o.position===_.RIGHT?(e=n+60+S,t=l+30*c):o.position===_.LEFT&&(e+=S,t=l+30*c):o.position===_.BOTTOM?(e=n+30*c-5*o.title.length,t=l+80-15):o.position===_.TOP&&(e=n+30*c-3*o.title.length,t+=5):d>1&&(s===m.VERTICAL?o.position===_.RIGHT?(e=n+30*d*2+d+S,t=l+30*c):o.position===_.LEFT&&(e+=S,t=l+30*c):o.position===_.BOTTOM?(e=n+30*c-5*o.title.length,t=l+40*d*2-17*d):o.position===_.TOP&&(e=n+30*c-7*o.title.length,t+=2*d))}else s===m.HORIZONTAL?o.position===_.TOP?(e=n+(32*c/2-o.title.length*y/2)+o.title.length,t=l-13):o.position===_.BOTTOM&&(e=n+(32*c/2-o.title.length*y/2)+o.title.length,t=l+33):s===m.VERTICAL&&(o.position===_.LEFT?(e=n-15,t=l+(32*c/2-o.title.length*y/2)+o.title.length,1===o.title.length?e=n-11:2===o.title.length||o.title.length>2&&(t=l+34,y=8)):o.position===_.RIGHT&&(t=l+(32*c/2-o.title.length*y/2)+o.title.length,1===o.title.length?e=n+34:2===o.title.length?e=n+31.5:o.title.length>2&&(e=n+31,t=l+34,y=8)));return[h,r.a.createElement(g.Text,{key:this.state.parentKey+"_signature_text",x:e,y:t,text:o.title,fill:"#333333",fontSize:y})]}},{key:"scaleK",get:function(){var e=this.state;e.parentScale,e.isBlockScaling,e.parentOrientation;return 0}},{key:"masterSideK",get:function(){var e=this.state,t=(e.pmCount,e.parentScale),a=e.isBlockScaling;return 1===t&&a?2*t:t>1?2:a?0:1}},{key:"signatureFont",get:function(){var e=this.state,t=e.parentScale;if(e.isBlockScaling){if(t>1)return 11*t;if(1===t)return 11*t}return 11}}]),t}(n.Component),D=a(18),P=a(17),W=a.n(P);!function(e){e.NORMAL_TOP="NORMAL_TOP",e.NORMAL_BOTTOM="NORMAL_BOTTOM",e.NORMAL_LEFT_VERT="NORMAL_LEFT_VERT",e.NORMAL_RIGHT_VERT="NORMAL_RIGHT_VERT",e.SMALL_TOP="SMALL_TOP",e.SMALL_BOTTOM="SMALL_BOTTOM",e.SMALL_LEFT_VERT="SMALL_LEFT_VERT",e.SMALL_RIGHT_VERT="SMALL_RIGHT_VERT"}(G||(G={}));var H,z=G;!function(e){e.TOP="TOP",e.LEFT="LEFT",e.RIGHT="RIGHT",e.BOTTOM="BOTTOM"}(H||(H={}));var Y,U=H;!function(e){e.ABSTRACTS="abstract",e.STILLAGES="stillages",e.SIGNATURES="signatures",e.WALLS="walls",e.LIGHTING="lighting",e.TEXT="text"}(Y||(Y={}));var X,F=Y,Z=function(){function e(){Object(o.a)(this,e),this.stillageSizeReducer=void 0,this.smallPlaceSignatures=[{place:1,title:"1"},{place:2,title:"2"}],this.bigPlaceSignatures=[{place:1,title:"1"},{place:2,title:"2"},{place:3,title:"3"}],this.stillageSizeReducer=new L}return Object(c.a)(e,[{key:"getStillageArrows",value:function(e){if(e.orientation===m.HORIZONTAL){if(e.signature.position===_.TOP)return[r.a.createElement(g.Arrow,{key:e.key+"_left_arrow",x:e.x-30,y:e.y+5,points:[0,0,0,0],pointerLength:-20,pointerWidth:-40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.LEFT)}}),r.a.createElement(g.Arrow,{key:e.key+"_right_arrow",x:e.x+105,y:e.y+5,points:[0,0,0,0],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.RIGHT)}}),r.a.createElement(g.Arrow,{key:e.key+"_top_arrow",x:e.x+47,y:e.y-27,points:[-10,-10,-10,-20],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.TOP)},"\u0451":!0}),r.a.createElement(g.Arrow,{key:e.key+"_bottom_arrow",x:e.x+38,y:e.y+57,points:[0,-10,0,0],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.BOTTOM)}})];if(e.signature.position===_.BOTTOM)return[r.a.createElement(g.Arrow,{key:e.key+"_left_arrow",x:e.x-30,y:e.y+20,points:[0,0,0,0],pointerLength:-20,pointerWidth:-40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.LEFT)}}),r.a.createElement(g.Arrow,{key:e.key+"_right_arrow",x:e.x+105,y:e.y+20,points:[0,0,0,0],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.RIGHT)}}),r.a.createElement(g.Arrow,{key:e.key+"_top_arrow",x:e.x+47,y:e.y-10,points:[-10,-10,-10,-20],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.TOP)}}),r.a.createElement(g.Arrow,{key:e.key+"_bottom_arrow",x:e.x+38,y:e.y+70,points:[0,-10,0,0],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.BOTTOM)}})]}else{if(e.signature.position===_.LEFT)return[r.a.createElement(g.Arrow,{key:e.key+"_left_arrow",x:e.x-50,y:e.y+35,points:[0,0,0,0],pointerLength:-20,pointerWidth:-40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.LEFT)}}),r.a.createElement(g.Arrow,{key:e.key+"_right_arrow",x:e.x+60,y:e.y+35,points:[0,0,0,0],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.RIGHT)}}),r.a.createElement(g.Arrow,{key:e.key+"_top_arrow",x:e.x+15,y:e.y-10,points:[-10,-10,-10,-20],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.TOP)}}),r.a.createElement(g.Arrow,{key:e.key+"_bottom_arrow",x:e.x+7,y:e.y+105,points:[0,-10,0,0],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.BOTTOM)}})];if(e.signature.position===_.RIGHT)return[r.a.createElement(g.Arrow,{key:e.key+"_left_arrow",x:e.x-35,y:e.y+35,points:[0,0,0,0],pointerLength:-20,pointerWidth:-40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.LEFT)}}),r.a.createElement(g.Arrow,{key:e.key+"_right_arrow",x:e.x+75,y:e.y+35,points:[0,0,0,0],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.RIGHT)}}),r.a.createElement(g.Arrow,{key:e.key+"_top_arrow",x:e.x+27,y:e.y-10,points:[-10,-10,-10,-20],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.TOP)}}),r.a.createElement(g.Arrow,{key:e.key+"_bottom_arrow",x:e.x+20,y:e.y+105,points:[0,-10,0,0],pointerLength:20,pointerWidth:40,fill:"#E0E0E0",stroke:"#2f00ff",strokeWidth:.5,onClick:function(){return M.Emitter.emit("moveShapeByStep",e,F.STILLAGES,U.BOTTOM)}})]}return[]}},{key:"getStillageSourceItem",value:function(e,t,a){var i,n=0;switch(Object(D.a)(e.stillages).asc((function(e){return e.id})),0!==e.stillages.length&&(n=e.stillages[e.stillages.length-1].id),n++,i=e.key+"_stillage_"+n.toString(),a){case z.NORMAL_BOTTOM:return{id:n,key:i,x:t.x,y:t.y,width:76,height:49.5,orientation:m.HORIZONTAL,signature:{title:"1",position:_.BOTTOM},size:v.NORMAL,placeSignatures:this.bigPlaceSignatures,viks:[]};case z.NORMAL_TOP:return{id:n,key:i,x:t.x,y:t.y,width:76,height:49.5,orientation:m.HORIZONTAL,signature:{title:"1",position:_.TOP},size:v.NORMAL,placeSignatures:this.bigPlaceSignatures,viks:[]};case z.NORMAL_LEFT_VERT:return{id:n,key:i,x:t.x,y:t.y,width:49.5,height:76,orientation:m.VERTICAL,signature:{title:"1",position:_.LEFT},size:v.NORMAL,placeSignatures:this.bigPlaceSignatures,viks:[]};case z.NORMAL_RIGHT_VERT:return{id:n,key:i,x:t.x,y:t.y,width:49.5,height:76,orientation:m.VERTICAL,signature:{title:"1",position:_.RIGHT},size:v.NORMAL,placeSignatures:this.bigPlaceSignatures,viks:[]};case z.SMALL_BOTTOM:return{id:n,key:i,x:t.x,y:t.y,width:50,height:49.5,orientation:m.HORIZONTAL,signature:{title:"1",position:_.BOTTOM},size:v.SMALL,placeSignatures:this.smallPlaceSignatures,viks:[]};case z.SMALL_TOP:return{id:n,key:i,x:t.x,y:t.y,width:50,height:49.5,orientation:m.HORIZONTAL,signature:{title:"1",position:_.TOP},size:v.SMALL,placeSignatures:this.smallPlaceSignatures,viks:[]};case z.SMALL_LEFT_VERT:return{id:n,key:i,x:t.x,y:t.y,width:49.5,height:50,orientation:m.VERTICAL,signature:{title:"1",position:_.LEFT},size:v.SMALL,placeSignatures:this.smallPlaceSignatures,viks:[]};case z.SMALL_RIGHT_VERT:return{id:n,key:i,x:t.x,y:t.y,width:49.5,height:50,orientation:m.VERTICAL,signature:{title:"1",position:_.RIGHT},size:v.SMALL,placeSignatures:this.smallPlaceSignatures,viks:[]}}}},{key:"getStillagePlaceSignatures",value:function(e,t,a){var i=parseInt(t);return e===v.NORMAL?a?[{place:1,title:(i-3).toString()},{place:2,title:(i-2).toString()},{place:3,title:(i-1).toString()}]:[{place:1,title:(i+1).toString()},{place:2,title:(i+2).toString()},{place:3,title:(i+3).toString()}]:(v.SMALL,[])}},{key:"stillageSearchByID",value:function(e,t){return W.a.search_in_associative(e,"id",t)}}]),e}(),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={source:a.props.source,parentType:a.props.parentType},a.deleteShape=a.deleteShape.bind(Object(S.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"deleteShape",value:function(e){M.Emitter.emit("deleteShapeFromLayer",e,this.state.source.id)}},{key:"render",value:function(){var e,t,a=this,i=this.state,n=i.source,l=i.parentType;return l===F.STILLAGES?n.signature.position===_.BOTTOM||n.signature.position===_.RIGHT?(e=r.a.createElement(g.Circle,{key:n.key+"_deleteCircle_circle",onTap:function(){a.deleteShape(F.STILLAGES)},onClick:function(){a.deleteShape(F.STILLAGES)},radius:10,x:n.x-10,y:n.y-20,fill:"#E0E0E0"}),t=r.a.createElement(g.Text,{key:n.key+"_deleteCircle_deleteCross",onTap:function(){a.deleteShape(F.STILLAGES)},onClick:function(){a.deleteShape(F.STILLAGES)},text:"x",x:n.x-15,y:n.y-27,fontSize:16,height:100,fontStyle:"bold",fill:"red"})):n.orientation===m.HORIZONTAL&&n.signature.position===_.TOP?(e=r.a.createElement(g.Circle,{key:n.key+"_deleteCircle_circle",onTap:function(){a.deleteShape(F.STILLAGES)},onClick:function(){a.deleteShape(F.STILLAGES)},radius:10,x:n.x-10,y:n.y-35,fill:"#E0E0E0"}),t=r.a.createElement(g.Text,{key:n.key+"_deleteCircle_deleteCross",onTap:function(){a.deleteShape(F.STILLAGES)},onClick:function(){a.deleteShape(F.STILLAGES)},text:"x",x:n.x-15,y:n.y-42,fontSize:16,height:100,fontStyle:"bold",fill:"red"})):n.orientation===m.VERTICAL&&n.signature.position===_.LEFT&&(e=r.a.createElement(g.Circle,{key:n.key+"_deleteCircle_circle",onTap:function(){a.deleteShape(F.STILLAGES)},onClick:function(){a.deleteShape(F.STILLAGES)},radius:10,x:n.x-35,y:n.y-10,fill:"#E0E0E0"}),t=r.a.createElement(g.Text,{key:n.key+"_deleteCircle_deleteCross",onTap:function(){a.deleteShape(F.STILLAGES)},onClick:function(){a.deleteShape(F.STILLAGES)},text:"x",x:n.x-40,y:n.y-17,fontSize:16,height:100,fontStyle:"bold",fill:"red"})):l===F.LIGHTING?(e=r.a.createElement(g.Circle,{key:n.key+"_deleteCircle_circle",onTap:function(){a.deleteShape(F.LIGHTING)},onClick:function(){a.deleteShape(F.LIGHTING)},radius:10,x:n.x-10,y:n.y-20,fill:"#E0E0E0"}),t=r.a.createElement(g.Text,{key:n.key+"_deleteCircle_deleteCross",onTap:function(){a.deleteShape(F.LIGHTING)},onClick:function(){a.deleteShape(F.LIGHTING)},text:"x",x:n.x-15,y:n.y-27,fontSize:16,height:100,fontStyle:"bold",fill:"red"})):l===F.WALLS&&(e=r.a.createElement(g.Circle,{key:n.key+"_deleteCircle_circle",onTap:function(){a.deleteShape(F.WALLS)},onClick:function(){a.deleteShape(F.WALLS)},radius:10,x:n.startX-15,y:n.startY-25,fill:"#E0E0E0"}),t=r.a.createElement(g.Text,{key:n.key+"_deleteCircle_deleteCross",onTap:function(){a.deleteShape(F.WALLS)},onClick:function(){a.deleteShape(F.WALLS)},text:"x",x:n.startX-20,y:n.startY-32,fontSize:16,height:100,fontStyle:"bold",fill:"red"})),[e,t]}}]),t}(r.a.Component);!function(e){e.TOP="TOP",e.LEFT="LEFT",e.RIGHT="RIGHT",e.BOTTOM="BOTTOM"}(X||(X={}));var K,Q=X,V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={source:a.props.source,mapStillages:a.props.mapStillages,parentType:a.props.parentType},a.addCircleClickAction=a.addCircleClickAction.bind(Object(S.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"addCircleClickAction",value:function(e,t){M.Emitter.emit("addSameShape",e,this.state.source,t)}},{key:"render",value:function(){var e,t,a,i,n,l=this,s=this.state,o=s.source,c=s.mapStillages,u=!1;if(s.parentType===F.STILLAGES)if(o.orientation===m.HORIZONTAL)if(o.signature.position===_.TOP){n=!1,u=!1;for(var d=0;d<c.length;d++)c[d].x>=o.x-80&&c[d].x<o.x&&c[d].y<=o.y+25&&c[d].y>=o.y&&(n=!0),c[d].x>o.x+75&&c[d].x<=o.x+75+80&&c[d].y<=o.y+25&&c[d].y>=o.y&&(u=!0);n||(e=r.a.createElement(g.Circle,{key:o.key+"_addCircle_first",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.LEFT)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.LEFT)},radius:10,x:o.x-20,y:o.y+7,fill:"#E0E0E0"}),a=r.a.createElement(g.Text,{key:o.key+"_addCircle_plus_first",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.LEFT)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.LEFT)},text:"+",x:o.x-24.5,y:o.y+1,fontSize:16,height:100,fontStyle:"bold",fill:"green"})),u||(t=r.a.createElement(g.Circle,{key:o.key+"_addCircle_second",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.RIGHT)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.RIGHT)},radius:10,x:o.x+95,y:o.y+7,fill:"#E0E0E0"}),i=r.a.createElement(g.Text,{key:o.key+"_addCircle_plus_second",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.RIGHT)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.RIGHT)},text:"+",x:o.x+90.5,y:o.y+1,fontSize:16,height:100,fontStyle:"bold",fill:"green"}))}else{n=!1,u=!1;for(var p=0;p<c.length;p++)c[p].x>=o.x-80&&c[p].x<o.x&&c[p].y<=o.y+25&&c[p].y>=o.y&&(n=!0),c[p].x>o.x+75&&c[p].x<=o.x+75+80&&c[p].y<=o.y+25&&c[p].y>=o.y&&(u=!0);n||(e=r.a.createElement(g.Circle,{key:o.key+"_addCircle_first",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.LEFT)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.LEFT)},radius:10,x:o.x-20,y:o.y+15,fill:"#E0E0E0"}),a=r.a.createElement(g.Text,{key:o.key+"_addCircle_plus_first",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.LEFT)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.LEFT)},text:"+",x:o.x-24.5,y:o.y+9,fontSize:16,height:100,fontStyle:"bold",fill:"green"})),u||(t=r.a.createElement(g.Circle,{key:o.key+"_addCircle_second",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.RIGHT)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.RIGHT)},radius:10,x:o.x+95,y:o.y+15,fill:"#E0E0E0"}),i=r.a.createElement(g.Text,{key:o.key+"_addCircle_plus_second",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.RIGHT)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.RIGHT)},text:"+",x:o.x+90.5,y:o.y+9,fontSize:16,height:100,fontStyle:"bold",fill:"green"}))}else if(o.signature.position===_.LEFT){n=!1,u=!1;for(var h=0;h<c.length;h++)c[h].y>=o.y-80&&c[h].y<o.y&&c[h].x<=o.x+25&&c[h].x>=o.x&&(n=!0),c[h].y>o.y+75&&c[h].y<=o.y+75+80&&c[h].x<=o.x+25&&c[h].x>=o.x&&(u=!0);n||(e=r.a.createElement(g.Circle,{key:o.key+"_addCircle_first",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.TOP)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.TOP)},radius:10,x:o.x+6,y:o.y-20,fill:"#E0E0E0"}),a=r.a.createElement(g.Text,{key:o.key+"_addCircle_plus_first",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.TOP)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.TOP)},text:"+",x:o.x+1.05,y:o.y-26,fontSize:16,height:100,fontStyle:"bold",fill:"green"})),u||(t=r.a.createElement(g.Circle,{key:o.key+"_addCircle_second",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.BOTTOM)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.BOTTOM)},radius:10,x:o.x+6,y:o.y+95,fill:"#E0E0E0"}),i=r.a.createElement(g.Text,{key:o.key+"_addCircle_plus_second",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.BOTTOM)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.BOTTOM)},text:"+",x:o.x+1.05,y:o.y+89,fontSize:16,height:100,fontStyle:"bold",fill:"green"}))}else if(o.signature.position===_.RIGHT){for(var y=0;y<c.length;y++)c[y].y>=o.y-80&&c[y].y<o.y&&c[y].x<=o.x+25&&c[y].x>=o.x&&(n=!0),c[y].y>o.y+75&&c[y].y<=o.y+75+80&&c[y].x<=o.x+25&&c[y].x>=o.x&&(u=!0);n||(e=r.a.createElement(g.Circle,{key:o.key+"_addCircle_first",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.TOP)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.TOP)},radius:10,x:o.x+15,y:o.y-20,fill:"#E0E0E0"}),a=r.a.createElement(g.Text,{key:o.key+"_addCircle_plus_first",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.TOP)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.TOP)},text:"+",x:o.x+10.05,y:o.y-26,fontSize:16,height:100,fontStyle:"bold",fill:"green"})),u||(t=r.a.createElement(g.Circle,{key:o.key+"_addCircle_second",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.BOTTOM)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.BOTTOM)},radius:10,x:o.x+15,y:o.y+95,fill:"#E0E0E0"}),i=r.a.createElement(g.Text,{key:o.key+"_addCircle_plus_second",onTap:function(){l.addCircleClickAction(F.STILLAGES,Q.BOTTOM)},onClick:function(){l.addCircleClickAction(F.STILLAGES,Q.BOTTOM)},text:"+",x:o.x+10.05,y:o.y+89,fontSize:16,height:100,fontStyle:"bold",fill:"green"}))}return[e,t,a,i]}}]),t}(r.a.Component),q=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).stillageService=void 0,a.handleDragStart=function(e){e.target.setAttrs({shadowOffset:{x:2,y:2},shadowColor:"grey",scaleX:1.1,scaleY:1.1})},a.handleDragEnd=function(e){e.target.to({duration:.5,easing:A.a.Easings.ElasticEaseOut,scaleX:1,scaleY:1,shadowOffset:null,shadowColor:"white"})},a.stillageService=new Z;var i,n=0;return a.props.source.orientation===m.HORIZONTAL?(i=30*a.props.source.pmCount,n=30):(i=30,n=30*a.props.source.pmCount),a.props.source.width=i,a.props.source.height=n,a.state={source:a.props.source,mapStillages:a.props.mapStillages,isMoveEnabled:!1,isAdding:!1},a.setStillageMoveEnabled=a.setStillageMoveEnabled.bind(Object(S.a)(a)),a.setStillageMoveNow=a.setStillageMoveNow.bind(Object(S.a)(a)),a.isAddingChange=a.isAddingChange.bind(Object(S.a)(a)),a.setIsAddingChange=a.setIsAddingChange.bind(Object(S.a)(a)),a.placeSignaturesForceUpdate=a.placeSignaturesForceUpdate.bind(Object(S.a)(a)),a.signaturesForceUpdate=a.signaturesForceUpdate.bind(Object(S.a)(a)),M.Emitter.addListener("stillageIsAddingChange",a.isAddingChange),M.Emitter.addListener("forceSetIsAddingChange",a.setIsAddingChange),M.Emitter.addListener("placeSignatureForceUpdate",a.placeSignaturesForceUpdate),M.Emitter.addListener("signaturesForceUpdate",a.signaturesForceUpdate),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"placeSignaturesForceUpdate",value:function(e,t){var a=this,i=this.state.source;if(e===this.state.source.key){i.placeSignatures=t;for(var n=0;n<t.length;n++)M.Emitter.emit("placeSignaturesForceSource",i.key,t[n].place,t[n]);this.forceUpdate((function(){return a.setState({source:i})}))}}},{key:"signaturesForceUpdate",value:function(e,t){var a=this.state.source;e===this.state.source.key&&(a.signature=t,M.Emitter.emit("signatureForceUpdate",a.key,t),this.setState({source:a}))}},{key:"setIsAddingChange",value:function(e){var t=this;this.forceUpdate((function(){return t.setState({isAdding:e})}))}},{key:"isAddingChange",value:function(){this.setState({isAdding:!this.state.isAdding})}},{key:"setStillageMoveEnabled",value:function(e){M.Emitter.emit("setIsShapeMoving",!this.state.isMoveEnabled),this.setState({isMoveEnabled:!this.state.isMoveEnabled})}},{key:"setStillageMoveNow",value:function(e,t){console.log(this.state.source),1===e.evt.which&&M.Emitter.emit("setIsShapeMovingNow",t,{type:F.STILLAGES,shape:this.state.source})}},{key:"render",value:function(){var e,t,a,i,n=this,l=this.state.source,s=new L,o=[],c=(new L,[]);if(this.state.isAdding&&(a=r.a.createElement(V,{key:l.key+"_addCircle",source:l,mapStillages:this.state.mapStillages,parentType:F.STILLAGES})),this.state.isMoveEnabled&&(c=this.stillageService.getStillageArrows(this.state.source),t=r.a.createElement(J,{key:l.key+"_deleteCircle",source:l,parentType:F.STILLAGES})),void 0!==l.signature&&(i=r.a.createElement(j,{parentScale:l.scale,isBlockScaling:l.isBlockScaling,pmCount:l.pmCount,parentKey:l.key,key:l.key+"_signature",parentX:l.x,parentY:l.y,parentOrientation:l.orientation,parentSize:l.size,source:l.signature})),void 0!==l.placeSignatures){var u=0;l.placeSignatures.forEach((function(e){o.push(r.a.createElement(N,{parentPlaceSignatures:l.placeSignatures,isBlockScaling:l.isBlockScaling,parentScale:l.scale,pmCount:l.pmCount,parentKey:l.key,key:l.key+"_placeSignature_"+u++,parentX:l.x,parentY:l.y,parentDefects:l.viks,parentOrientation:l.orientation,source:e}))}))}var d=[],p=[],h=[];return void 0!==l.viks&&0!==l.viks.length&&l.viks.forEach((function(e,t){e.color===C.RED?d.push(r.a.createElement(R,{parentSource:l,parentScale:l.scale,isBlockScaling:l.isBlockScaling,parentKey:l.key,key:l.key+"_defect_"+t++,parentX:l.x,parentY:l.y,parentOrientation:l.orientation,source:e})):e.color===C.GREEN?p.push(r.a.createElement(R,{parentSource:l,parentScale:l.scale,isBlockScaling:l.isBlockScaling,parentKey:l.key,key:l.key+"_defect_"+t++,parentX:l.x,parentY:l.y,parentOrientation:l.orientation,source:e})):e.color===C.YELLOW&&h.push(r.a.createElement(R,{parentSource:l,parentScale:l.scale,isBlockScaling:l.isBlockScaling,parentKey:l.key,key:l.key+"_defect_"+t++,parentX:l.x,parentY:l.y,parentOrientation:l.orientation,source:e}))})),l.orientation===m.HORIZONTAL?e=r.a.createElement(g.Rect,{key:l.key+"_rect",onDblTap:function(e){return n.setStillageMoveEnabled(e)},onDblClick:function(e){return n.setStillageMoveEnabled(e)},onMouseDown:function(e){return n.setStillageMoveNow(e,!0)},onTouchStart:function(e){return n.setStillageMoveNow(e,!0)},onMouseUp:function(e){return n.setStillageMoveNow(e,!1)},onTouchEnd:function(e){return n.setStillageMoveNow(e,!1)},onClick:function(e){M.Emitter.emit("mapShapeClickEmit",e.evt.which,e.evt,l.id,F.STILLAGES)},x:l.x,y:l.y,width:s.GetA100Size(l.pmCount,l.orientation,l.scale,l.isBlockScaling).firstSide,height:s.GetA100Size(l.pmCount,l.orientation,l.scale,l.isBlockScaling).secondSide,fill:O.STILLAGE_NORMAL,strokeWidth:1,stroke:O.STILLAGE_NORMAL_STROKE,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd}):l.orientation===m.VERTICAL&&(e=r.a.createElement(g.Rect,{key:l.key+"_rect",onDblTap:function(e){return n.setStillageMoveEnabled(e)},onDblClick:function(e){return n.setStillageMoveEnabled(e)},onMouseDown:function(e){return n.setStillageMoveNow(e,!0)},onTouchStart:function(e){return n.setStillageMoveNow(e,!0)},onMouseUp:function(e){return n.setStillageMoveNow(e,!1)},onTouchEnd:function(e){return n.setStillageMoveNow(e,!1)},x:l.x,y:l.y,width:s.GetA100Size(l.pmCount,l.orientation,l.scale,l.isBlockScaling).firstSide,height:s.GetA100Size(l.pmCount,l.orientation,l.scale,l.isBlockScaling).secondSide,fill:O.STILLAGE_NORMAL,strokeWidth:1,stroke:O.STILLAGE_NORMAL_STROKE,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd})),[a,i,e,p,h,d,o,c,t]}}]),t}(r.a.Component),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={sourceKey:a.props.sourceKey,parentX:a.props.parentX,parentY:a.props.parentY,objectSource:a.props.objectSource,labelMode:a.props.labelMode},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"OnMouseHandler",value:function(e,t,a){switch(t){case"down":M.Emitter.emit("wallLabelButtonInteractionWayDown",e,this.state.objectSource,a);break;case"up":M.Emitter.emit("wallLabelButtonInteractionWayUp",e,this.state.objectSource,a)}}},{key:"render",value:function(){var e,t,a=this,i=this.state,n=i.sourceKey,l=i.parentX,s=i.parentY,o=i.objectSource;i.labelMode;return void 0!==o&&(o.orientation===m.HORIZONTAL?(e=r.a.createElement(g.Circle,{key:n+"_startLabelButton_horizontal",radius:10.5,x:l,y:s+5,strokeWidth:.5,stroke:"#2f00ff",fill:"#E0E0E0",onMouseDown:function(e){a.OnMouseHandler(e,"down",!0)},onTouchStart:function(e){a.OnMouseHandler(e,"down",!0)},onMouseUp:function(e){a.OnMouseHandler(e,"up",!0)},onTouchEnd:function(e){a.OnMouseHandler(e,"up",!0)}}),t=r.a.createElement(g.Circle,{key:n+"_endLabelButton_horizontal",radius:10.5,x:l+o.length,y:s+5,strokeWidth:.5,stroke:"#2f00ff",fill:"#E0E0E0",onMouseDown:function(e){a.OnMouseHandler(e,"down",!1)},onTouchStart:function(e){a.OnMouseHandler(e,"down",!1)},onMouseUp:function(e){a.OnMouseHandler(e,"up",!1)},onTouchEnd:function(e){a.OnMouseHandler(e,"up",!1)}})):o.orientation===m.VERTICAL&&(e=r.a.createElement(g.Circle,{key:n+"_startLabelButton_vertical",radius:10.5,x:l+5,y:s-8,strokeWidth:.5,stroke:"#2f00ff",fill:"#E0E0E0",onMouseDown:function(e){a.OnMouseHandler(e,"down",!0)},onTouchStart:function(e){a.OnMouseHandler(e,"down",!0)},onMouseUp:function(e){a.OnMouseHandler(e,"up",!0)},onTouchEnd:function(e){a.OnMouseHandler(e,"up",!0)}}),t=r.a.createElement(g.Circle,{key:n+"_endLabelButton_vertical",radius:10.5,x:l+5,y:s+o.length+8,strokeWidth:.5,stroke:"#2f00ff",fill:"#E0E0E0",onMouseDown:function(e){a.OnMouseHandler(e,"down",!1)},onTouchStart:function(e){a.OnMouseHandler(e,"down",!1)},onMouseUp:function(e){a.OnMouseHandler(e,"up",!1)},onTouchEnd:function(e){a.OnMouseHandler(e,"up",!1)}}))),console.log("\tstartLabelKey: "+e.key),console.log("\tendLabelKey: "+t.key),[e,t]}}]),t}(r.a.Component);!function(e){e.ADD="ADD",e.DELETE="DELETE"}(K||(K={}));var ee=K,te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).clickHandler=function(){var e=a.state.source;console.log(e)},a.state={source:a.props.source,cursorCoords:{x:0,y:0},isDelete:!1,isAddLabelButton:!1},a.WallOnClickHandler=a.WallOnClickHandler.bind(Object(S.a)(a)),a.OnMouseHandler=a.OnMouseHandler.bind(Object(S.a)(a)),a.OnMouseHandlerValue=a.OnMouseHandlerValue.bind(Object(S.a)(a)),a.setShapeMoveNow=a.setShapeMoveNow.bind(Object(S.a)(a)),M.Emitter.addListener("wallMouseDbl",a.OnMouseHandlerValue),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"OnMouseHandlerValue",value:function(e){this.setState({isAddLabelButton:e,isDelete:e})}},{key:"OnMouseHandler",value:function(){this.setState({isAddLabelButton:!this.state.isAddLabelButton,isDelete:!this.state.isDelete})}},{key:"WallOnClickHandler",value:function(){this.setState({isDelete:!0})}},{key:"setShapeMoveNow",value:function(e,t){1===e.evt.which&&M.Emitter.emit("setIsShapeMovingNow",t,{type:F.WALLS,shape:this.state.source})}},{key:"render",value:function(){var e,t,a,i=this,n=this.state,l=n.source,s=n.isAddLabelButton;return n.isDelete&&(a=r.a.createElement(J,{key:l.key+"_deleteCircle",source:l,parentType:F.WALLS})),s&&(t=r.a.createElement($,{key:l.key+"_labelButton",sourceKey:l.key+"_labelButton",parentX:l.startX,parentY:l.startY,objectSource:l,labelMode:ee.ADD})),[r.a.createElement(g.Rect,{key:l.key+"_rect",onDblClick:function(){i.OnMouseHandler()},onDblTap:function(){i.OnMouseHandler()},draggable:!1,onMouseDown:function(e){return i.setShapeMoveNow(e,!0)},onTouchStart:function(e){return i.setShapeMoveNow(e,!0)},onMouseUp:function(e){return i.setShapeMoveNow(e,!1)},onTouchEnd:function(e){return i.setShapeMoveNow(e,!1)},x:l.startX,y:l.startY,cornerRadius:10,onClick:function(){i.clickHandler()},width:l.orientation===m.HORIZONTAL?l.length:10,height:l.orientation===m.VERTICAL?l.length:10,fill:0===(null===(e=l.color)||void 0===e?void 0:e.length)?"#dcdcdc":l.color}),t,a]}}]),t}(n.Component),ae=function e(){Object(o.a)(this,e)};ae.State={};var ie,ne=a(27),re=(a(123),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={source:a.props.source,selectedCategory:-1,isToggled:!0,selectedElementIndex:""},M.Emitter.addListener("borderCleanAction",(function(){a.setState({selectedElementIndex:""})})),a.categoryTitleClickHandler=a.categoryTitleClickHandler.bind(Object(S.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"categoryTitleClickHandler",value:function(e){this.setState(Object(ne.a)({},this.state,{},{selectedCategory:e}))}},{key:"elementMouseDownHandler",value:function(e){ae.State.selectedEl=e}},{key:"elementMouseClickHandler",value:function(e,t){ae.State.selectedEl=t,t.type===F.WALLS&&M.Emitter.emit("checkWallLayer"),t.type!==F.WALLS&&M.Emitter.emit("setAddCirclesVisibility"),this.setState({selectedElementIndex:e}),M.Emitter.emit("cncFlagChange")}},{key:"render",value:function(){var e,t=this,a=this.state,i=a.source,n=a.selectedCategory,l=a.isToggled,s=[],o=[];if(l)e=r.a.createElement("div",{id:"elements-panel",onClick:function(){t.setState(Object(ne.a)({},t.state,{},{isToggled:!1}))},className:"elements-panel-wrapper-toggled"},r.a.createElement("div",{className:"inner-wrapper-toggled"},r.a.createElement("span",{style:{height:"40%"},className:"selected-text"},"\u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432")));else{if(s.push(r.a.createElement("div",{key:"category_title_all",onClick:function(){return t.categoryTitleClickHandler(-1)},className:"category-tab-title"+(-1===n?" selected-text":"")},"\u0432\u0441\u0435")),i.forEach((function(e,a){s.push(r.a.createElement("div",{key:"category_title_"+e.title+"_"+a,onClick:function(){return t.categoryTitleClickHandler(a)},className:"category-tab-title"+(n===a?" selected-text":"")},e.title))})),-1!==n)i[n].elements.forEach((function(e,a){o.push(r.a.createElement("img",{key:"el_img_"+n+"_"+a,onClick:function(){t.elementMouseClickHandler("el_img_"+n+"_"+a,e)},onMouseDown:function(){t.elementMouseDownHandler(e)},title:e.title,alt:e.title,draggable:!0,style:{width:"auto",height:"40px",cursor:"pointer",padding:2,border:t.state.selectedElementIndex==="el_img_"+n+"_"+a?"2px solid #ffa500":"",borderRadius:5},src:e.photo}))}));else for(var c=function(e){i[e].elements.forEach((function(a,i){o.push(r.a.createElement("img",{key:"el_img_"+e+"_"+i,onClick:function(){t.elementMouseClickHandler("el_img_"+e+"_"+i,a)},onMouseDown:function(){t.elementMouseDownHandler(a)},title:a.title,alt:a.title,draggable:!0,style:{width:"auto",height:"40px",cursor:"pointer",padding:2,border:t.state.selectedElementIndex==="el_img_"+e+"_"+i?"2px solid #ffa500":"",borderRadius:5},src:a.photo}))}))},u=0;u<i.length;u++)c(u);e=r.a.createElement("div",{id:"elements-panel",className:"elements-panel-wrapper"},r.a.createElement("div",{className:"inner-wrapper"},r.a.createElement("div",{className:"category-tabs-wrapper"},s),r.a.createElement("div",{className:"category-elements-wrapper"},o),r.a.createElement("div",{onClick:function(){t.setState(Object(ne.a)({},t.state,{},{isToggled:!0}))},className:"category-elements-footer"},r.a.createElement("span",{style:{cursor:"pointer"},className:"selected-text"},"\u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c"))))}return e}}]),t}(r.a.Component)),le=a(51),se=a.n(le),oe=a(52),ce=a.n(oe),ue=a(53),de=a.n(ue),pe=a(54),he=a.n(pe),ye=a(55),Se=a.n(ye),ge=a(56),fe=a.n(ge),Ae=a(57),Ee=a.n(Ae),me=a(58),ke=a.n(me),ve=a(59),Le=a.n(ve),Te=a(60),Oe=a.n(Te),Ie=a(61),Ce=a.n(Ie),be=a(62),xe=a.n(be),we=a(63),Me=a.n(we),Be=a(64),Re=a.n(Be),Ne={stillage1:se.a,stillage2:ce.a,stillage3:de.a,stillage4:he.a,stillage5:Se.a,stillage6:fe.a,stillage7:Ee.a,stillage8:ke.a,lightbulb:Le.a,idea:Oe.a,firewall:Ce.a,wallHor:xe.a,wallVert:Me.a,closeShape:Re.a},Ge=[{title:"\u0441\u0442\u0435\u043b\u043b\u0430\u0436\u0438",elements:[{key:"stillage_1",title:"\u0421\u0442\u0435\u043b\u043b\u0430\u0436",stillageType:z.NORMAL_BOTTOM,type:F.STILLAGES,photo:Ne.stillage1},{key:"stillage_2",title:"\u0421\u0442\u0435\u043b\u043b\u0430\u0436",stillageType:z.NORMAL_TOP,type:F.STILLAGES,photo:Ne.stillage2},{key:"stillage_3",title:"\u0421\u0442\u0435\u043b\u043b\u0430\u0436",stillageType:z.NORMAL_LEFT_VERT,type:F.STILLAGES,photo:Ne.stillage3},{key:"stillage_4",title:"\u0421\u0442\u0435\u043b\u043b\u0430\u0436",stillageType:z.NORMAL_RIGHT_VERT,type:F.STILLAGES,photo:Ne.stillage4},{key:"stillage_5",title:"\u0421\u0442\u0435\u043b\u043b\u0430\u0436",stillageType:z.SMALL_BOTTOM,type:F.STILLAGES,photo:Ne.stillage5},{key:"stillage_6",title:"\u0421\u0442\u0435\u043b\u043b\u0430\u0436",stillageType:z.SMALL_TOP,type:F.STILLAGES,photo:Ne.stillage6},{key:"stillage_7",title:"\u0421\u0442\u0435\u043b\u043b\u0430\u0436",stillageType:z.SMALL_LEFT_VERT,type:F.STILLAGES,photo:Ne.stillage7},{key:"stillage_8",title:"\u0421\u0442\u0435\u043b\u043b\u0430\u0436",stillageType:z.SMALL_RIGHT_VERT,type:F.STILLAGES,photo:Ne.stillage8}]},{title:"\u0441\u0442\u0435\u043d\u044b",elements:[{key:"wall_hor",title:"\u0421\u0442\u0435\u043d\u0430 \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f",type:F.WALLS,photo:Ne.firewall,orientation:m.HORIZONTAL},{key:"wall_vert",title:"\u0421\u0442\u0435\u043d\u0430 \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u0430\u044f",type:F.WALLS,photo:Ne.firewall,orientation:m.VERTICAL}]},{title:"\u043e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u0435",elements:[{key:"first_light",title:"\u0421\u0432\u0435\u0442\u0438\u043b\u044c\u043d\u0438\u043a",type:F.LIGHTING,photo:Ne.lightbulb},{key:"second_light",title:"\u0421\u0432\u0435\u0442\u0438\u043b\u044c\u043d\u0438\u043a",type:F.LIGHTING,photo:Ne.idea}]}],_e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={source:a.props.source,image:null,isDelete:!1},a.setShapeMoveNow=a.setShapeMoveNow.bind(Object(S.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setShapeMoveNow",value:function(e,t){1===e.evt.which&&M.Emitter.emit("setIsShapeMovingNow",t,{type:F.LIGHTING,shape:this.state.source})}},{key:"componentDidMount",value:function(){var e=this,t=new window.Image;t.src=this.state.source.photo,t.onload=function(){e.setState({image:t})}}},{key:"render",value:function(){var e,t=this,a=this.state.source;return this.state.isDelete&&(e=r.a.createElement(J,{key:a.key+"_deleteCircle",source:a,parentType:F.LIGHTING})),[r.a.createElement(g.Image,{key:a.key+"_image",x:this.state.source.x,y:this.state.source.y,onMouseDown:function(e){return t.setShapeMoveNow(e,!0)},onTouchStart:function(e){return t.setShapeMoveNow(e,!0)},onMouseUp:function(e){return t.setShapeMoveNow(e,!1)},onTouchEnd:function(e){return t.setShapeMoveNow(e,!1)},onDblTap:function(){return t.setState({isDelete:!t.state.isDelete})},onDblClick:function(){return t.setState({isDelete:!t.state.isDelete})},width:this.state.source.width?this.state.source.width:35,height:this.state.source.height?this.state.source.height:35,image:this.state.image}),e]}}]),t}(r.a.Component),je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={source:a.props.source},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.source;return r.a.createElement(g.Text,{x:e.x,y:e.y,text:e.text,fontFamily:"Calibri",fontSize:e.fontSize})}}]),t}(r.a.Component),De=(a(124),function(e){function t(e){var a;Object(o.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e));var i=window.innerWidth,n=0;return a.props.parentSource.viks.forEach((function(e,t){JSON.stringify(e)===JSON.stringify(a.props.source)&&(n=t)})),a.state={selectedPage:n,parentSource:a.props.parentSource,source:a.props.source,panelWidthPer:"0",fullWidthPx:i,isResize:!1,isPhotoWatcher:!1,selectedPhoto:a.props.source.defectPhotos[0]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getCurrentDate",value:function(e){return e.getDate()+"."+e.getMonth()+"1."+e.getFullYear()}},{key:"closePanel",value:function(){M.Emitter.emit("defectBrowsePanelWorkerHandle",!1)}},{key:"render",value:function(){var e,t=this,a=this.state,i=a.source,n=a.parentSource,l=[],s=1;n.viks.forEach((function(e,a){i.place===e.place&&(l.push(r.a.createElement("div",{style:{color:t.state.selectedPage===a?"#5933ff":"#6B737C",cursor:"pointer"},onClick:function(){return t.setState({source:t.state.parentSource.viks[a],selectedPage:a})},key:"pageNumTitle_"+s},s)),s++)})),1!==l.length&&(e=r.a.createElement("div",{className:"pager"},l));var o,c=r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{style:{marginLeft:"-"+this.state.panelWidthPer+"px"},className:"panel"},r.a.createElement("div",{className:"header"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{onClick:function(){t.closePanel()},src:Ne.closeShape,alt:""})),r.a.createElement("div",null,"\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435")),r.a.createElement("div",null,"\u0412\u0441\u0435\u0433\u043e: ",s-1),r.a.createElement("div",null)),r.a.createElement("div",{className:"content"},r.a.createElement("div",null,r.a.createElement("div",{className:"info-text info-title"},"\u0420\u044f\u0434"),r.a.createElement("div",{className:"info-text info-value"},i.row)),r.a.createElement("div",null,r.a.createElement("div",{className:"info-text info-title"},"\u041c\u0435\u0441\u0442\u043e"),r.a.createElement("div",{className:"info-text info-value"},i.place)),r.a.createElement("div",null,r.a.createElement("div",{className:"info-text info-title"},"\u0423\u0440\u043e\u0432\u0435\u043d\u044c"),r.a.createElement("div",{className:"info-text info-value"},i.level)),r.a.createElement("div",{className:"columned"},r.a.createElement("div",{className:"info-text info-title"},"\u042d\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement("div",{className:"info-text info-value"},i.elementName)),r.a.createElement("div",{className:"columned"},r.a.createElement("div",{className:"info-text info-title"},"\u0420\u0430\u0437\u043c\u0435\u0440"),r.a.createElement("div",{className:"info-text info-value"},i.elementSize)),r.a.createElement("div",{className:"columned"},r.a.createElement("div",{className:"info-text info-title"},"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0440\u0438\u0441\u043a\u0430"),r.a.createElement("div",{style:{background:i.color,color:this.colorTitle.color},className:"circle circle-text"},this.colorTitle.title)),r.a.createElement("div",{className:"columned"},r.a.createElement("div",{className:"info-text info-title"},"\u0422\u0438\u043f \u0434\u0435\u0444\u0435\u043a\u0442\u0430"),r.a.createElement("div",{className:"info-text info-value"},i.defectType)),r.a.createElement("div",{className:"columned"},r.a.createElement("div",{className:"info-text info-title"},"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"),r.a.createElement("div",{className:"info-text info-value"},i.elementManufacturer)),r.a.createElement("div",{className:"columned"},r.a.createElement("div",{className:"info-text info-title"},"\u0414\u0430\u0442\u0430 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u044f"),r.a.createElement("div",{className:"info-text info-value"},i.defectDate.split(" ")[0])),r.a.createElement("div",{className:"columned"},r.a.createElement("div",{className:"info-text info-title"},"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0437\u0430\u043c\u0435\u043d\u0435\u043d"),r.a.createElement("div",{className:"info-text info-value"},i.isRepaired?"\u0414\u0430":"\u041d\u0435\u0442")),r.a.createElement("div",{className:"columned"},r.a.createElement("div",{className:"info-text info-title"},"\u0414\u0430\u0442\u0430 \u0437\u0430\u043c\u0435\u043d\u044b"),r.a.createElement("div",{className:"info-text info-value"},i.repairDate.split(" ")[0])),r.a.createElement("div",{className:"columned"},r.a.createElement("div",{className:"info-text info-title"},"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0443\u044e\u0449\u0438\u0445 \u0434\u043b\u044f \u0437\u0430\u043c\u0435\u043d\u044b"),r.a.createElement("div",{className:"info-text info-value"},i.detailsCount)),r.a.createElement("div",{className:"columned comment-block"},r.a.createElement("div",{style:{width:"95%"},className:"info-text info-title"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),r.a.createElement("div",{style:{width:"95%"},className:"info-text info-value"},i.comment))),r.a.createElement("div",{className:"content-second"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"info-text info-title"},"\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u0440\u0435\u043c\u043e\u043d\u0442\u0430"),r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){return t.setState({isPhotoWatcher:!0,selectedPhoto:0})},style:{backgroundImage:"url("+(void 0!==this.state.source.defectPhotos[0]?"data:image/png;base64,"+this.state.source.defectPhotos[0]:"")+")"}}),r.a.createElement("div",{onClick:function(){return t.setState({isPhotoWatcher:!0,selectedPhoto:1})},style:{backgroundImage:"url("+(void 0!==this.state.source.defectPhotos[1]?"data:image/png;base64,"+this.state.source.defectPhotos[1]:"")+")"}}),r.a.createElement("div",{onClick:function(){return t.setState({isPhotoWatcher:!0,selectedPhoto:2})},style:{backgroundImage:"url("+(void 0!==this.state.source.defectPhotos[2]?"data:image/png;base64,"+this.state.source.defectPhotos[2]:"")+")"}}),r.a.createElement("div",{onClick:function(){return t.setState({isPhotoWatcher:!0,selectedPhoto:3})},style:{backgroundImage:"url("+(void 0!==this.state.source.defectPhotos[3]?"data:image/png;base64,"+this.state.source.defectPhotos[3]:"")+")"}}),r.a.createElement("div",{onClick:function(){return t.setState({isPhotoWatcher:!0,selectedPhoto:4})},style:{backgroundImage:"url("+(void 0!==this.state.source.defectPhotos[4]?"data:image/png;base64,"+this.state.source.defectPhotos[4]:"")+")"}}))),r.a.createElement("div",null,r.a.createElement("div",{className:"info-text info-title"},"\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u0440\u0435\u043c\u043e\u043d\u0442\u0430"),r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){return t.setState({isPhotoWatcher:!0,selectedPhoto:0})},style:{backgroundImage:"url("+(void 0!==this.state.source.repairsPhotos[0]?"data:image/png;base64,"+this.state.source.repairsPhotos[0]:"")+")"}}),r.a.createElement("div",{onClick:function(){return t.setState({isPhotoWatcher:!0,selectedPhoto:1})},style:{backgroundImage:"url("+(void 0!==this.state.source.repairsPhotos[1]?"data:image/png;base64,"+this.state.source.repairsPhotos[1]:"")+")"}}),r.a.createElement("div",{onClick:function(){return t.setState({isPhotoWatcher:!0,selectedPhoto:2})},style:{backgroundImage:"url("+(void 0!==this.state.source.repairsPhotos[2]?"data:image/png;base64,"+this.state.source.repairsPhotos[2]:"")+")"}}),r.a.createElement("div",{onClick:function(){return t.setState({isPhotoWatcher:!0,selectedPhoto:3})},style:{backgroundImage:"url("+(void 0!==this.state.source.repairsPhotos[3]?"data:image/png;base64,"+this.state.source.repairsPhotos[3]:"")+")"}}),r.a.createElement("div",{onClick:function(){return t.setState({isPhotoWatcher:!0,selectedPhoto:4})},style:{backgroundImage:"url("+(void 0!==this.state.source.repairsPhotos[4]?"data:image/png;base64,"+this.state.source.repairsPhotos[4]:"")+")"}}))))),e,r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-left label"},r.a.createElement("div",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435")),r.a.createElement("div",{className:"footer-right"},r.a.createElement("div",{className:"button button-label"},r.a.createElement("button",{className:"button-label"},"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442"))))),r.a.createElement("div",{onClick:function(){t.closePanel()},className:"close-block"}));return this.state.isPhotoWatcher&&(o=[r.a.createElement("div",{className:"photo-watcher",onClick:function(){return t.setState({isPhotoWatcher:!1})}}),r.a.createElement("div",{style:{opacity:1},onClick:function(){return t.setState({isPhotoWatcher:!1})},className:"photo-watcher-photo"},r.a.createElement("img",{src:void 0!==this.state.source.defectPhotos[0]?"data:image/png;base64,"+this.state.source.defectPhotos[this.state.selectedPhoto]:""}))]),[c,o]}},{key:"colorTitle",get:function(){var e=this.state.source;return e.color===C.GREEN?{title:"\u0437\u0435\u043b\u0451\u043d\u044b\u0439",color:"black"}:e.color===C.YELLOW?{title:"\u0436\u0451\u043b\u0442\u044b\u0439",color:"white"}:e.color===C.RED?{title:"\u043a\u0440\u0430\u0441\u043d\u044b\u0439",color:"white"}:{title:"",color:""}}}]),t}(r.a.Component));!function(e){e[e.DRAWING=0]="DRAWING",e[e.IMAGE=1]="IMAGE"}(ie||(ie={}));var Pe=ie,We=(a(125),a(126),function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"getWallSourceItem",value:function(e,t,a,i,n){var r,l=0;return Object(D.a)(e.walls).asc((function(e){return e.id})),0!==e.walls.length&&(l=e.walls[e.walls.length-1].id),l++,r=e.key+"_wall_"+l.toString(),{id:l,key:"wall_for_move_"+r,startX:t,startY:a,length:i,orientation:n}}},{key:"setSourceWallParams",value:function(e,t,a,i){return e.orientation===m.HORIZONTAL?e.length=Math.abs(t.startX-t.x)+25:e.length=Math.abs(t.startY-t.y)+25,e.orientation===m.HORIZONTAL?a.down.x<=a.up.x?a.down.x<a.up.x&&(e.startX=a.down.x-i.x):e.startX=a.up.x-i.x:a.down.y<=a.up.y?a.down.y<a.up.y&&(e.startY=a.down.y-i.y):e.startY=a.up.y-i.y,e}},{key:"getWallIndexByID",value:function(e,t){return W.a.search_in_associative(e,"id",t)}},{key:"resizeWall",value:function(e,t,a,i){return t.orientation===m.HORIZONTAL?a?e.clientX>t.startX?(t.length-=e.clientX-i.x-t.startX,t.startX=e.clientX-i.x):(t.length+=Math.abs(e.clientX-i.x-t.startX),t.startX=e.clientX-i.x):t.length+=e.clientX-i.x-(t.startX+t.length):t.orientation===m.VERTICAL&&(a?e.clientY>t.startY?(t.length-=e.clientY-i.y-t.startY,t.startY=e.clientY-i.y):(t.length+=Math.abs(e.clientY-i.y-t.startY),t.startY=e.clientY-i.y):t.length+=e.clientY-i.y-(t.startY+t.length)),t}}]),e}()),He=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"getObjectSourceItem",value:function(e,t,a){var i,n=0;return Object(D.a)(e.objects).asc((function(e){return e.id})),0!==e.objects.length&&(n=e.objects[e.objects.length-1].id),n++,i=e.key+"_object_"+n.toString(),{id:n,key:i,x:t.x,y:t.y,photo:a}}},{key:"searchByID",value:function(e,t){return W.a.search_in_associative(e,"id",t)}}]),e}(),ze=function(){function e(){Object(o.a)(this,e),this.stillageSizeReducer=void 0,this.stillageService=void 0,this.stillageSizeReducer=new L,this.stillageService=new Z}return Object(c.a)(e,[{key:"getLayerSourceItem",value:function(e,t){var a,i=0;return Object(D.a)(e.layers).asc((function(e){return e.id})),0!==e.layers.length&&(i=e.layers[e.layers.length-1].id),i++,a=e.key+"_layer_"+i.toString(),{id:i,key:a,title:this.getLayerNameByType(t),type:t,mapIconsType:this.getMapIconsTypeByLayerType(t),walls:[],stillages:[],objects:[]}}},{key:"getLayerIndexByTypeBinary",value:function(e,t){var a=0,i=e.length-1;for(e.sort((function(e,t){return e.type>t.type?1:e.type<t.type?-1:0}));a<=i;){var n=Math.floor((a+i)/2);if(e[n].type===t)return n;e[n].type<t?a=n+1:i=n-1}return-1}},{key:"getLayerNameByType",value:function(e){switch(e){case F.STILLAGES:return"\u0421\u0442\u0435\u043b\u043b\u0430\u0436\u0438";case F.WALLS:return"\u0421\u0442\u0435\u043d\u044b";case F.LIGHTING:return"\u041e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u0435";case F.SIGNATURES:return"\u041f\u043e\u0434\u043f\u0438\u0441\u0438";case F.ABSTRACTS:return"\u0410\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u0438";default:return""}}},{key:"getMapIconsTypeByLayerType",value:function(e){switch(e){case F.STILLAGES:case F.WALLS:return Pe.DRAWING;case F.LIGHTING:return Pe.IMAGE;case F.SIGNATURES:return Pe.DRAWING;case F.ABSTRACTS:return Pe.IMAGE;case F.TEXT:return Pe.DRAWING}}},{key:"getLayerIndex",value:function(e,t,a){var i={selected:{is:!1,index:-1},created:{is:!1,index:-1}},n=W.a.search_in_associative(t,"type",a);return i.created.index=n.index,n=n.item,-1!==i.created.index&&(i.created.is=!0,i.selected.index=W.a.search(e,i.created.index).index,-1!==i.selected.index&&void 0!==i.selected.index?i.selected.is=!0:(i.selected.is=!1,i.selected.index=-1)),i}},{key:"deleteBadWalls",value:function(e){for(var t=[],a=0;a<e.length;a++)e[a].key.includes("wall_for_move")&&(t.push(e[a]));if(0!==t.length)for(var i=0;i<t.length;i++){var n=e.indexOf(t[i]);e.splice(n,1)}return e}},{key:"hasUnderChild",value:function(e,t,a,i,n){var r=W.a.search_in_associative(e,"type",F.STILLAGES),l=e[r.index];if(t===F.STILLAGES){for(var s=this.stillageService.getStillageSourceItem(l,{x:a,y:i},n.stillageType),o=s.width,c=s.height,u=s.x,d=s.y,p=(s.width,s.height,l.stillages),h=0;h<p.length;h++){var y=p[h];if(y.orientation===m.HORIZONTAL){if(y.signature.position===_.TOP){if(a>=y.x-o&&a<=y.x+y.width&&i>=y.y-c-24.5&&i<=y.y+y.height)return!0}else if(y.signature.position===_.BOTTOM&&a>=y.x-o&&a<=y.x+y.width&&i>=y.y-c&&i<=y.y+y.height)return!0}else if(y.signature.position===_.LEFT){if(a>=y.x-24.5&&a<=y.x+y.width&&i>=y.y&&i<=y.y+y.height)return!0}else if(y.signature.position===_.RIGHT&&a>=y.x&&a<=y.x+y.width&&i>=y.y&&i<=y.y+y.height)return!0}for(var S,g,f,A=e[(r=W.a.search_in_associative(e,"type",F.WALLS)).index].walls,E=0,k=0;k<A.length;k++){var v=A[k];if(S=v.startX,g=v.startY,v.orientation===m.HORIZONTAL?(f=S+v.length,E=g+10):(f=S+10,E=g+v.length),u>S-o&&u<f&&d>g-c&&d<E)return!0}}else if(t===F.WALLS);else if(t===F.ABSTRACTS)return!0;return!1}}]),e}(),Ye=a(25),Ue=a.n(Ye),Xe=function e(){Object(o.a)(this,e)};Xe.data={resoultID:NaN};var Fe=function e(){Object(o.a)(this,e)};Fe.url="https://a100.technovik.ru:1000/";var Ze=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"getMap",value:function(e){var t;return Ue.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=Fe.url+"api/mapengine/map?resoultID="+e.resoultID,a.abrupt("return",new Promise((function(e){fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(){setTimeout((function(){return Je.GetMap()}),2e3)}))})));case 2:case"end":return a.stop()}}))}}]),e}(),Je=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:"GetMap",value:function(){var e;return Ue.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return[],this,e=new Ze,t.next=5,Ue.a.awrap(e.getMap(Xe.data));case 5:this.data=t.sent,void 0!==this.data.status&&(this.data=[{id:0,key:"unit_0",title:"\u0411\u043b\u043e\u043a 1",layers:[]},{id:1,key:"unit_1",title:"\u0411\u043b\u043e\u043a 2",layers:[]},{id:2,key:"unit_2",title:"\u0411\u043b\u043e\u043a 3",layers:[]}]),[],setTimeout((function(){M.Emitter.emit("mapSetState")}),1e3);case 9:case"end":return t.stop()}}),null,this)}}]),e}();Je.data=[{id:0,key:"unit_0",title:"\u0411\u043b\u043e\u043a 1",layers:[]},{id:1,key:"unit_1",title:"\u0411\u043b\u043e\u043a 2",layers:[]},{id:2,key:"unit_2",title:"\u0411\u043b\u043e\u043a 3",layers:[]}];var Ke,Qe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).stillageService=void 0,a.objectService=void 0,a.layerService=void 0,a.wallService=void 0,a.animates=[],a.animationIDs=["units-block","filters-block","elements-panel","layers-block"],a.handleWheel=function(e){e.evt.preventDefault();a.layerService.getLayerIndexByTypeBinary(a.state.source[a.state.selectedUnit].layers,F.STILLAGES);var t=e.target.getStage(),i=t.scaleX(),n=t.getPointerPosition().x/i-t.x()/i,r=t.getPointerPosition().y/i-t.y()/i,l=e.evt.deltaY>0?1.025*i:i/1.025;t.scale({x:-1*l,y:-1*l}),a.setState({stageScales:{x:-1*l,y:-1*l},stageScale:l,stageX:-(n-t.getPointerPosition().x/l)*l,stageY:-(r-t.getPointerPosition().y/l)*l})},a.stillageService=new Z,a.objectService=new He,a.layerService=new ze,a.wallService=new We,a.state={stageScales:{x:1,y:1},lazyLoading:!0,parentKey:a.props.parentKey,isAddCircleAdding:!1,isToggledToAdd:!1,lastAddedItemType:void 0,lastAddedItem:void 0,isShapeMoveEnable:!1,isShapeMovingNow:!1,selectedShapeForMove:{},isWallUnderChild:!1,wallLayerIndex:-1,wallIndex:-1,selectedUnit:0,selectedLayer:-1,stageScale:1,stageX:0,stageY:0,isMouseDown:!1,source:a.props.source,isOnlyRed:!0,cursorCoords:{startX:0,startY:0,x:0,y:0},isDrawing:!1,cncFlag:!1,isDefectBrowsePanel:!1,layersSelected:[],isAddLayerModal:!1,moveStageParams:{x:0,y:0},upDownCoords:{up:{x:0,y:0},down:{x:0,y:0}},isIncreaseResizingLength:!1,resizingWallIndex:0,isStart:!1,isWallResizingNow:!1,selectedWallToResize:void 0,resizeCursorCoordinates:{startX:0,startY:0,actionEndX:0,actionEndY:0}},a.filtersOnChangeAction=a.filtersOnChangeAction.bind(Object(S.a)(a)),a.ElementOnDrop=a.ElementOnDrop.bind(Object(S.a)(a)),a.MapWrapperOnMouseMove=a.MapWrapperOnMouseMove.bind(Object(S.a)(a)),a.deleteWall=a.deleteWall.bind(Object(S.a)(a)),a.cncFlagChange=a.cncFlagChange.bind(Object(S.a)(a)),a.addElement=a.addElement.bind(Object(S.a)(a)),a.selectLayerToList=a.selectLayerToList.bind(Object(S.a)(a)),a.StageOnMouseDownHandler=a.StageOnMouseDownHandler.bind(Object(S.a)(a)),a.StageOnMouseUpHandler=a.StageOnMouseUpHandler.bind(Object(S.a)(a)),a.StageOnMouseMoveHandler=a.StageOnMouseMoveHandler.bind(Object(S.a)(a)),a.defectBrowsePanelWorker=a.defectBrowsePanelWorker.bind(Object(S.a)(a)),a.addLayerModalWorker=a.addLayerModalWorker.bind(Object(S.a)(a)),a.stageDragEnd=a.stageDragEnd.bind(Object(S.a)(a)),a.wallLabelButtonInteractionWayUp=a.wallLabelButtonInteractionWayUp.bind(Object(S.a)(a)),a.wallLabelButtonInteractionWayDown=a.wallLabelButtonInteractionWayDown.bind(Object(S.a)(a)),a.setIsShapeMoveEnable=a.setIsShapeMoveEnable.bind(Object(S.a)(a)),a.moveShapeByStep=a.moveShapeByStep.bind(Object(S.a)(a)),a.setIsShapeMovingNow=a.setIsShapeMovingNow.bind(Object(S.a)(a)),a.mapShapeClick=a.mapShapeClick.bind(Object(S.a)(a)),a.deleteShape=a.deleteShape.bind(Object(S.a)(a)),a.setAddCirclesVisibility=a.setAddCirclesVisibility.bind(Object(S.a)(a)),a.addSameShape=a.addSameShape.bind(Object(S.a)(a)),a.mapSetState=a.mapSetState.bind(Object(S.a)(a)),M.Emitter.addListener("deleteWall",a.deleteWall),M.Emitter.addListener("defectBrowsePanelWorkerHandle",a.defectBrowsePanelWorker),M.Emitter.addListener("cncFlagChange",a.cncFlagChange),M.Emitter.addListener("wallLabelButtonInteractionWayUp",a.wallLabelButtonInteractionWayUp),M.Emitter.addListener("wallLabelButtonInteractionWayDown",a.wallLabelButtonInteractionWayDown),M.Emitter.addListener("setIsShapeMoving",a.setIsShapeMoveEnable),M.Emitter.addListener("moveShapeByStep",a.moveShapeByStep),M.Emitter.addListener("setIsShapeMovingNow",a.setIsShapeMovingNow),M.Emitter.addListener("mapShapeClickEmit",a.mapShapeClick),M.Emitter.addListener("deleteShapeFromLayer",a.deleteShape),M.Emitter.addListener("setAddCirclesVisibility",a.setAddCirclesVisibility),M.Emitter.addListener("addSameShape",a.addSameShape),M.Emitter.addListener("mapSetState",a.mapSetState),M.Emitter.addListener("setSelectedVik",(function(e,t){return a.setState({selectedVik:e,selectedStillage:t})})),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.lazyLoading;t.source;a&&this.animationIDs.forEach((function(t){e.animates.push(document.getElementById(t).animate([{opacity:"0.8"},{opacity:"0.4"},{opacity:"0.8"}],{duration:2e3,iterations:1/0}))}))}},{key:"componentDidUpdate",value:function(e,t,a){document.getElementById("units-block").style.opacity="0.8"}},{key:"addSameShape",value:function(e,t,a){var i=this;this.setState({isAddCircleAdding:!0});var n,r=this.state,l=r.source,s=r.selectedUnit,o=a===Q.TOP||a===Q.LEFT;if(void 0!==e&&void 0!==t&&e===F.STILLAGES){n=this.layerService.getLayerIndexByTypeBinary(l[s].layers,e);var c,u,d=t,p=l[s].layers[n],h=0;Object(D.a)(p.stillages).asc((function(e){return e.id})),0!==p.stillages.length&&(h=p.stillages[p.stillages.length-1].id),h++,u=p.key+"_stillage_"+h.toString();var y=d.placeSignatures;d.size===v.NORMAL&&(y=o?parseInt(y[0].title)>3?[{place:1,title:(parseInt(y[0].title)-3).toString()},{place:2,title:(parseInt(y[0].title)-2).toString()},{place:3,title:(parseInt(y[0].title)-1).toString()}]:d.placeSignatures:[{place:1,title:(parseInt(y[2].title)+1).toString()},{place:2,title:(parseInt(y[2].title)+2).toString()},{place:3,title:(parseInt(y[2].title)+3).toString()}]),c={id:h,key:u,x:d.orientation===m.HORIZONTAL?0:d.x,y:d.orientation===m.VERTICAL?0:d.y,orientation:d.orientation,signature:d.signature,size:d.size,placeSignatures:y,viks:[],pmCount:-1},a===Q.RIGHT?c.x=d.x+80:a===Q.LEFT?c.x=d.x-80:a===Q.BOTTOM?c.y=d.y+80:a===Q.TOP&&(c.y=d.y-80),l[s].layers[n].stillages.push(c),console.log(c),this.forceUpdate((function(){return i.setState({source:l})})),M.Emitter.emit("forceSetIsAddingChange",!0)}}},{key:"setAddCirclesVisibility",value:function(){M.Emitter.emit("stillageIsAddingChange")}},{key:"deleteShape",value:function(e,t){var a=this,i=this.state,n=i.source,r=i.selectedUnit,l=this.layerService.getLayerIndexByTypeBinary(n[r].layers,e);if(e===F.STILLAGES){var s=this.stillageService.stillageSearchByID(n[r].layers[l].stillages,t);n[r].layers[l].stillages.splice(s.index,1)}else if(e===F.LIGHTING){var o=this.objectService.searchByID(n[r].layers[l].objects,t);n[r].layers[l].objects.splice(o.index,1)}else if(e===F.WALLS){var c=this.wallService.getWallIndexByID(n[r].layers[l].walls,t);n[r].layers[l].walls.splice(c.index,1)}this.forceUpdate((function(){return a.setState({source:n})}))}},{key:"mapShapeClick",value:function(e,t,a,i){}},{key:"moveShapeByStep",value:function(e,t,a){var i=this,n=this.state,r=n.source,l=n.selectedUnit;if(t===F.STILLAGES){var s=this.layerService.getLayerIndexByTypeBinary(r[l].layers,F.STILLAGES),o=this.stillageService.stillageSearchByID(r[l].layers[s].stillages,e.id),c=r[l].layers[s].stillages[o.index];a===U.TOP?c.y-=1:a===U.BOTTOM?c.y+=1:a===U.LEFT?c.x-=1:a===U.RIGHT&&(c.x+=1),r[l].layers[s].stillages[o.index]=c,M.Emitter.emit("stillageSignatureForceUpdate",c.key,c.x,c.y),M.Emitter.emit("placeSignaturesForceUpdate",c.key,c.x,c.y),M.Emitter.emit("defectsForceUpdate",c.key,c.x,c.y),this.forceUpdate((function(){return i.setState({source:r})}))}}},{key:"setIsShapeMoveEnable",value:function(e){this.setState({isShapeMoveEnable:e})}},{key:"setIsShapeMovingNow",value:function(e,t){void 0!==t?this.setState({isShapeMovingNow:e,selectedShapeForMove:t}):this.setState({isShapeMovingNow:e})}},{key:"MapWrapperOnMouseMove",value:function(e){var t=this,a=this.state,i=a.source,n=a.selectedUnit,r=(a.layersSelected,a.selectedWallToResize,a.wallLayerIndex),l=a.resizingWallIndex,s=a.isStart,o=(a.stageScale,a.stageScales);this.state.selectedLayer;if(this.state.isShapeMovingNow&&void 0!==this.state.selectedShapeForMove)if(this.state.selectedShapeForMove.type===F.STILLAGES){for(var c=this.layerService.getLayerIndexByTypeBinary(i[n].layers,F.STILLAGES),u=this.stillageService.stillageSearchByID(i[n].layers[c].stillages,this.state.selectedShapeForMove.shape.id),d=i[n].layers[c].stillages[u.index],p=i[n].layers[c].stillages,h=0;h<p.length;h++){var y=p[h];if(d.key!==y.key)y.x,y.y,e.clientX,this.state.moveStageParams.x,e.clientY,this.state.moveStageParams.y}console.log("\u0422\u0423\u0422"),console.log(o),d.x=e.clientX-this.state.moveStageParams.x,d.y=e.clientY-this.state.moveStageParams.y,i[n].layers[c].stillages[u.index]=d,M.Emitter.emit("stillageSignatureForceUpdate",d.key,d.x,d.y),M.Emitter.emit("placeSignaturesForceUpdate",d.key,d.x,d.y),M.Emitter.emit("defectsForceUpdate",d.key,d.x,d.y),this.forceUpdate((function(){return t.setState({source:i})}))}else if(this.state.selectedShapeForMove.type===F.LIGHTING){var S=this.layerService.getLayerIndexByTypeBinary(i[n].layers,F.LIGHTING),g=this.objectService.searchByID(i[n].layers[S].objects,this.state.selectedShapeForMove.shape.id),f=i[n].layers[S].objects[g.index];f.x=e.clientX-this.state.moveStageParams.x,f.y=e.clientY-this.state.moveStageParams.y,i[n].layers[S].objects[g.index]=f,this.forceUpdate((function(){return t.setState({source:i})}))}else if(this.state.selectedShapeForMove.type===F.WALLS){var A=this.layerService.getLayerIndexByTypeBinary(i[n].layers,F.WALLS),E=this.wallService.getWallIndexByID(i[n].layers[A].walls,this.state.selectedShapeForMove.shape.id),m=i[n].layers[A].walls[E.index];m.startX=e.clientX-this.state.moveStageParams.x,m.startY=e.clientY-this.state.moveStageParams.y,i[n].layers[A].walls[E.index]=m,this.forceUpdate((function(){return t.setState({source:i})}))}if(this.state.isWallResizingNow){M.Emitter.emit("wallMouseDbl",!1);var k=i[n].layers[r].walls[l];k=this.wallService.resizeWall(e,k,s,this.state.moveStageParams),i[n].layers[r].walls[l]=k,this.setState({source:i})}this.state.isDrawing&&this.setState({cursorCoords:{startX:this.state.cursorCoords.startX,startY:this.state.cursorCoords.startY,x:e.clientX,y:e.clientY}})}},{key:"wallLabelButtonInteractionWayUp",value:function(e){var t=this.state,a=t.source,i=t.isStart,n=t.selectedUnit,r=t.layersSelected,l=t.isWallResizingNow,s=t.selectedWallToResize,o=t.wallLayerIndex;this.state.selectedLayer;if(this.setState({isShapeMovingNow:!1}),l&&s){var c=this.wallService.getWallIndexByID(a[n].layers[o].walls,s.id),u=c.item;u=this.wallService.resizeWall(e,u,i,this.state.moveStageParams),a[n].layers[o].walls[c.index]=u,a[n].layers[o].walls=this.layerService.deleteBadWalls(a[n].layers[o].walls),this.setState({resizingWallIndex:c.index,source:a,isWallResizingNow:!1,isDrawing:!1,layersSelected:r}),M.Emitter.emit("wallMouseDbl",!1)}}},{key:"wallLabelButtonInteractionWayDown",value:function(e,t,a){M.Emitter.emit("wallMouseDbl",!1);var i=this.state,n=i.source,r=i.layersSelected,l=i.selectedUnit,s=(this.layerService.getLayerIndex(r,n[l].layers,F.WALLS),this.layerService.getLayerIndexByTypeBinary(n[l].layers,F.WALLS)),o=n[l];-1===s&&o.layers.push(this.layerService.getLayerSourceItem(n[l],F.WALLS)),s=this.layerService.getLayerIndexByTypeBinary(n[l].layers,F.WALLS),this.setState({wallLayerIndex:s,selectedLayer:-1});var c=this.wallService.getWallIndexByID(n[l].layers[s].walls,t.id);this.setState({resizingWallIndex:c.index,isStart:a,selectedWallToResize:t,isWallResizingNow:!0,isDrawing:!0})}},{key:"stageDragEnd",value:function(e,t){this.setState({moveStageParams:{x:e,y:t}})}},{key:"addLayerModalWorker",value:function(e){this.setState({isAddLayerModal:e})}},{key:"defectBrowsePanelWorker",value:function(e){this.setState({isDefectBrowsePanel:e})}},{key:"StageOnMouseMoveHandler",value:function(e){var t=this.state,a=t.source,i=t.selectedUnit,n=(t.selectedLayer,t.isDrawing),r=t.wallIndex,l=t.moveStageParams,s=t.cursorCoords,o=t.wallLayerIndex;if(this.state.cncFlag&&n){var c=a[i].layers[o].walls[r];if(c.orientation===m.HORIZONTAL)if(c.startX<e.evt.clientX-l.x){var u=Math.abs(c.startX-(e.evt.clientX-l.x));c.length+=u-c.length}else c.startX>e.evt.clientX-l.x&&(c.startX=e.evt.clientX-l.x,c.length=Math.abs(c.startX-s.startX));else if(c.startY<e.evt.clientY-l.y){var d=Math.abs(c.startY-(e.evt.clientY-l.y));c.length+=d-c.length}else c.startY>e.evt.clientY-l.y&&(c.startY=e.evt.clientY-l.y,c.length=Math.abs(c.startY-s.startY))}}},{key:"StageOnMouseDownHandler",value:function(e){var t=this.state,a=t.source,i=t.selectedUnit,n=t.selectedLayer,r=t.layersSelected;if(this.state.cncFlag){var l=ae.State.selectedEl;if(void 0!==l){this.setState({isDrawing:!0,cursorCoords:{startX:e.evt.clientX,startY:e.evt.clientY,x:0,y:0},upDownCoords:{up:this.state.upDownCoords.up,down:{x:e.evt.clientX,y:e.evt.clientY}}});var s=this.layerService.getLayerIndexByTypeBinary(a[i].layers,F.WALLS),o=a[i];-1===s&&o.layers.push(this.layerService.getLayerSourceItem(a[i],F.WALLS)),s=this.layerService.getLayerIndexByTypeBinary(a[i].layers,F.WALLS),-1===n?this.setState({wallLayerIndex:s,selectedLayer:-1}):(r.push(s),this.setState({layersSelected:r,selectedLayer:s,wallLayerIndex:s}));var c=e.evt.clientX-this.state.moveStageParams.x,u=e.evt.clientY-this.state.moveStageParams.y;if(this.layerService.hasUnderChild(a[i].layers,l.type,c,u,l))return;if(a[i].layers[s].type===F.WALLS){a[i].layers[s].walls.push(this.wallService.getWallSourceItem(a[i].layers[s],c,u,25,ae.State.selectedEl.orientation));var d=a[i].layers[s].walls,p=this.wallService.getWallIndexByID(d,d[d.length-1].id).index;a[i].layers[s].walls=d,this.setState({wallIndex:p,source:a})}}}}},{key:"StageOnMouseUpHandler",value:function(e){this.state.isWallResizingNow&&this.setState({isWallResizingNow:!1,isDrawing:!1}),this.state.cncFlag&&this.setState({isDrawing:!1,cursorCoords:{startX:this.state.cursorCoords.startX,startY:this.state.cursorCoords.startY,x:e.evt.clientX,y:e.evt.clientY},upDownCoords:{up:{x:e.evt.clientX,y:e.evt.clientY},down:this.state.upDownCoords.down}})}},{key:"selectLayerToList",value:function(e){var t=this.state,a=t.source,i=t.layersSelected;if(i.includes(e)){var n=i.indexOf(e);i.splice(n,1)}else i.push(e);a.length+1===i.length?this.setState({layersSelected:i,selectedLayer:-1}):this.setState({layersSelected:i,selectedLayer:0===i.length?-1:e})}},{key:"deleteWall",value:function(){alert("DELETING")}},{key:"cncFlagChange",value:function(){this.state.cncFlag&&M.Emitter.emit("borderCleanAction"),this.setState({cncFlag:!this.state.cncFlag})}},{key:"addElement",value:function(e,t){var a=this,i=this.state,n=i.source,r=i.selectedUnit,l=i.selectedLayer,s=i.layersSelected,o=(i.cncFlag,ae.State.selectedEl);if(void 0!==o){var c,u=this.layerService.getLayerIndexByTypeBinary(n[r].layers,o.type);if(-1===u&&(n[r].layers.push(this.layerService.getLayerSourceItem(n[r],o.type)),u=this.layerService.getLayerIndexByTypeBinary(n[r].layers,o.type)),(c=n[r].layers[u]).mapIconsType===Pe.DRAWING){if(c.type===F.STILLAGES){if(this.layerService.hasUnderChild(n[r].layers,o.type,e-this.state.moveStageParams.x,t-this.state.moveStageParams.y,o))return;void 0===c.stillages&&(n[r].layers[l].stillages=[]),c.stillages.push(this.stillageService.getStillageSourceItem(n[r].layers[u],{x:e-this.state.moveStageParams.x,y:t-this.state.moveStageParams.y},o.stillageType))}}else c.type===F.LIGHTING&&c.objects.push(this.objectService.getObjectSourceItem(n[r].layers[u],{x:e-this.state.moveStageParams.x,y:t-this.state.moveStageParams.y},o.photo));-1!==l?(s.push(u),n[r].layers[u]=c,this.forceUpdate((function(){return a.setState({source:n,selectedLayer:u})}))):(n[r].layers[u]=c,this.forceUpdate((function(){return a.setState({source:n,selectedLayer:-1})}))),this.forceUpdate((function(){return M.Emitter.emit("forceSetIsAddingChange",!0)}))}}},{key:"stageOnClickHandler",value:function(e){this.state.isAddCircleAdding?this.setState({isAddCircleAdding:!1}):this.state.cncFlag&&void 0!==ae.State.selectedEl&&this.addElement(e.clientX,e.clientY)}},{key:"ElementOnDrop",value:function(e){this.addElement(e.clientX,e.clientY)}},{key:"filtersOnChangeAction",value:function(e){}},{key:"mapSetState",value:function(){try{this.animates.forEach((function(e){return e.cancel()})),console.log(Je.data),this.setState({source:Je.data,lazyLoading:!1})}catch(e){console.error("[Component: Map] - invalid data!"),this.setState({lazyLoading:!1})}}},{key:"render",value:function(){var e=this;if(void 0!==this.state.source&&0!==this.state.source.length){for(var t=this.state,a=t.source,i=t.selectedLayer,n=t.selectedUnit,l=t.layersSelected,s=t.isDefectBrowsePanel,o=(t.isWallResizingNow,t.lazyLoading,[]),c=[],u=[],d=[],p=[],h=[],y=window.innerHeight,S=function(t){o.push(r.a.createElement("div",{key:a[t].key+"_unitNameDiv_"+t,onClick:function(){console.log("this"),e.setState({selectedUnit:t,selectedLayer:-1,layersSelected:[]})},className:"unit-title"},r.a.createElement("span",{key:a[t].key+"_unitNameDivSpan_"+t,style:{fontWeight:n===t?"bold":"normal",color:n===t?"#2f00ff":"black"}},a[t].title)))},f=0;f<a.length;f++)S(f);(c=[]).push(r.a.createElement("div",{key:a[n].key+"_layerNameDiv_-1",style:{fontWeight:-1===i?"bold":"normal",color:-1===i?"#2f00ff":"black"},className:"layer-title",onClick:function(){e.setState({layersSelected:l,selectedLayer:-1})}},"\u0432\u0441\u0435 \u0441\u043b\u043e\u0438"));for(var A,E,m,k,v=function(t){c.push(r.a.createElement("div",{key:a[n].layers[t].key+"_layerNameDiv_"+t,style:{fontWeight:l.includes(t,0)?"bold":"normal",color:l.includes(t,0)?"#2f00ff":"black"},onClick:function(){e.selectLayerToList(t)},className:"layer-title"},r.a.createElement("input",{key:a[n].layers[t].key+"_layerNameDivInput_"+t,onChange:function(){console.log(t)},style:{outline:"none",marginRight:5},checked:l.includes(t,0),type:"checkbox"}),a[n].layers[t].title))},L=0;L<a[n].layers.length;L++)v(L);if(-1===i){a[n].layers.forEach((function(t){if(void 0!==t.texts&&t.texts.forEach((function(e){d.push(r.a.createElement(je,{key:e.key,source:e}))})),void 0!==t.objects)for(var i=0;i<t.objects.length;i++)u.push(r.a.createElement(_e,{key:t.objects[i].key,source:t.objects[i]}));if(void 0!==t.stillages)for(var l=a[n].layers[e.layerService.getLayerIndexByTypeBinary(a[n].layers,F.STILLAGES)].stillages,s=0;s<t.stillages.length;s++)p.push(r.a.createElement(q,{key:t.stillages[s].key,source:t.stillages[s],mapStillages:l}));if(void 0!==t.walls)for(var o=0;o<t.walls.length;o++)h.push(r.a.createElement(te,{key:t.walls[o].key,source:t.walls[o]}));0}))}else 0!==this.state.layersSelected.length&&l.forEach((function(e){if(void 0!==a[n].layers[e]){if(void 0!==a[n].layers[e].stillages)for(var t=0;t<a[n].layers[e].stillages.length;t++)p.push(r.a.createElement(q,{key:a[n].layers[e].stillages[t].key,source:a[n].layers[e].stillages[t],mapStillages:a[n].layers[e].stillages}));if(void 0!==a[n].layers[e].walls)for(var i=0;i<a[n].layers[e].walls.length;i++){var l=a[n].layers[e].walls[i];h.push(r.a.createElement(te,{key:l.key,source:a[n].layers[e].walls[i]}))}if(void 0!==a[n].layers[e].objects)for(var s=0;s<a[n].layers[e].objects.length;s++)h.push(r.a.createElement(_e,{key:a[n].layers[e].objects[s].key,source:a[n].layers[e].objects[s]}));void 0!==a[n].layers[e].texts&&a[n].layers[e].texts.forEach((function(e){return d.push(r.a.createElement(je,{key:e.key,source:e}))}))}}));A=r.a.createElement("div",{id:"units-block",style:{background:"#E0E0E0"},className:"units-selector"},r.a.createElement("div",{style:{background:""},className:"unit-header-title"},r.a.createElement("span",{style:{height:"50%"}},"\u0432\u044b\u0431\u043e\u0440 \u0431\u043b\u043e\u043a\u0430")),r.a.createElement("div",{style:{background:""},className:"unit-content"},o)),E=r.a.createElement("div",{id:"filters-block",className:"filters-selector",style:{background:"#E0E0E0"}},r.a.createElement("div",{style:{background:""},className:"filter-header-title"},r.a.createElement("span",{style:{height:"50%"}},"\u0444\u0438\u043b\u044c\u0442\u0440\u044b")),r.a.createElement("div",{style:{background:""},className:"filter-content"},r.a.createElement("div",{className:"input-checkbox"},r.a.createElement("div",{style:{}},r.a.createElement("input",{onChange:function(){return e.filtersOnChangeAction("onlyRed")},style:{height:"50%"},type:"checkbox",name:"option2",value:"a2"})),r.a.createElement("div",{style:{height:"100%",fontSize:"0.9vw",paddingLeft:"2%",display:"flex"}},"\u0442\u043e\u043b\u044c\u043a\u043e \u043e\u043f\u0430\u0441\u043d\u044b\u0435")),r.a.createElement("div",{className:"input-checkbox"},r.a.createElement("div",{style:{}},r.a.createElement("input",{onChange:function(){return e.filtersOnChangeAction("onlyRed")},style:{height:"50%"},type:"checkbox",name:"option2",value:"a2"})),r.a.createElement("div",{style:{height:"100%",fontSize:"0.9vw",paddingLeft:"2%",display:"flex"}},"\u0443\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f")))),m=r.a.createElement(re,{source:Ge}),s&&(k=r.a.createElement(De,{parentSource:this.state.selectedStillage,source:this.state.selectedVik}));var T=!1;void 0!==ae.State.selectedEl&&void 0!==ae.State.selectedEl.type&&ae.State.selectedEl.type===F.WALLS&&(T=!0);var O=[];return h.forEach((function(e){-1===O.indexOf(e.key.toString())&&O.push(e.key.toString())})),h=h.filter((function(e,t){return t===O.indexOf(e.key.toString())})),[r.a.createElement("div",{key:this.state.parentKey+"_mapWrapper_div",className:"map-wrapper",onDragOver:function(e){e.preventDefault(),e.stopPropagation()}},r.a.createElement("div",{className:"stage-wrapper",key:this.state.parentKey+"_stageWrapper_div",onDrop:function(t){e.ElementOnDrop(t)},onClick:function(t){e.stageOnClickHandler(t)},onMouseMove:function(t){e.MapWrapperOnMouseMove(t)},onTouchMove:function(t){e.MapWrapperOnMouseMove(t)},onMouseUp:function(t){e.wallLabelButtonInteractionWayUp(t)},id:"stageWrapper"},r.a.createElement(g.Stage,{key:this.state.parentKey+"_mapStage_stage",draggable:!this.state.isDrawing&&!this.state.isShapeMovingNow,onTouchMove:T?function(t){e.StageOnMouseMoveHandler(t)}:function(){},onTouchStart:T?function(t){e.StageOnMouseDownHandler(t)}:function(){},onTouchEnd:T?function(t){e.StageOnMouseUpHandler(t)}:function(){},onDragEnd:function(t){e.stageDragEnd(t.target.x(),t.target.y())},onMouseMove:T?function(t){e.StageOnMouseMoveHandler(t)}:function(){},onMouseDown:T?function(t){e.StageOnMouseDownHandler(t)}:function(){},onMouseUp:T?function(t){e.StageOnMouseUpHandler(t)}:function(){},style:{cursor:"pointer"},width:window.innerWidth,height:y,onWheel:this.handleWheel,scaleX:this.state.stageScale,scaleY:this.state.stageScale,x:this.state.stageX,y:this.state.stageY},r.a.createElement(g.Layer,null,h,p,u,d))),m,r.a.createElement("div",{key:this.state.parentKey+"_rightBarsWrapper_div",className:"right-bars-wrapper"},A,E),r.a.createElement("div",{id:"layers-block",key:this.state.parentKey+"_layersSelectorWrapper_div",style:{background:"#E0E0E0"},className:"layers-selector-wrapper"},c),k)]}}}]),t}(r.a.PureComponent),Ve=a(65),qe=a.n(Ve);!function(e){e.LOG="LOG",e.ERROR="ERROR"}(Ke||(Ke={}));var $e=Ke,et=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,null,[{key:"handle",value:function(e,t,a){t===$e.LOG?console.log("["+t+"] in "+e+" - "+a):t===$e.ERROR&&console.error("["+t+"] in "+e+" - "+a)}}]),e}(),tt=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).MapAPI=void 0,a.data=void 0;var i=a.props.location.search,n=qe.a.parse(i);try{a.state={mapSource:[],resoultID:parseInt(n.resoultID.toString())},Xe.data={resoultID:a.state.resoultID},et.handle("MapView",$e.LOG,"url params parsed successfully!")}catch(r){et.handle("MapView",$e.ERROR,"error while parsing parameters or they are empty!")}return a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;Je.GetMap(),setTimeout((function(){e.forceUpdate()}),5e3)}},{key:"render",value:function(){return isNaN(Xe.data.resoultID),r.a.createElement(Qe,{key:"MapView_component",parentKey:"MapView_component",source:Je.data})}}]),t}(r.a.Component),at=function(e){function t(e){return Object(o.a)(this,t),Object(u.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:y}),r.a.createElement(h.a,{path:"/map",component:tt}))}}]),t}(r.a.Component),it=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Router-wrapper"},r.a.createElement(at,null)))},nt=a(34);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(nt.a,null,r.a.createElement(it,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},51:function(e,t,a){e.exports=a.p+"static/media/compStillage.846f1a4d.png"},52:function(e,t,a){e.exports=a.p+"static/media/compStillageTop.f39afa71.png"},53:function(e,t,a){e.exports=a.p+"static/media/compStillageVertLeft.b6a5bf51.png"},54:function(e,t,a){e.exports=a.p+"static/media/compStillageVertRight.6a9ab3df.png"},55:function(e,t,a){e.exports=a.p+"static/media/compStillageSmall.1a2e3295.png"},56:function(e,t,a){e.exports=a.p+"static/media/compStillageSmallTop.c48e2b42.png"},57:function(e,t,a){e.exports=a.p+"static/media/compStillageSmallVertLeft.1dd7fb81.png"},58:function(e,t,a){e.exports=a.p+"static/media/compStillageSmallVertRight.8df13d91.png"},59:function(e,t,a){e.exports=a.p+"static/media/lightbulb.0d6c72e2.png"},60:function(e,t,a){e.exports=a.p+"static/media/idea.dc28b75b.png"},61:function(e,t){e.exports="data:image/png;base64,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"},62:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAASCAYAAADCKCelAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAQElEQVRIie3WwQkAIBADQU/sv8PUElvQRzgOdipY8krZ9hpidwf8IDblSOpueDZqWWJTiE0hNoXYlOJ1hRCbcgGgSgq0krAfQgAAAABJRU5ErkJggg=="},63:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAArCAAAAABQ0IfuAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4wsdDTQXuYaYvAAAACNJREFUKM9j/M/AwHCXAQaUGRgYmBgwwKjQqNCoEAMDAwMDAOQ4AlV10vM8AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTExLTI5VDEzOjUyOjIzKzAwOjAwSXrULwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMS0yOVQxMzo1MjoyMyswMDowMDgnbJMAAAAASUVORK5CYII="},64:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABYSURBVHgBrZLdCQAgCISlSdp/CUdplKvAl8Kfsg6iiPtE9AhAHYfnTYEWrzymmgcL1MTL+4cKmx4PDgtrhpNuLDiGDNiECv1QqtXUcFLrAJIBwGPkGJch72suiwSbLEBAAAAAAElFTkSuQmCC"},68:function(e,t,a){e.exports=a(143)},73:function(e,t,a){},74:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.2ea3587f.chunk.js.map